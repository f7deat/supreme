(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[63],{97462:function(Qe,Re,v){"use strict";var g=v(9715),c=v(93766),W=v(22122),Ee=v(28991),ae=v(81253),Fe=v(67294),be=v(88306),r=v(8880),he=v(10279),me=v(41036),le=v(92210),Ie=["name","children","ignoreFormListField"],Se=function(oe){var U=oe.name,J=oe.children,ee=oe.ignoreFormListField,ge=(0,ae.Z)(oe,Ie),ne=(0,Fe.useContext)(me.Z),X=(0,Fe.useContext)(he.J),ce=(0,Fe.useMemo)(function(){return X.name===void 0?U:U.map(function(re){return[X.listName,re].flat(1)})},[X.listName,X.name,U]);return Fe.createElement(c.Z.Item,(0,W.Z)({},ge,{noStyle:!0,shouldUpdate:function(Ce,pe){var k=ce;return ee&&Array.isArray(X.listName)&&X.listName.length>0&&(k=ce.map(function(Y){return Array.isArray(Y)?Y.slice(X.listName.length):Y})),k.some(function(Y){var L=Array.isArray(Y)?Y:[Y];return(0,be.Z)(Ce,L)!==(0,be.Z)(pe,L)})}}),function(re){if(X.name===void 0){var Ce=ce.reduce(function(Y,L){var se,q=ne==null||(se=ne.getFieldsFormatValue)===null||se===void 0?void 0:se.call(ne,[L]),Me=re.getFieldsValue([L]);return(0,le.T)({},Y,Me,q)},{});return J==null?void 0:J((0,Ee.Z)({},Ce),re)}if(ee){var pe=U.reduce(function(Y,L){var se=[L].flat(1),q=re.getFieldValue(se);return(0,r.Z)(Y,[L].flat(1),q,!1)},{});return J==null?void 0:J((0,Ee.Z)({},pe),re)}var k=U.reduce(function(Y,L){var se=[X.listName,L].flat(1),q=re.getFieldValue(se);return(0,r.Z)(Y,[L].flat(1),q,!1)},{});return J==null?void 0:J((0,Ee.Z)({},k),re)})};Re.Z=Se},88063:function(Qe,Re,v){"use strict";v.d(Re,{Z:function(){return pn}});var g=v(22122),c=v(28991),W=v(81253),Ee=v(6610),ae=v(5991),Fe=v(10379),be=v(44144),r=v(67294),he=v(94233),me=v(51890),le=v(90484),Ie="valueType request plain renderFormItem render text formItemProps valueEnum",Se="fieldProps isDefaultDom groupProps contentRender submitterProps submitter";function ye(s){var e="".concat(Ie," ").concat(Se).split(/[\s\n]+/),n={};return Object.keys(s||{}).forEach(function(t){e.includes(t)||(n[t]=s[t])}),n}var oe=v(51812),U=v(94237),J=v(77883),ee=v(70507),ge=v(49323),ne=v.n(ge);function X(s){return s===0?null:s>0?"+":"-"}function ce(s){return s===0?"#595959":s>0?"#ff4d4f":"#52c41a"}function re(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return e&&e>0?s.toFixed(e):s}var Ce=function(e,n){var t=e.text,o=e.prefix,l=e.precision,u=e.suffix,a=u===void 0?"%":u,i=e.mode,f=e.showColor,d=f===void 0?!1:f,h=e.render,m=e.renderFormItem,Z=e.fieldProps,F=e.placeholder,p=e.showSymbol,E=(0,r.useMemo)(function(){return typeof t=="string"&&t.includes("%")?ne()(t.replace("%","")):ne()(t)},[t]),x=(0,r.useMemo)(function(){return typeof p=="function"?p==null?void 0:p(t):p},[p,t]);if(i==="read"){var b=d?{color:ce(E)}:{},C=r.createElement("span",{style:b,ref:n},o&&r.createElement("span",null,o),x&&r.createElement(r.Fragment,null,X(E)," "),re(Math.abs(E),l),a&&a);return h?h(t,(0,c.Z)((0,c.Z)({mode:i},Z),{},{prefix:o,precision:l,showSymbol:x,suffix:a}),C):C}if(i==="edit"||i==="update"){var S=r.createElement(ee.Z,(0,g.Z)({ref:n,formatter:function(y){return y&&o?"".concat(o," ").concat(y).replace(/\B(?=(\d{3})+(?!\d)$)/g,","):y},parser:function(y){return y?y.replace(/.*\s|,/g,""):""},placeholder:F},Z));return m?m(t,(0,c.Z)({mode:i},Z),S):S}return null},pe=r.forwardRef(Ce),k=v(96156),Y=v(84305),L=v(39559),se=v(94184),q=v.n(se),Me=v(76592),Je=function(e,n){var t,o=e.border,l=o===void 0?!1:o,u=e.children,a=(0,r.useContext)(L.ZP.ConfigContext),i=a.getPrefixCls,f=i("pro-field-index-column");return r.createElement("div",{ref:n,className:q()(f,(t={},(0,k.Z)(t,"".concat(f,"-border"),l),(0,k.Z)(t,"top-three",u>3),t))},u)},Pe=r.forwardRef(Je),Cn=v(34669),hr=v(54458);function gr(s){return s===100?"success":s<0?"exception":s<100?"active":"normal"}var pr=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.plain,a=e.renderFormItem,i=e.fieldProps,f=e.placeholder,d=(0,r.useMemo)(function(){return typeof t=="string"&&t.includes("%")?ne()(t.replace("%","")):ne()(t)},[t]);if(o==="read"){var h=r.createElement(hr.Z,(0,g.Z)({ref:n,size:"small",style:{minWidth:100,maxWidth:320},percent:d,steps:u?10:void 0,status:gr(d)},i));return l?l(d,(0,c.Z)({mode:o},i),h):h}if(o==="edit"||o==="update"){var m=r.createElement(ee.Z,(0,g.Z)({ref:n,placeholder:f},i));return a?a(t,(0,c.Z)({mode:o},i),m):m}return null},Xe=r.forwardRef(pr),Pn=v(20136),ke=v(55241),j=v(28481),Ye=v(21770),Zr=["content","numberFormatOptions","numberPopoverRender"],Er=["text","mode","locale","render","renderFormItem","fieldProps","proFieldKey","plain","valueEnum","placeholder","customSymbol","numberFormatOptions","numberPopoverRender"],Fr=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency"}),Cr={style:"currency",currency:"USD"},Pr={style:"currency",currency:"RUB"},xr={style:"currency",currency:"RSD"},yr={style:"currency",currency:"MYR"},qe={default:Fr,"zh-Hans-CN":{currency:"CNY",style:"currency"},"en-US":Cr,"ru-RU":Pr,"ms-MY":yr,"sr-RS":xr},_e=function(e,n,t,o){var l=n;return typeof l=="string"&&(l=Number(l)),!l&&l!==0?"":new Intl.NumberFormat(e||"zh-Hans-CN",(0,c.Z)((0,c.Z)({},qe[e||"zh-Hans-CN"]||qe["zh-Hans-CN"]),{},{maximumFractionDigits:t},o)).format(l)},$e=2,br=r.forwardRef(function(s,e){var n=s.content,t=s.numberFormatOptions,o=s.numberPopoverRender,l=(0,W.Z)(s,Zr),u=(0,Ye.Z)(function(){return l.defaultValue},{value:l.value,onChange:l.onChange}),a=(0,j.Z)(u,2),i=a[0],f=a[1],d=n==null?void 0:n((0,c.Z)((0,c.Z)({},l),{},{value:i}));return r.createElement(ke.Z,{placement:"topLeft",visible:d?void 0:!1,trigger:"focus",content:d,getPopupContainer:function(m){return(m==null?void 0:m.parentElement)||document.body}},r.createElement(ee.Z,(0,g.Z)({ref:e},l,{value:i,onChange:f})))}),Sr=function(e,n){var t,o=e.text,l=e.mode,u=e.locale,a=u===void 0?"zh-Hans-CN":u,i=e.render,f=e.renderFormItem,d=e.fieldProps,h=e.proFieldKey,m=e.plain,Z=e.valueEnum,F=e.placeholder,p=e.customSymbol,E=e.numberFormatOptions,x=E===void 0?d==null?void 0:d.numberFormatOptions:E,b=e.numberPopoverRender,C=b===void 0?(d==null?void 0:d.numberPopoverRender)||!1:b,S=(0,W.Z)(e,Er),D=(t=d==null?void 0:d.precision)!==null&&t!==void 0?t:$e,y=(0,U.YB)();a&&U.Go[a]&&(y=U.Go[a]);var R=(0,r.useMemo)(function(){if(p)return p;var M=y.getMessage("moneySymbol","\uFFE5");if(!(S.moneySymbol===!1||d.moneySymbol===!1))return M},[d.moneySymbol,y,S.moneySymbol,p]);if(l==="read"){var T=r.createElement("span",{ref:n},_e(R?a:!1,o,D,x));return i?i(o,(0,c.Z)({mode:l},d),T):T}if(l==="edit"||l==="update"){var A=r.createElement(br,(0,g.Z)({content:function(N){var P,I;if(C!==!1&&!!N.value){var V=new RegExp("/B(?=(d{".concat(3+(D-$e),"})+(?!d))/g")),O=_e(R?a:!1,(P=N.value)===null||P===void 0||(I=P.toString())===null||I===void 0?void 0:I.replace(V,","),D,(0,c.Z)((0,c.Z)({},x),{},{notation:"compact"}));return typeof C=="function"?C==null?void 0:C(N,O):O}},ref:n,precision:D,formatter:function(N){if(N&&R){var P=new RegExp("/B(?=(d{".concat(3+(D-$e),"})+(?!d))/g"));return"".concat(R," ").concat(N).replace(P,",")}return N},parser:function(N){return R&&N?N.replace(new RegExp("\\".concat(R,"\\s?|(,*)"),"g"),""):N},placeholder:F},d));return f?f(o,(0,c.Z)({mode:l},d),A):A}return null},er=r.forwardRef(Sr),xn=v(14965),Oe=v(14072),Dr=v(30381),_=v.n(Dr),Rr=v(74763),Ir=function s(e,n){return(0,Rr.Z)(e)||_().isMoment(e)?e:Array.isArray(e)?e.map(function(t){return s(t,n)}):_()(e,n)},Ne=Ir,ze=v(76422),yn=v(81992),Mr=function(e,n){var t=e.text,o=e.mode,l=e.format,u=e.label,a=e.light,i=e.render,f=e.renderFormItem,d=e.plain,h=e.showTime,m=e.fieldProps,Z=e.picker,F=e.bordered,p=(0,U.YB)(),E=(0,r.useContext)(L.ZP.SizeContext),x=(0,r.useContext)(L.ZP.ConfigContext),b=x.getPrefixCls,C=b("pro-field-date-picker"),S=(0,r.useState)(!1),D=(0,j.Z)(S,2),y=D[0],R=D[1];if(o==="read"){var T=t?_()(t).format(m.format||l||"YYYY-MM-DD"):"-";return i?i(t,(0,c.Z)({mode:o},m),r.createElement(r.Fragment,null,T)):r.createElement(r.Fragment,null,T)}if(o==="edit"||o==="update"){var A,M=m.disabled,N=m.value,P=m.onChange,I=m.allowClear,V=m.placeholder,O=V===void 0?p.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"):V,H=Ne(N);if(a){var K=H&&H.format(l)||"";A=r.createElement("div",{className:"".concat(C,"-light"),onClick:function(){R(!0)}},r.createElement(Oe.Z,(0,g.Z)({picker:Z,showTime:h,format:l,ref:n},m,{value:H,onChange:function($){P==null||P($),setTimeout(function(){R(!1)},0)},onOpenChange:R,open:y})),r.createElement(ze.Z,{label:u,disabled:M,placeholder:O,size:E,value:K,onClear:function(){P==null||P(null)},allowClear:I,bordered:F,expanded:y}))}else A=r.createElement(Oe.Z,(0,g.Z)({picker:Z,showTime:h,format:l,placeholder:O,bordered:d===void 0?!0:!d,ref:n},m,{value:H}));return f?f(t,(0,c.Z)({mode:o},m),A):A}return null},De=r.forwardRef(Mr),bn=v(22385),Or=v(69713),Nr=function(e){var n=e.text,t=e.mode,o=e.render,l=e.renderFormItem,u=e.format,a=e.fieldProps,i=(0,U.YB)();if(t==="read"){var f=r.createElement(Or.Z,{title:_()(n).format((a==null?void 0:a.format)||u||"YYYY-MM-DD HH:mm:ss")},_()(n).fromNow());return o?o(n,(0,c.Z)({mode:t},a),r.createElement(r.Fragment,null,f)):r.createElement(r.Fragment,null,f)}if(t==="edit"||t==="update"){var d=i.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),h=Ne(a.value),m=r.createElement(Oe.Z,(0,g.Z)({placeholder:d,showTime:!0},a,{value:h}));return l?l(n,(0,c.Z)({mode:t},a),m):m}return null},Tr=Nr,Ar=function(e,n){var t=e.text,o=e.mode,l=e.format,u=e.render,a=e.renderFormItem,i=e.plain,f=e.showTime,d=e.fieldProps,h=(0,U.YB)(),m=Array.isArray(t)?t:[],Z=(0,j.Z)(m,2),F=Z[0],p=Z[1],E=(0,r.useCallback)(function(y){if(typeof(d==null?void 0:d.format)=="function"){var R;return d==null||(R=d.format)===null||R===void 0?void 0:R.call(d,y)}return(d==null?void 0:d.format)||l||"YYYY-MM-DD"},[d,l]),x=F?_()(F).format(E(_()(F))):"",b=p?_()(p).format(E(_()(p))):"";if(o==="read"){var C=r.createElement("div",{ref:n},r.createElement("div",null,x||"-"),r.createElement("div",null,b||"-"));return u?u(t,(0,c.Z)({mode:o},d),r.createElement("span",null,C)):C}if(o==="edit"||o==="update"){var S=Ne(d.value),D=r.createElement(Oe.Z.RangePicker,(0,g.Z)({ref:n,format:l,showTime:f,placeholder:[h.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),h.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")],bordered:i===void 0?!0:!i},d,{value:S}));return a?a(t,(0,c.Z)({mode:o},d),D):D}return null},rr=r.forwardRef(Ar),Sn=v(47673),Ze=v(4107),wr=function(e,n){if(typeof e!="string")return e;try{if(n==="json")return JSON.stringify(JSON.parse(e),null,2)}catch(t){}return e},Vr=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.language,a=u===void 0?"text":u,i=e.renderFormItem,f=e.plain,d=e.fieldProps,h=wr(t,a);if(o==="read"){var m=r.createElement("pre",(0,g.Z)({ref:n},d,{style:(0,c.Z)({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,backgroundColor:"#f6f8fa",borderRadius:3,width:"min-content"},d.style)}),r.createElement("code",null,h));return l?l(h,(0,c.Z)((0,c.Z)({mode:o},d),{},{ref:n}),m):m}if(o==="edit"||o==="update"){var Z=r.createElement(Ze.Z.TextArea,(0,g.Z)({rows:5},d,{ref:n}));return f&&(Z=r.createElement(Ze.Z,(0,g.Z)({},d,{ref:n}))),i?i(h,(0,c.Z)((0,c.Z)({mode:o},d),{},{ref:n}),Z):Z}return null},tr=r.forwardRef(Vr),Dn=v(39002),nr=v(68351),Br=function(e,n){var t=e.text,o=e.mode,l=e.light,u=e.label,a=e.format,i=e.render,f=e.renderFormItem,d=e.plain,h=e.fieldProps,m=(0,r.useState)(!1),Z=(0,j.Z)(m,2),F=Z[0],p=Z[1],E=(0,r.useContext)(L.ZP.SizeContext),x=(0,r.useContext)(L.ZP.ConfigContext),b=x.getPrefixCls,C=b("pro-field-date-picker"),S=(h==null?void 0:h.format)||a||"HH:mm:ss",D=_().isMoment(t)||typeof t=="number";if(o==="read"){var y=r.createElement("span",{ref:n},t?_()(t,D?void 0:S).format(S):"-");return i?i(t,(0,c.Z)({mode:o},h),r.createElement("span",null,y)):y}if(o==="edit"||o==="update"){var R,T=h.disabled,A=h.onChange,M=h.placeholder,N=h.allowClear,P=h.value,I=Ne(P,S);if(l){var V=I&&I.format(S)||"";R=r.createElement("div",{className:"".concat(C,"-light"),onClick:function(){p(!0)}},r.createElement(nr.Z,(0,g.Z)({value:I,format:a,ref:n},h,{onChange:function(H){A==null||A(H),setTimeout(function(){p(!1)},0)},onOpenChange:p,open:F})),r.createElement(ze.Z,{label:u,disabled:T,placeholder:M,size:E,value:V,allowClear:N,onClear:function(){A==null||A(null)},expanded:F}))}else R=r.createElement(Oe.Z.TimePicker,(0,g.Z)({ref:n,format:a,bordered:d===void 0?!0:!d},h,{value:I}));return f?f(t,(0,c.Z)({mode:o},h),R):R}return null},Yr=function(e){var n=e.text,t=e.mode,o=e.format,l=e.render,u=e.renderFormItem,a=e.plain,i=e.fieldProps,f=(i==null?void 0:i.format)||o||"HH:mm:ss",d=Array.isArray(n)?n:[],h=(0,j.Z)(d,2),m=h[0],Z=h[1],F=_().isMoment(m)||typeof m=="number",p=_().isMoment(Z)||typeof Z=="number",E=m?_()(m,F?void 0:f).format(f):"",x=Z?_()(Z,p?void 0:f).format(f):"";if(t==="read"){var b=r.createElement("div",null,r.createElement("div",null,E||"-"),r.createElement("div",null,x||"-"));return l?l(n,(0,c.Z)({mode:t},i),r.createElement("span",null,b)):b}if(t==="edit"||t==="update"){var C=i.value,S=Ne(C,f),D=r.createElement(nr.Z.RangePicker,(0,g.Z)({format:o,bordered:a===void 0?!0:!a},i,{value:S}));return u?u(n,(0,c.Z)({mode:t},i),D):D}return null},Lr=r.forwardRef(Br),Kr=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.renderFormItem,a=e.fieldProps,i=e.emptyText,f=i===void 0?"-":i,d=(0,U.YB)(),h=(0,r.useRef)();if((0,r.useImperativeHandle)(n,function(){return h.current}),(0,r.useEffect)(function(){if(a.autoFocus){var E;h==null||(E=h.current)===null||E===void 0||E.focus()}},[a.autoFocus]),o==="read"){var m=t!=null?t:f;if(l){var Z;return(Z=l(t,(0,c.Z)({mode:o},a),r.createElement(r.Fragment,null,(a==null?void 0:a.prefix)||"",m,(a==null?void 0:a.suffix)||"")))!==null&&Z!==void 0?Z:f}return r.createElement(r.Fragment,null,(a==null?void 0:a.prefix)||"",m,(a==null?void 0:a.suffix)||"")}if(o==="edit"||o==="update"){var F=d.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),p=r.createElement(Ze.Z,(0,g.Z)({ref:h,placeholder:F,allowClear:!0},a));return u?u(t,(0,c.Z)({mode:o},a),p):p}return null},$r=r.forwardRef(Kr),zr=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.renderFormItem,a=e.fieldProps,i=(0,U.YB)();if(o==="read"){var f=r.createElement("span",{ref:n},t!=null?t:"-");return l?l(t,(0,c.Z)({mode:o},a),f):f}if(o==="edit"||o==="update"){var d=r.createElement(Ze.Z.TextArea,(0,g.Z)({ref:n,rows:3,onKeyPress:function(m){m.key==="Enter"&&m.stopPropagation()},placeholder:i.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165")},a));return u?u(t,(0,c.Z)({mode:o},a),d):d}return null},Hr=r.forwardRef(zr),Rn=v(49111),Te=v(19650),Ur=v(95357),Wr=v(88633),jr=["text","mode","render","renderFormItem","fieldProps","proFieldKey"],Gr=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.renderFormItem,a=e.fieldProps,i=e.proFieldKey,f=(0,W.Z)(e,jr),d=(0,U.YB)(),h=(0,Ye.Z)(function(){return f.visible||!1},{value:f.visible,onChange:f.onVisible}),m=(0,j.Z)(h,2),Z=m[0],F=m[1];if(o==="read"){var p=r.createElement(r.Fragment,null,"-");return t&&(p=r.createElement(Te.Z,null,r.createElement("span",{ref:n},Z?t:"\uFF0A \uFF0A \uFF0A \uFF0A \uFF0A"),r.createElement("a",{onClick:function(){return F(!Z)}},Z?r.createElement(Ur.Z,null):r.createElement(Wr.Z,null)))),l?l(t,(0,c.Z)({mode:o},a),p):p}if(o==="edit"||o==="update"){var E=r.createElement(Ze.Z.Password,(0,g.Z)({placeholder:d.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:n},a));return u?u(t,(0,c.Z)({mode:o},a),E):E}return null},Qr=r.forwardRef(Gr),ar=function(e){return e.map(function(n,t){return r.isValidElement(n)?r.cloneElement(n,(0,c.Z)({key:t},n==null?void 0:n.props)):r.createElement(r.Fragment,{key:t},n)})},Jr=function(e){var n=e.text,t=e.mode,o=e.render,l=e.fieldProps,u=(0,r.useContext)(L.ZP.ConfigContext),a=u.getPrefixCls,i=a("pro-field-option");if(o){var f=o(n,(0,c.Z)({mode:t},l),r.createElement(r.Fragment,null));return!f||(f==null?void 0:f.length)<1||!Array.isArray(f)?null:r.createElement(Te.Z,{size:16,className:i},ar(f))}return!n||!Array.isArray(n)?r.isValidElement(n)?n:null:r.createElement(Te.Z,{size:16,className:i},ar(n))},Xr=Jr,In=v(20228),Le=v(11382),kr=v(87757),lr=v.n(kr),qr=v(92137),Ae=v(85061),or=v(56725),ir=v(60249),_r=function(e,n,t){return(0,ir.Z)(e,n,t)};function ur(s,e){var n=(0,r.useRef)();return _r(s,n.current,e)||(n.current=s),n.current}function et(s,e,n){(0,r.useEffect)(s,ur(e||[],n))}function Mn(s,e,n,t){var o=useDebounceFn(_asyncToGenerator(_regeneratorRuntime.mark(function l(){return _regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:s();case 1:case"end":return a.stop()}},l)})),[],t||16);useEffect(function(){o.run()},ur(e||[],n))}var rt=et,tt=v(10178),nt=v(40821),On=v(43358),Ke=v(34041),at=v(76570),Nn=v(26435),lt=["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue"],dr=function(e,n){return(0,le.Z)(n)!=="object"?e[n]||n:e[n==null?void 0:n.value]||n.label},ot=function(e,n){var t=e.label,o=e.prefixCls,l=e.onChange,u=e.value,a=e.mode,i=e.children,f=e.defaultValue,d=e.size,h=e.showSearch,m=e.disabled,Z=e.style,F=e.className,p=e.bordered,E=e.options,x=e.onSearch,b=e.allowClear,C=e.labelInValue,S=(0,W.Z)(e,lt),D=e.placeholder,y=D===void 0?t:D,R=(0,r.useContext)(L.ZP.ConfigContext),T=R.getPrefixCls,A=T("pro-field-select-light-select"),M=(0,r.useState)(!1),N=(0,j.Z)(M,2),P=N[0],I=N[1],V=(0,r.useState)(""),O=(0,j.Z)(V,2),H=O[0],K=O[1],Q=(0,r.useMemo)(function(){var w={};return E==null||E.forEach(function(te){var z=te.label,G=te.value;w[G]=z||G}),w},[E]),$=Array.isArray(u)?u.map(function(w){return dr(Q,w)}):dr(Q,u);return r.createElement("div",{className:q()(A,(0,k.Z)({},"".concat(A,"-searchable"),h),F),style:Z,onClick:function(){m||I(!0)}},r.createElement(Ke.Z,(0,g.Z)({},S,{allowClear:b,value:u,mode:a,labelInValue:C,size:d,disabled:m,onChange:function(te,z){l==null||l(te,z),a!=="multiple"&&setTimeout(function(){I(!1)},0)},bordered:p,showSearch:h,onSearch:x,style:Z,dropdownRender:function(te){return r.createElement("div",{ref:n},h&&r.createElement("div",{style:{margin:"4px 8px"}},r.createElement(Ze.Z,{value:H,allowClear:b,onChange:function(G){K(G.target.value.toLowerCase()),x==null||x(G.target.value)},onKeyDown:function(G){G.stopPropagation()},style:{width:"100%"},prefix:r.createElement(at.Z,null)})),te)},open:P,onDropdownVisibleChange:I,prefixCls:o,options:H?E==null?void 0:E.filter(function(w){return String(w.label).toLowerCase().includes(H)||w.value.toLowerCase().includes(H)}):E})),r.createElement(ze.Z,{ellipsis:!0,size:d,label:t,placeholder:y,disabled:m,expanded:P,bordered:p,allowClear:b,value:$||(u==null?void 0:u.label)||u,onClear:function(){l==null||l(void 0,void 0)}}))},it=r.forwardRef(ot),ut=["optionItemRender","mode","onSearch","onFocus","onChange","autoClearSearchValue","searchOnFocus","resetAfterSelect","optionFilterProp","optionLabelProp","className","disabled","options","fetchData","resetData","prefixCls","onClear","searchValue","showSearch"],dt=Ke.Z.Option,ct=Ke.Z.OptGroup,st=function(e,n){var t=e.optionItemRender,o=e.mode,l=e.onSearch,u=e.onFocus,a=e.onChange,i=e.autoClearSearchValue,f=e.searchOnFocus,d=f===void 0?!1:f,h=e.resetAfterSelect,m=h===void 0?!1:h,Z=e.optionFilterProp,F=Z===void 0?"label":Z,p=e.optionLabelProp,E=p===void 0?"label":p,x=e.className,b=e.disabled,C=e.options,S=e.fetchData,D=e.resetData,y=e.prefixCls,R=e.onClear,T=e.searchValue,A=e.showSearch,M=(0,W.Z)(e,ut),N=(0,r.useState)(T),P=(0,j.Z)(N,2),I=P[0],V=P[1],O=(0,r.useRef)();(0,r.useImperativeHandle)(n,function(){return O.current}),(0,r.useEffect)(function(){if(M.autoFocus){var z;O==null||(z=O.current)===null||z===void 0||z.focus()}},[M.autoFocus]),(0,r.useEffect)(function(){V(T)},[T]);var H=(0,r.useContext)(L.ZP.ConfigContext),K=H.getPrefixCls,Q=K("pro-filed-search-select",y),$=q()(Q,x,(0,k.Z)({},"".concat(Q,"-disabled"),b)),w=function(G,B){return Array.isArray(G)&&G.length>0?G.map(function(ie,fe){var ue=B==null?void 0:B[fe],de=(ue==null?void 0:ue["data-item"])||{};return(0,c.Z)((0,c.Z)({},de),ie)}):[]},te=function z(G){return G.map(function(B){var ie=B.label,fe=B.value,ue=B.disabled,de=B.className,Be=B.optionType;return Be==="optGroup"?r.createElement(ct,{key:B.key||B.value,label:B.label},z((B==null?void 0:B.options)||(B==null?void 0:B.children)||[])):r.createElement(dt,(0,g.Z)({},B,{value:fe,key:fe||(ie==null?void 0:ie.toString()),disabled:ue,"data-item":B,className:"".concat(Q,"-option ").concat(de||""),label:B.label}),(t==null?void 0:t(B))||ie)})};return r.createElement(Ke.Z,(0,g.Z)({ref:O,className:$,allowClear:!0,disabled:b,mode:o,showSearch:A,searchValue:I,optionFilterProp:F,optionLabelProp:E,onClear:function(){R==null||R(),S(""),A&&V("")}},M,{onSearch:A?function(z){S(z),l==null||l(z),V(z)}:void 0,onChange:function(G,B){A&&i&&(S(""),l==null||l(""),V(""));for(var ie=arguments.length,fe=new Array(ie>2?ie-2:0),ue=2;ue<ie;ue++)fe[ue-2]=arguments[ue];if(!e.labelInValue){a==null||a.apply(void 0,[G,B].concat(fe));return}if(o!=="multiple"){var de=B&&B["data-item"]||{};a==null||a.apply(void 0,[(0,c.Z)((0,c.Z)({},G),de),B].concat(fe));return}var Be=w(G,B);a==null||a.apply(void 0,[Be,B].concat(fe)),m&&D()},onFocus:function(G){d&&S(""),u==null||u(G)}}),te(C||[]))},vt=r.forwardRef(st),Tn=v(54029),ve=v(79166),An=v(59189),ft={Success:function(e){var n=e.children;return r.createElement(ve.Z,{status:"success",text:n})},Error:function(e){var n=e.children;return r.createElement(ve.Z,{status:"error",text:n})},Default:function(e){var n=e.children;return r.createElement(ve.Z,{status:"default",text:n})},Processing:function(e){var n=e.children;return r.createElement(ve.Z,{status:"processing",text:n})},Warning:function(e){var n=e.children;return r.createElement(ve.Z,{status:"warning",text:n})},success:function(e){var n=e.children;return r.createElement(ve.Z,{status:"success",text:n})},error:function(e){var n=e.children;return r.createElement(ve.Z,{status:"error",text:n})},default:function(e){var n=e.children;return r.createElement(ve.Z,{status:"default",text:n})},processing:function(e){var n=e.children;return r.createElement(ve.Z,{status:"processing",text:n})},warning:function(e){var n=e.children;return r.createElement(ve.Z,{status:"warning",text:n})}},mt=function(e){var n=e.color,t=e.children;return r.createElement(ve.Z,{color:n,text:t})},ht=ft,wn=v(81539),gt=["value","text"],pt=["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey","params","label","bordered","id"],He=0,xe=function(e){return Et(e)==="map"?e:new Map(Object.entries(e||{}))},we=function s(e,n){if(Array.isArray(e))return r.createElement(Te.Z,null,e.map(function(i){return r.createElement(r.Fragment,{key:(i==null?void 0:i.value)||i},s(i,n))}));var t=xe(n);if(!t.has(e)&&!t.has("".concat(e)))return(e==null?void 0:e.label)||e;var o=t.get(e)||t.get("".concat(e));if(!o)return(e==null?void 0:e.label)||e;var l=o.status,u=o.color,a=ht[l||"Init"];return a?r.createElement(a,null,o.text):u?r.createElement(mt,{color:u},o.text):o.text||o},Zt=function(e){var n=e.label,t=e.words,o=".^$*+-?()[]{}\\|",l=(0,r.useContext)(L.ZP.ConfigContext),u=l.getPrefixCls,a=u("pro-select-item-option-content-light"),i=u("pro-select-item-option-content"),f=new RegExp(t.map(function(m){return m.split("").map(function(Z){return o.includes(Z)?"\\".concat(Z):Z}).join("")}).join("|"),"gi"),d=n.replace(f,"#@$&#"),h=d.split("#").map(function(m){return m[0]==="@"?r.createElement("span",{className:a},m.slice(1)):m});return r.createElement.apply(r,["div",{className:i}].concat((0,Ae.Z)(h)))};function Et(s){var e=Object.prototype.toString.call(s).match(/^\[object (.*)\]$/)[1].toLowerCase();return e==="string"&&(0,le.Z)(s)==="object"?"object":s===null?"null":s===void 0?"undefined":e}function Ue(s,e){var n,t;if(!e||(s==null||(n=s.label)===null||n===void 0?void 0:n.toString().toLowerCase().includes(e.toLowerCase()))||(s==null||(t=s.value)===null||t===void 0?void 0:t.toString().toLowerCase().includes(e.toLowerCase())))return!0;if(s.optionType==="optGroup"&&(s.children||s.options)){var o=[].concat((0,Ae.Z)(s.children||[]),[s.options||[]]).find(function(l){return Ue(l,e)});if(o)return!0}return!1}var Ft=function(e){var n=[],t=xe(e);return t.forEach(function(o,l){var u=t.get(l)||t.get("".concat(l));if(!!u){if((0,le.Z)(u)==="object"&&(u==null?void 0:u.text)){n.push({text:u==null?void 0:u.text,value:l,disabled:u.disabled});return}n.push({text:u,value:l})}}),n},Ve=function(e){var n,t,o,l=(0,r.useState)(void 0),u=(0,j.Z)(l,2),a=u[0],i=u[1],f=(0,r.useState)(function(){return e.proFieldKey?e.proFieldKey.toString():e.request?(He+=1,He.toString()):"no-fetch"}),d=(0,j.Z)(f,1),h=d[0],m=(0,r.useRef)(h),Z=(0,r.useCallback)(function(P){return Ft(xe(P)).map(function(I){var V=I.value,O=I.text,H=(0,W.Z)(I,gt);return(0,c.Z)({label:O,value:V,key:V},H)})},[]),F=(0,or.Z)(function(){return e.valueEnum?Z(e.valueEnum):[]},{value:(n=e.fieldProps)===null||n===void 0?void 0:n.options}),p=(0,j.Z)(F,2),E=p[0],x=p[1];rt(function(){var P;!e.valueEnum||((P=e.fieldProps)===null||P===void 0?void 0:P.options)||x(Z(e.valueEnum))},[e.valueEnum]);var b=(0,or.Z)(!1),C=(0,j.Z)(b,2),S=C[0],D=C[1],y=(0,tt.Z)(function(){var P=(0,qr.Z)(lr().mark(function I(V){var O;return lr().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(e.request){K.next=2;break}return K.abrupt("return",[]);case 2:return D(!0),K.next=5,e.request(V,e);case 5:return O=K.sent,D(!1),K.abrupt("return",O);case 8:case"end":return K.stop()}},I)}));return function(I){return P.apply(this,arguments)}}(),[],(t=e.debounceTime)!==null&&t!==void 0?t:0,!0),R=y.run,T=(0,nt.ZP)(function(){return e.request?[m.current,e.params,a]:null},function(P,I,V){return R((0,c.Z)((0,c.Z)({},I),{},{keyWords:V}))},{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),A=T.data,M=T.mutate,N=(0,r.useMemo)(function(){var P,I,V=E==null?void 0:E.map(function(O){if(typeof O=="string")return{label:O,value:O};if((O==null?void 0:O.optionType)==="optGroup"&&(O.children||O.options)){var H=[].concat((0,Ae.Z)(O.children||[]),(0,Ae.Z)(O.options||[])).filter(function(K){return Ue(K,a)});return(0,c.Z)((0,c.Z)({},O),{},{children:H,options:H})}return O});return((P=e.fieldProps)===null||P===void 0?void 0:P.filterOption)===!0||((I=e.fieldProps)===null||I===void 0?void 0:I.filterOption)===void 0?V==null?void 0:V.filter(function(O){return O?a?Ue(O,a):!0:!1}):V},[E,a,(o=e.fieldProps)===null||o===void 0?void 0:o.filterOption]);return[S,e.request?A:N,function(P){i(P),M()},function(){i(void 0),M([],!1)}]},Ct=function(e,n){var t=e.mode,o=e.valueEnum,l=e.render,u=e.renderFormItem,a=e.request,i=e.fieldProps,f=e.plain,d=e.children,h=e.light,m=e.proFieldKey,Z=e.params,F=e.label,p=e.bordered,E=e.id,x=(0,W.Z)(e,pt),b=(0,r.useRef)(),C=(0,U.YB)(),S=(0,r.useRef)("");(0,r.useEffect)(function(){He+=1},[]),(0,r.useEffect)(function(){S.current=i==null?void 0:i.searchValue},[i==null?void 0:i.searchValue]);var D=Ve(e),y=(0,j.Z)(D,4),R=y[0],T=y[1],A=y[2],M=y[3],N=(0,r.useContext)(L.ZP.SizeContext);if((0,r.useImperativeHandle)(n,function(){return(0,c.Z)((0,c.Z)({},b.current||{}),{},{fetchData:function(){return A()}})}),t==="read"){var P,I=(T==null?void 0:T.length)?T==null?void 0:T.reduce(function(Q,$){return(0,c.Z)((0,c.Z)({},Q),{},(0,k.Z)({},$.value,$.label))},{}):void 0;if((P=x.text)===null||P===void 0?void 0:P.label){var V;return(V=x.text)===null||V===void 0?void 0:V.label}var O=r.createElement(r.Fragment,null,we(x.text,xe(o||I)));return l?l(x.text,(0,c.Z)({mode:t},i),O)||null:O}if(t==="edit"||t==="update"){var H=function(){return h?r.createElement(it,(0,g.Z)({bordered:p,id:E,loading:R,ref:b,allowClear:!0,size:N,options:T,label:F,placeholder:C.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")},i)):r.createElement(vt,(0,g.Z)({key:"SearchSelect",style:{minWidth:100},bordered:p,id:E,loading:R,ref:b,allowClear:!0,notFoundContent:R?r.createElement(Le.Z,{size:"small"}):i==null?void 0:i.notFoundContent,fetchData:function(w){S.current=w,A(w)},resetData:M,optionItemRender:function(w){return typeof w.label=="string"&&S.current?r.createElement(Zt,{label:w.label,words:[S.current]}):w.label},placeholder:C.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),label:F},i,{options:T}))},K=H();return u?u(x.text,(0,c.Z)((0,c.Z)({mode:t},i),{},{options:T}),K)||null:K}return null},Pt=r.forwardRef(Ct),Vn=v(63185),xt=v(9676),Bn=v(83754),yt=["layout","renderFormItem","mode","render"],bt=function(e,n){var t=e.layout,o=t===void 0?"horizontal":t,l=e.renderFormItem,u=e.mode,a=e.render,i=(0,W.Z)(e,yt),f=(0,r.useContext)(L.ZP.ConfigContext),d=f.getPrefixCls,h=d("pro-field-checkbox"),m=Ve(i),Z=(0,j.Z)(m,3),F=Z[0],p=Z[1],E=Z[2],x=(0,r.useRef)();if((0,r.useImperativeHandle)(n,function(){return(0,c.Z)((0,c.Z)({},x.current||{}),{},{fetchData:function(){return E()}})}),F)return r.createElement(Le.Z,{size:"small"});if(u==="read"){var b=(p==null?void 0:p.length)?p==null?void 0:p.reduce(function(y,R){return(0,c.Z)((0,c.Z)({},y),{},(0,k.Z)({},R.value,R.label))},{}):void 0,C=we(i.text,xe(i.valueEnum||b));return a?a(i.text,(0,c.Z)({mode:u},i.fieldProps),r.createElement(r.Fragment,null,C))||null:r.createElement(Te.Z,null,C)}if(u==="edit"){var S,D=r.createElement(xt.Z.Group,(0,g.Z)({},i.fieldProps,{className:q()((S=i.fieldProps)===null||S===void 0?void 0:S.className,"".concat(h,"-").concat(o)),options:p}));return l?l(i.text,(0,c.Z)({mode:u},i.fieldProps),D)||null:D}return null},St=r.forwardRef(bt),Yn=v(96433),cr=v(2864),Dt=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.renderFormItem,a=e.fieldProps;if(o==="read"){var i=r.createElement(cr.Z,(0,g.Z)({allowHalf:!0,disabled:!0,ref:n},a,{value:t}));return l?l(t,(0,c.Z)({mode:o},a),r.createElement(r.Fragment,null,i)):i}if(o==="edit"||o==="update"){var f=r.createElement(cr.Z,(0,g.Z)({allowHalf:!0,ref:n},a));return u?u(t,(0,c.Z)({mode:o},a),f):f}return null},Rt=r.forwardRef(Dt),Ln=v(77576),It=v(12028),Mt=v(97435),Ot=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.renderFormItem,a=e.fieldProps,i=(0,U.YB)(),f=(0,r.useMemo)(function(){var h,m;return t==null||"".concat(t).length<1?"-":t?(h=a==null?void 0:a.checkedChildren)!==null&&h!==void 0?h:i.getMessage("switch.open","\u6253\u5F00"):(m=a==null?void 0:a.unCheckedChildren)!==null&&m!==void 0?m:i.getMessage("switch.close","\u5173\u95ED")},[a==null?void 0:a.checkedChildren,a==null?void 0:a.unCheckedChildren,t]);if(o==="read")return l?l(t,(0,c.Z)({mode:o},a),r.createElement(r.Fragment,null,f)):f!=null?f:"-";if(o==="edit"||o==="update"){var d=r.createElement(It.Z,(0,g.Z)({ref:n},(0,Mt.Z)(a,["value"]),{checked:(a==null?void 0:a.checked)||(a==null?void 0:a.value)}));return u?u(t,(0,c.Z)({mode:o},a),d):d}return null},Nt=r.forwardRef(Ot),Tt=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.placeholder,a=e.renderFormItem,i=e.fieldProps;if(o==="read"){var f,d=new Intl.NumberFormat(void 0,(0,c.Z)({minimumSignificantDigits:1},(i==null?void 0:i.intlProps)||{})).format(Number(t)),h=r.createElement("span",{ref:n},(i==null||(f=i.formatter)===null||f===void 0?void 0:f.call(i,d))||d);return l?l(t,(0,c.Z)({mode:o},i),h):h}if(o==="edit"||o==="update"){var m=r.createElement(ee.Z,(0,g.Z)({ref:n,min:0,placeholder:u},i));return a?a(t,(0,c.Z)({mode:o},i),m):m}return null},At=r.forwardRef(Tt);function wt(s){var e="",n=Math.floor(s/(3600*24)),t=Math.floor(s/3600),o=Math.floor(s/60%60),l=Math.floor(s%60);return e="".concat(l,"\u79D2"),o>0&&(e="".concat(o,"\u5206\u949F").concat(e)),t>0&&(e="".concat(t,"\u5C0F\u65F6").concat(e)),n>0&&(e="".concat(n,"\u5929").concat(e)),e}var Vt=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.renderFormItem,a=e.fieldProps,i=e.placeholder;if(o==="read"){var f=wt(Number(t)),d=r.createElement("span",{ref:n},f);return l?l(t,(0,c.Z)({mode:o},a),d):d}if(o==="edit"||o==="update"){var h=r.createElement(ee.Z,(0,g.Z)({ref:n,min:0,style:{width:"100%"},placeholder:i},a));return u?u(t,(0,c.Z)({mode:o},a),h):h}return null},Bt=r.forwardRef(Vt),Kn=v(88983),We=v(47933),$n=v(25702),Yt=["radioType","renderFormItem","mode","render"],Lt=function(e,n){var t=e.radioType,o=e.renderFormItem,l=e.mode,u=e.render,a=(0,W.Z)(e,Yt),i=(0,r.useContext)(L.ZP.ConfigContext),f=i.getPrefixCls,d=f("pro-field-radio"),h=Ve(a),m=(0,j.Z)(h,3),Z=m[0],F=m[1],p=m[2],E=(0,r.useRef)();if((0,r.useImperativeHandle)(n,function(){return(0,c.Z)((0,c.Z)({},E.current||{}),{},{fetchData:function(){return p()}})}),Z)return r.createElement(Le.Z,{size:"small"});if(l==="read"){var x=(F==null?void 0:F.length)?F==null?void 0:F.reduce(function(y,R){return(0,c.Z)((0,c.Z)({},y),{},(0,k.Z)({},R.value,R.label))},{}):void 0,b=r.createElement(r.Fragment,null,we(a.text,xe(a.valueEnum||x)));return u?u(a.text,(0,c.Z)({mode:l},a.fieldProps),b)||null:b}if(l==="edit"){var C,S=t==="button"?We.ZP.Button:We.ZP,D=r.createElement(We.ZP.Group,(0,g.Z)({ref:E},a.fieldProps,{className:q()((C=a.fieldProps)===null||C===void 0?void 0:C.className,"".concat(d,"-").concat(a.fieldProps.layout||"horizontal")),options:void 0}),F==null?void 0:F.map(function(y){return r.createElement(S,(0,g.Z)({key:y.value},y),y.label)}));return o?o(a.text,(0,c.Z)({mode:l},a.fieldProps),D)||null:D}return null},sr=r.forwardRef(Lt),zn=v(12968),Kt=v(62462),$t=function(e){var n=e.text,t=e.mode,o=e.render,l=e.renderFormItem,u=e.fieldProps,a=e.placeholder,i=e.width;if(t==="read"){var f=r.createElement(Kt.Z,(0,g.Z)({width:i||32,src:n},u));return o?o(n,(0,c.Z)({mode:t},u),f):f}if(t==="edit"||t==="update"){var d=r.createElement(Ze.Z,(0,g.Z)({placeholder:a},u));return l?l(n,(0,c.Z)({mode:t},u),d):d}return null},vr=$t,Hn=v(36877),zt=v(29328),Ht=v(7085),Ut=["radioType","renderFormItem","mode","render"],Wt=function(e,n){var t,o=e.radioType,l=e.renderFormItem,u=e.mode,a=e.render,i=(0,W.Z)(e,Ut),f=(0,r.useContext)(L.ZP.ConfigContext),d=f.getPrefixCls,h=d("pro-field-cascader"),m=Ve(i),Z=(0,j.Z)(m,3),F=Z[0],p=Z[1],E=Z[2],x=(0,U.YB)(),b=(0,r.useRef)();(0,r.useImperativeHandle)(n,function(){return(0,c.Z)((0,c.Z)({},b.current||{}),{},{fetchData:function(){return E()}})});var C=(0,r.useMemo)(function(){var R,T=((R=i.fieldProps)===null||R===void 0?void 0:R.fieldNames)||{},A=T.value,M=A===void 0?"value":A,N=T.label,P=N===void 0?"label":N,I=T.children,V=I===void 0?"children":I,O=function H(K){return(K==null?void 0:K.length)>0?K==null?void 0:K.reduce(function(Q,$){var w=$[P],te=$[M],z=$[V];return(0,c.Z)((0,c.Z)({},Q),{},(0,k.Z)({},te,w),H(z))},{}):{}};return O(p)},[p,(t=i.fieldProps)===null||t===void 0?void 0:t.fieldNames]);if(u==="read"){var S=r.createElement(r.Fragment,null,we(i.text,xe(i.valueEnum||C)));return a?a(i.text,(0,c.Z)({mode:u},i.fieldProps),S)||null:S}if(u==="edit"){var D,y=r.createElement(zt.Z,(0,g.Z)({ref:b,suffixIcon:F?r.createElement(Ht.Z,null):void 0,placeholder:x.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")},i.fieldProps,{className:q()((D=i.fieldProps)===null||D===void 0?void 0:D.className,h),options:p}));return l?l(i.text,(0,c.Z)({mode:u},i.fieldProps),y)||null:y}return null},jt=r.forwardRef(Wt),Un=v(62999),Gt=v(54680),Qt=["radioType","renderFormItem","mode","render"],Jt=["onSearch","onClear","onChange","onBlur","loadData","showSearch","autoClearSearchValue","searchValue"],Xt=function(e,n){var t=e.radioType,o=e.renderFormItem,l=e.mode,u=e.render,a=(0,W.Z)(e,Qt),i=(0,r.useContext)(L.ZP.ConfigContext),f=i.getPrefixCls,d=f("pro-field-tree-select"),h=Ve(a),m=(0,j.Z)(h,3),Z=m[0],F=m[1],p=m[2],E=(0,r.useRef)(null),x=a.fieldProps||{},b=x.onSearch,C=x.onClear,S=x.onChange,D=x.onBlur,y=x.loadData,R=x.showSearch,T=x.autoClearSearchValue,A=x.searchValue,M=(0,W.Z)(x,Jt),N=(0,r.useState)(A),P=(0,j.Z)(N,2),I=P[0],V=P[1];(0,r.useImperativeHandle)(n,function(){return(0,c.Z)((0,c.Z)({},E.current||{}),{},{fetchData:function(){return p()}})});var O=(0,r.useMemo)(function(){var $=(M==null?void 0:M.fieldNames)||{},w=$.value,te=w===void 0?"value":w,z=$.label,G=z===void 0?"label":z,B=$.children,ie=B===void 0?"children":B,fe=function ue(de){return(de==null?void 0:de.length)>0?de==null?void 0:de.reduce(function(Be,Ge){var Zn=Ge[G],En=Ge[te],Fn=Ge[ie];return(0,c.Z)((0,c.Z)({},Be),{},(0,k.Z)({},En,Zn),ue(Fn))},{}):{}};return fe(F)},[F,M==null?void 0:M.fieldNames]),H=function(w,te,z){R&&T&&(p(""),b==null||b(""),V("")),S==null||S(w,te,z)};if(l==="read"){var K=r.createElement(r.Fragment,null,we(a.text,xe(a.valueEnum||O)));return u?u(a.text,(0,c.Z)({mode:l},M),K)||null:K}if(l==="edit"){var Q=r.createElement(Le.Z,{spinning:Z},r.createElement(Gt.Z,(0,g.Z)({ref:E},M,{treeData:F,showSearch:R,searchValue:I,autoClearSearchValue:T,onClear:function(){C==null||C(),p(""),R&&V("")},loadData:y?function($){var w;return p((w=$.value)===null||w===void 0?void 0:w.toString()),(y==null?void 0:y($))||Promise.resolve()}:void 0,onChange:H,onSearch:function(w){p(w),b==null||b(w),V(w)},onBlur:function(w){V(""),p(""),D==null||D(w)},className:q()(M==null?void 0:M.className,d)})));return o?o(a.text,(0,c.Z)({mode:l},M),Q)||null:Q}return null},kt=r.forwardRef(Xt),qt=v(63144),_t=["mode","popoverProps"],en=["#FF9D4E","#5BD8A6","#5B8FF9","#F7664E","#FF86B7","#2B9E9D","#9270CA","#6DC8EC","#667796","#F6BD16"],fr=function(e){var n=e.mode,t=e.popoverProps,o=(0,W.Z)(e,_t),l=(0,r.useContext)(L.ZP.ConfigContext),u=l.getPrefixCls,a=u("pro-field-color-picker"),i=(0,Ye.Z)("#1890ff",{value:o.value,onChange:o.onChange}),f=(0,j.Z)(i,2),d=f[0],h=f[1],m=r.createElement("div",{className:a,style:{padding:5,width:48,border:"1px solid #ddd",borderRadius:"2px",cursor:"pointer"}},r.createElement("div",{style:{backgroundColor:d,width:36,height:14,borderRadius:"2px"}}));return n==="read"?m:r.createElement(ke.Z,(0,g.Z)({trigger:"click",placement:"right"},t,{content:r.createElement("div",{style:{margin:"-12px -16px"}},r.createElement(qt.xS,(0,g.Z)({},o,{presetColors:o.colors||o.presetColors||en,color:d,onChange:function(F){var p=F.hex,E=F.rgb,x=E.r,b=E.g,C=E.b,S=E.a;S&&S<1&&h("rgba(".concat(x,", ").concat(b,", ").concat(C,", ").concat(S,")")),h(p)}})))}),m)},rn=function(e){var n=e.text,t=e.mode,o=e.render,l=e.renderFormItem,u=e.fieldProps;if(t==="read"){var a=r.createElement(fr,{value:n,mode:"read"});return o?o(n,(0,c.Z)({mode:t},u),a):a}if(t==="edit"||t==="update"){var i=r.createElement(fr,u);return l?l(n,(0,c.Z)({mode:t},u),i):i}return null},tn=rn,nn=function(e,n){var t=e.text,o=e.mode,l=e.render,u=e.placeholder,a=e.renderFormItem,i=e.fieldProps,f=e.separator,d=f===void 0?"~":f,h=e.separatorWidth,m=h===void 0?30:h,Z=i.value,F=i.defaultValue,p=i.onChange,E=i.id,x=(0,Ye.Z)(function(){return F},{value:Z,onChange:p}),b=(0,j.Z)(x,2),C=b[0],S=b[1];if(o==="read"){var D=function(N){var P,I=new Intl.NumberFormat(void 0,(0,c.Z)({minimumSignificantDigits:2},(i==null?void 0:i.intlProps)||{})).format(Number(N));return(i==null||(P=i.formatter)===null||P===void 0?void 0:P.call(i,I))||I},y=r.createElement("span",{ref:n},D(t[0])," ",d," ",D(t[1]));return l?l(t,(0,c.Z)({mode:o},i),y):y}if(o==="edit"||o==="update"){var R=function(){if(Array.isArray(C)){var N=(0,j.Z)(C,2),P=N[0],I=N[1];typeof P=="number"&&typeof I=="number"&&P>I?S([I,P]):P===void 0&&I===void 0&&S(void 0)}},T=function(N,P){var I=(0,Ae.Z)(C||[]);I[N]=P===null?void 0:P,S(I)},A=r.createElement(Ze.Z.Group,{compact:!0,onBlur:R},r.createElement(ee.Z,(0,g.Z)({placeholder:u},i,{id:E!=null?E:"".concat(E,"-0"),style:{width:"calc((100% - ".concat(m,"px) / 2)")},value:C==null?void 0:C[0],defaultValue:F==null?void 0:F[0],onChange:function(N){return T(0,N)}})),r.createElement(Ze.Z,{style:{width:m,textAlign:"center",borderLeft:0,borderRight:0,pointerEvents:"none",backgroundColor:"#FFF"},placeholder:d,disabled:!0}),r.createElement(ee.Z,(0,g.Z)({placeholder:u},i,{id:E!=null?E:"".concat(E,"-1"),style:{width:"calc((100% - ".concat(m,"px) / 2)"),borderLeft:0},value:C==null?void 0:C[1],defaultValue:F==null?void 0:F[1],onChange:function(N){return T(1,N)}})));return a?a(t,(0,c.Z)({mode:o},i),A):A}return null},an=r.forwardRef(nn),mr=v(80334),ln=["text","valueType","onChange","renderFormItem","value"],je=["select","radio","radioButton","checkbook"],on=function(e,n,t){var o=ye(t.fieldProps);return n.type==="progress"?r.createElement(Xe,(0,g.Z)({},t,{text:e,fieldProps:(0,c.Z)({status:n.status?n.status:void 0},o)})):n.type==="money"?r.createElement(er,(0,g.Z)({locale:n.locale},t,{fieldProps:o,text:e,moneySymbol:n.moneySymbol})):n.type==="percent"?r.createElement(pe,(0,g.Z)({},t,{text:e,showSymbol:n.showSymbol,precision:n.precision,fieldProps:o,showColor:n.showColor})):n.type==="image"?r.createElement(vr,(0,g.Z)({},t,{text:e,width:n.width})):e},un=function(e,n,t,o){var l,u=t.mode,a=u===void 0?"read":u,i=t.emptyText,f=i===void 0?"-":i;if(f!==!1&&a==="read"&&n!=="option"&&n!=="switch"&&typeof e!="boolean"&&typeof e!="number"&&!e){var d=t.fieldProps,h=t.render;return h?h(e,(0,c.Z)({mode:a},d),r.createElement(r.Fragment,null,f)):r.createElement(r.Fragment,null,f)}if(delete t.emptyText,(0,le.Z)(n)==="object")return on(e,n,t);var m=o&&o[n];if(m){if(delete t.ref,a==="read"){var Z;return(Z=m.render)===null||Z===void 0?void 0:Z.call(m,e,(0,c.Z)((0,c.Z)({text:e},t),{},{mode:a||"read"}),r.createElement(r.Fragment,null,e))}if(a==="update"||a==="edit"){var F;return(F=m.renderFormItem)===null||F===void 0?void 0:F.call(m,e,(0,c.Z)({text:e},t),r.createElement(r.Fragment,null,e))}}var p=je.includes(n),E=!!(t.valueEnum||t.request||t.options||((l=t.fieldProps)===null||l===void 0?void 0:l.options));return(0,mr.ET)(!p||E,"\u5982\u679C\u8BBE\u7F6E\u4E86 valueType \u4E3A ".concat(je.join(","),"\u4E2D\u4EFB\u610F\u4E00\u4E2A\uFF0C\u5219\u9700\u8981\u914D\u7F6Eoptions\uFF0Crequest, valueEnum \u5176\u4E2D\u4E4B\u4E00\uFF0C\u5426\u5219\u65E0\u6CD5\u751F\u6210\u9009\u9879\u3002")),(0,mr.ET)(!p||E,"If you set valueType to any of ".concat(je.join(","),", you need to configure options, request or valueEnum.")),n==="money"?r.createElement(er,(0,g.Z)({},t,{text:e})):n==="date"?r.createElement(De,(0,g.Z)({text:e,format:"YYYY-MM-DD"},t)):n==="dateWeek"?r.createElement(De,(0,g.Z)({text:e,format:"YYYY-wo",picker:"week"},t)):n==="dateMonth"?r.createElement(De,(0,g.Z)({text:e,format:"YYYY-MM",picker:"month"},t)):n==="dateQuarter"?r.createElement(De,(0,g.Z)({text:e,format:"YYYY-\\QQ",picker:"quarter"},t)):n==="dateYear"?r.createElement(De,(0,g.Z)({text:e,format:"YYYY",picker:"year"},t)):n==="dateRange"?r.createElement(rr,(0,g.Z)({text:e,format:"YYYY-MM-DD"},t)):n==="dateTime"?r.createElement(De,(0,g.Z)({text:e,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},t)):n==="dateTimeRange"?r.createElement(rr,(0,g.Z)({text:e,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},t)):n==="time"?r.createElement(Lr,(0,g.Z)({text:e,format:"HH:mm:ss"},t)):n==="timeRange"?r.createElement(Yr,(0,g.Z)({text:e,format:"HH:mm:ss"},t)):n==="fromNow"?r.createElement(Tr,(0,g.Z)({text:e},t)):n==="index"?r.createElement(Pe,null,e+1):n==="indexBorder"?r.createElement(Pe,{border:!0},e+1):n==="progress"?r.createElement(Xe,(0,g.Z)({},t,{text:e})):n==="percent"?r.createElement(pe,(0,g.Z)({text:e},t)):n==="avatar"&&typeof e=="string"&&t.mode==="read"?r.createElement(me.C,{src:e,size:22,shape:"circle"}):n==="code"?r.createElement(tr,(0,g.Z)({text:e},t)):n==="jsonCode"?r.createElement(tr,(0,g.Z)({text:e,language:"json"},t)):n==="textarea"?r.createElement(Hr,(0,g.Z)({text:e},t)):n==="digit"?r.createElement(At,(0,g.Z)({text:e},t)):n==="digitRange"?r.createElement(an,(0,g.Z)({text:e},t)):n==="second"?r.createElement(Bt,(0,g.Z)({text:e},t)):n==="select"||n==="text"&&(t.valueEnum||t.request)?r.createElement(Pt,(0,g.Z)({text:e},t)):n==="checkbox"?r.createElement(St,(0,g.Z)({text:e},t)):n==="radio"?r.createElement(sr,(0,g.Z)({text:e},t)):n==="radioButton"?r.createElement(sr,(0,g.Z)({radioType:"button",text:e},t)):n==="rate"?r.createElement(Rt,(0,g.Z)({text:e},t)):n==="switch"?r.createElement(Nt,(0,g.Z)({text:e},t)):n==="option"?r.createElement(Xr,(0,g.Z)({text:e},t)):n==="password"?r.createElement(Qr,(0,g.Z)({text:e},t)):n==="image"?r.createElement(vr,(0,g.Z)({text:e},t)):n==="cascader"?r.createElement(jt,(0,g.Z)({text:e},t)):n==="treeSelect"?r.createElement(kt,(0,g.Z)({text:e},t)):n==="color"?r.createElement(tn,(0,g.Z)({text:e},t)):r.createElement($r,(0,g.Z)({text:e},t))},dn=function(e,n){var t,o=e.text,l=e.valueType,u=l===void 0?"text":l,a=e.onChange,i=e.renderFormItem,f=e.value,d=(0,W.Z)(e,ln),h=(0,U.YB)(),m=(0,r.useContext)(U.ZP),Z=(f!==void 0||a||(d==null?void 0:d.fieldProps))&&(0,c.Z)((0,c.Z)({value:f},(0,oe.Z)(d==null?void 0:d.fieldProps)),{},{onChange:function(){for(var p,E,x=arguments.length,b=new Array(x),C=0;C<x;C++)b[C]=arguments[C];d==null||(p=d.fieldProps)===null||p===void 0||(E=p.onChange)===null||E===void 0||E.call.apply(E,[p].concat(b)),a==null||a.apply(void 0,b)}});return r.createElement(r.Fragment,null,un((t=o!=null?o:Z==null?void 0:Z.value)!==null&&t!==void 0?t:"",u||"text",(0,c.Z)((0,c.Z)({ref:n},d),{},{mode:d.mode||"read",renderFormItem:i?function(){var F=i.apply(void 0,arguments);return r.isValidElement(F)?r.cloneElement(F,(0,c.Z)((0,c.Z)({placeholder:d.placeholder||h.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165")},Z),F.props||{})):F}:void 0,placeholder:d.placeholder||h.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),fieldProps:ye(Z)}),m.valueTypeMap))},cn=r.forwardRef(dn),sn=v(22270),vn=v(64893),fn=v(97462),mn=["fieldProps","children","labelCol","label","autoFocus","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","onChange","valueEnum","params","name","valuePropName"],hn=["fieldProps","children","labelCol","label","autoFocus","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","onChange","valueEnum","params","name"],gn=function(s){(0,Fe.Z)(n,s);var e=(0,be.Z)(n);function n(){var t;(0,Ee.Z)(this,n);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return t=e.call.apply(e,[this].concat(l)),t.filedRef=r.createRef(),t}return(0,ae.Z)(n,[{key:"renderDom",value:function(o){var l=this.props,u=l.fieldProps,a=l.children,i=l.labelCol,f=l.label,d=l.autoFocus,h=l.isDefaultDom,m=l.render,Z=l.proFieldProps,F=l.renderFormItem,p=l.valueType,E=l.initialValue,x=l.onChange,b=l.valueEnum,C=l.params,S=l.name,D=l.valuePropName,y=D===void 0?"value":D,R=(0,W.Z)(l,mn),T=o?(0,c.Z)((0,c.Z)({},C),o||{}):C;return r.createElement(cn,(0,g.Z)({valuePropName:y,text:u==null?void 0:u[y],render:m,renderFormItem:F,valueType:p||"text",fieldProps:(0,c.Z)((0,c.Z)({autoFocus:d},u),{},{onChange:function(){for(var M=arguments.length,N=new Array(M),P=0;P<M;P++)N[P]=arguments[P];if(u==null?void 0:u.onChange){var I;u==null||(I=u.onChange)===null||I===void 0||I.call.apply(I,[u].concat(N));return}x==null||x.apply(void 0,N)}}),valueEnum:(0,sn.h)(b)},Z,R,{mode:(Z==null?void 0:Z.mode)||"edit",params:T,ref:this.filedRef}))}},{key:"shouldComponentUpdate",value:function(o){return!(0,ir.Z)(o,this.props,["onChange","onBlur"])}},{key:"render",value:function(){var o=this,l=this.props,u=l.fieldProps,a=l.children,i=l.labelCol,f=l.label,d=l.autoFocus,h=l.isDefaultDom,m=l.render,Z=l.proFieldProps,F=l.renderFormItem,p=l.valueType,E=l.initialValue,x=l.onChange,b=l.valueEnum,C=l.params,S=l.name,D=(0,W.Z)(l,hn);return a?r.isValidElement(a)?r.cloneElement(a,(0,c.Z)((0,c.Z)({},D),{},{onChange:function(){for(var R=arguments.length,T=new Array(R),A=0;A<R;A++)T[A]=arguments[A];if(u==null?void 0:u.onChange){var M;u==null||(M=u.onChange)===null||M===void 0||M.call.apply(M,[u].concat(T));return}x==null||x.apply(void 0,T)}},a.props)):a:D.dependencies&&D.request?r.createElement(fn.Z,{name:D.dependencies},function(y){return o.renderDom(y)}):this.renderDom()}}]),n}(r.Component),pn=(0,vn.Z)(gn)},10178:function(Qe,Re,v){"use strict";var g=v(85061),c=v(87757),W=v.n(c),Ee=v(92137),ae=v(67294),Fe=function(he,me){var le=(0,ae.useRef)(!1);(0,ae.useEffect)(function(){if(!le.current)le.current=!0;else return he();return function(){}},me)};function be(r,he,me,le){var Ie=Array.isArray(he)?he:[],Se=typeof he=="number"?he:me||0,ye=(0,ae.useRef)(),oe=(0,ae.useRef)(r),U=(0,ae.useRef)(function(){});oe.current=r;var J=(0,ae.useCallback)(function(){le||ye.current&&clearTimeout(ye.current)},[le]),ee=(0,ae.useCallback)((0,Ee.Z)(W().mark(function ge(){var ne,X,ce,re,Ce,pe=arguments;return W().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:for(ne=pe.length,X=new Array(ne),ce=0;ce<ne;ce++)X[ce]=pe[ce];if(me!==0){Y.next=3;break}return Y.abrupt("return",oe.current.apply(oe,X));case 3:return Y.prev=3,re=new Promise(function(L,se){J(),U.current=se,ye.current=setTimeout((0,Ee.Z)(W().mark(function q(){var Me;return W().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,oe.current.apply(oe,X);case 2:Me=Pe.sent,L(Me);case 4:case"end":return Pe.stop()}},q)})),Se)}),Y.next=7,re;case 7:return Ce=Y.sent,Y.abrupt("return",Ce);case 11:Y.prev=11,Y.t0=Y.catch(3),console.warn(Y.t0.message);case 14:return Y.abrupt("return",void 0);case 15:case"end":return Y.stop()}},ge,null,[[3,11]])})),[me,J,Se]);return Fe(function(){return ee(),J},[].concat((0,g.Z)(Ie),[ee])),(0,ae.useEffect)(function(){return function(){var ge;me!==0&&((ge=U.current)===null||ge===void 0||ge.call(U,new Error("useDebounceFn is unmount"))),J()}},[]),{run:ee,cancel:J}}Re.Z=be},83754:function(){},81992:function(){},76592:function(){},25702:function(){},26435:function(){},81539:function(){},59189:function(){}}]);
