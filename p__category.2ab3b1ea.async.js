(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[634],{64317:function(G,y,e){"use strict";var j=e(22122),h=e(28991),C=e(81253),u=e(67294),F=e(88063),c=e(22270),S=e(66758),o=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],Z=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],d=u.forwardRef(function(a,R){var B=a.fieldProps,L=a.children,W=a.params,x=a.proFieldProps,T=a.mode,V=a.valueEnum,b=a.request,K=a.showSearch,l=a.options,U=(0,C.Z)(a,o),z=(0,u.useContext)(S.Z);return u.createElement(F.Z,(0,j.Z)({mode:"edit",valueEnum:(0,c.h)(V),request:b,params:W,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,h.Z)({options:l,mode:T,showSearch:K,getPopupContainer:z.getPopupContainer},B),ref:R,proFieldProps:x},U),L)}),I=u.forwardRef(function(a,R){var B=a.fieldProps,L=a.children,W=a.params,x=a.proFieldProps,T=a.mode,V=a.valueEnum,b=a.request,K=a.options,l=(0,C.Z)(a,Z),U=(0,h.Z)({options:K,mode:T||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},B),z=(0,u.useContext)(S.Z);return u.createElement(F.Z,(0,j.Z)({mode:"edit",valueEnum:(0,c.h)(V),request:b,params:W,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,h.Z)({getPopupContainer:z.getPopupContainer},U),ref:R,proFieldProps:x},l),L)}),s=d,M=I,P=s;P.SearchSelect=M,P.displayName="ProFormComponent",y.Z=P},90672:function(G,y,e){"use strict";var j=e(22122),h=e(81253),C=e(67294),u=e(88063),F=["fieldProps","proFieldProps"],c=function(o,Z){var d=o.fieldProps,I=o.proFieldProps,s=(0,h.Z)(o,F);return C.createElement(u.Z,(0,j.Z)({ref:Z,mode:"edit",valueType:"textarea",fieldProps:d,proFieldProps:I},s))};y.Z=C.forwardRef(c)},5966:function(G,y,e){"use strict";var j=e(22122),h=e(81253),C=e(67294),u=e(88063),F=["fieldProps","proFieldProps"],c=["fieldProps","proFieldProps"],S="text",o=function(s){var M=s.fieldProps,P=s.proFieldProps,a=(0,h.Z)(s,F);return C.createElement(u.Z,(0,j.Z)({mode:"edit",valueType:S,fieldProps:M,filedConfig:{valueType:S},proFieldProps:P},a))},Z=function(s){var M=s.fieldProps,P=s.proFieldProps,a=(0,h.Z)(s,c);return C.createElement(u.Z,(0,j.Z)({mode:"edit",valueType:"password",fieldProps:M,proFieldProps:P,filedConfig:{valueType:S}},a))},d=o;d.Password=Z,d.displayName="ProFormComponent",y.Z=d},75958:function(G,y,e){"use strict";e.r(y),e.d(y,{default:function(){return Ze}});var j=e(12968),h=e(62462),C=e(62350),u=e(75443),F=e(57663),c=e(71577),S=e(34792),o=e(48086),Z=e(3182),d=e(2824),I=e(94043),s=e.n(I),M=e(70844),P=e(27019),a=e(43581),R=e(91816),B=e(8212),L=e(73171),W=e(49101),x=e(51742),T=e(5966),V=e(90672),b=e(64317),K=e(71975),l=e(67294),U=e(26667),z=e(57338),ie=e(25084),de=e(92374),t=e(85893),ue=function(p){var g=(0,l.useRef)(),w=function(){var O=(0,Z.Z)(s().mark(function i(D){return s().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.abrupt("return",(0,de.Pq)(p.id,D));case 1:case"end":return N.stop()}},i)}));return function(D){return O.apply(this,arguments)}}(),A=[{title:"#",dataIndex:"index",valueType:"indexBorder",width:36},{title:"Ti\xEAu \u0111\u1EC1",dataIndex:"title"},{title:"L\u01B0\u1EE3t xem",dataIndex:"view",search:!1}];return(0,t.jsx)(ie.Z,{visible:p.visible,onClose:function(){return p.onClose(!1)},width:window.innerWidth-window.innerWidth/2,children:(0,t.jsx)(P.ZP,{request:w,rowKey:"id",columns:A,actionRef:g})})},ce=ue,He=e(71194),me=e(50146),k=e(11849),$e=e(43185),ve=e(11324),pe=e(61685),q=e(28991),fe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},he=fe,Pe=e(27029),_=function(p,g){return l.createElement(Pe.Z,(0,q.Z)((0,q.Z)({},p),{},{ref:g,icon:he}))};_.displayName="InboxOutlined";var xe=l.forwardRef(_),ge=function(p){var g=ve.Z.Dragger,w={name:"file",multiple:!0,action:"".concat(pe.y,"/api/category/import"),onChange:function(i){var D=i.file.status;D!=="uploading"&&console.log(i.file,i.fileList),D==="done"?o.default.success("".concat(i.file.name," file uploaded successfully.")):D==="error"&&o.default.error("".concat(i.file.name," file upload failed."))},onDrop:function(i){console.log("Dropped files",i.dataTransfer.files)}},A=function(){p.setVisible(!1)};return(0,t.jsx)(me.Z,{title:"Import Categories",visible:p.visible,onOk:A,onCancel:function(){return p.setVisible(!1)},children:(0,t.jsxs)(g,(0,k.Z)((0,k.Z)({},w),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(xe,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))})},Ee=ge,Ce=function(){var p=(0,a.YB)(),g=(0,l.useRef)(),w=(0,l.useState)(),A=(0,d.Z)(w,2),O=A[0],i=A[1],D=(0,l.useState)(),Q=(0,d.Z)(D,2),N=Q[0],ye=Q[1],je=(0,l.useState)(),ee=(0,d.Z)(je,2),Se=ee[0],X=ee[1],Te=(0,l.useState)(!1),te=(0,d.Z)(Te,2),Oe=te[0],ae=te[1],De=(0,l.useState)(!1),re=(0,d.Z)(De,2),Fe=re[0],ne=re[1],Ie=(0,l.useState)(0),se=(0,d.Z)(Ie,2),Me=se[0],Re=se[1],be=(0,l.useState)(!1),le=(0,d.Z)(be,2),Ae=le[0],oe=le[1],H=(0,l.useRef)();(0,l.useEffect)(function(){(0,x.rB)().then(function(m){return ye(m.map(function(r){return{value:r.id,label:r.name}}))})},[]);var Ne=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},r)})},Be=function(){var m=(0,Z.Z)(s().mark(function r(n){var v,f;return s().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!n.id){E.next=7;break}return E.next=3,(0,x.yr)(n);case 3:v=E.sent,v.succeeded?(o.default.success("succeeded!"),i(!1)):o.default.error(v.message),E.next=11;break;case 7:return E.next=9,(0,x.i8)(n);case 9:f=E.sent,f.succeeded?(o.default.success("succeeded!"),i(!1)):o.default.error(f.message);case 11:case"end":return E.stop()}},r)}));return function(n){return m.apply(this,arguments)}}(),Le=function(){var r;(r=g.current)===null||r===void 0||r.resetFields(),X(""),i(!0)},We=function(r){(0,x.uu)(r).then(function(n){if(n.succeeded){var v;H==null||(v=H.current)===null||v===void 0||v.reload(),o.default.success(n.message)}else o.default.error(n.message)})},Ve=function(r){(0,x.n3)(r).then(function(){var n=(0,Z.Z)(s().mark(function v(f){var $;return s().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return i(!0),Y.next=3,Ne();case 3:($=g.current)===null||$===void 0||$.setFields([{name:"id",value:f.id},{name:"name",value:f.name},{name:"normalizeName",value:f.normalizeName},{name:"description",value:f.description},{name:"parrentId",value:f.parrentId},{name:"status",value:f.status},{name:"thumbnail",value:f.thumbnail}]),X(f.thumbnail);case 5:case"end":return Y.stop()}},v)}));return function(v){return n.apply(this,arguments)}}())},Ke=function(r){Re(r),ne(!0)},Ue=[{title:"T\xEAn",dataIndex:"name",width:200},{title:"M\xF4 t\u1EA3",dataIndex:"description"},{title:(0,t.jsx)(a._H,{id:"global.status",defaultMessage:"Status"}),dataIndex:"status",valueEnum:{0:{text:"\u0110ang \u1EA9n",status:"Default"},1:{text:"Ho\u1EA1t \u0111\u1ED9ng",status:"Processing"}},width:150},{title:(0,t.jsx)(a._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",width:150,render:function(r,n){return[(0,t.jsx)(c.Z,{icon:(0,t.jsx)(R.Z,{}),onClick:function(){return Ke(n.id)}}),(0,t.jsx)(c.Z,{type:"primary",icon:(0,t.jsx)(B.Z,{}),onClick:function(){return Ve(n.id)}}),(0,t.jsx)(u.Z,{title:"Are you sure to delete this?",onConfirm:function(){return We(n.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(c.Z,{type:"primary",danger:!0,icon:(0,t.jsx)(L.Z,{})})})]}}],we=function(r){var n;(n=g.current)===null||n===void 0||n.setFieldsValue({thumbnail:r}),X(r)},ze=function(){return(0,t.jsx)("div",{children:(0,t.jsx)(c.Z,{type:"primary",danger:!0,onClick:function(){return oe(!0)},children:"Import"})})};return(0,t.jsxs)(M.ZP,{title:p.formatMessage({id:"menu.category",defaultMessage:"Categry"}),extra:(0,t.jsx)(ze,{}),children:[(0,t.jsx)(P.ZP,{headerTitle:p.formatMessage({id:"menu.category",defaultMessage:"Categry"}),rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,t.jsx)(c.Z,{type:"primary",icon:(0,t.jsx)(W.Z,{}),onClick:Le,children:"Th\xEAm m\u1EDBi"})]},request:x.CP,columns:Ue,rowSelection:{},actionRef:H}),(0,t.jsxs)(K.Z,{title:"Manager",formRef:g,onVisibleChange:i,visible:O,autoFocusFirstInput:!0,drawerProps:{forceRender:!0,destroyOnClose:!0},onFinish:Be,children:[(0,t.jsx)(T.Z,{name:"id",hidden:!0}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(T.Z,{name:"name",label:"T\xEAn danh m\u1EE5c",className:"w-full"})}),(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(T.Z,{name:"normalizeName",label:"Normalize name",tooltip:"Name without special character",className:"w-full"})})]}),(0,t.jsx)(V.Z,{name:"description",label:"Description"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(b.Z,{options:N,name:"parrentId",label:"Danh m\u1EE5c cha",className:"w-full"})}),(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(b.Z,{className:"w-full",initialValue:1,options:[{value:0,label:"Draft"},{value:1,label:"Active"}],name:"status",label:"Tr\u1EA1ng th\xE1i"})})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-grow",children:(0,t.jsx)(T.Z,{name:"thumbnail",className:"w-full"})}),(0,t.jsx)(c.Z,{style:{marginBottom:24},icon:(0,t.jsx)(R.Z,{}),onClick:function(){return ae(!0)},children:"Explorer"})]}),(0,t.jsx)(h.Z,{src:Se})]}),(0,t.jsx)(U.Z,{visible:Oe,onVisibleChange:ae,onSelect:we}),(0,t.jsx)(ce,{visible:Fe,onClose:ne,id:Me}),(0,t.jsx)(Ee,{visible:Ae,setVisible:oe})]})},Ze=Ce}}]);
