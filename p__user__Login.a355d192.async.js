(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{79728:function(G,F,e){"use strict";e.d(F,{Z:function(){return T}});var O=e(28991),P=e(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-32 736H663.9V602.2h104l15.6-120.7H663.9v-77.1c0-35 9.7-58.8 59.8-58.8h63.9v-108c-11.1-1.5-49-4.8-93.2-4.8-92.2 0-155.3 56.3-155.3 159.6v89H434.9v120.7h104.3V848H176V176h672v672z"}}]},name:"facebook",theme:"outlined"},L=v,D=e(27029),E=function(S,Z){return P.createElement(D.Z,(0,O.Z)((0,O.Z)({},S),{},{ref:Z,icon:L}))};E.displayName="FacebookOutlined";var T=P.forwardRef(E)},75013:function(G,F,e){"use strict";e.d(F,{Z:function(){return T}});var O=e(28991),P=e(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 254.3c-30.6 13.2-63.9 22.7-98.2 26.4a170.1 170.1 0 0075-94 336.64 336.64 0 01-108.2 41.2A170.1 170.1 0 00672 174c-94.5 0-170.5 76.6-170.5 170.6 0 13.2 1.6 26.4 4.2 39.1-141.5-7.4-267.7-75-351.6-178.5a169.32 169.32 0 00-23.2 86.1c0 59.2 30.1 111.4 76 142.1a172 172 0 01-77.1-21.7v2.1c0 82.9 58.6 151.6 136.7 167.4a180.6 180.6 0 01-44.9 5.8c-11.1 0-21.6-1.1-32.2-2.6C211 652 273.9 701.1 348.8 702.7c-58.6 45.9-132 72.9-211.7 72.9-14.3 0-27.5-.5-41.2-2.1C171.5 822 261.2 850 357.8 850 671.4 850 843 590.2 843 364.7c0-7.4 0-14.8-.5-22.2 33.2-24.3 62.3-54.4 85.5-88.2z"}}]},name:"twitter",theme:"outlined"},L=v,D=e(27029),E=function(S,Z){return P.createElement(D.Z,(0,O.Z)((0,O.Z)({},S),{},{ref:Z,icon:L}))};E.displayName="TwitterOutlined";var T=P.forwardRef(E)},63434:function(G,F,e){"use strict";var O=e(63185),P=e(9676),v=e(28991),L=e(81253),D=e(85893),E=e(22270),T=e(67294),U=e(64893),S=e(82082),Z=["options","fieldProps","proFieldProps","valueEnum"],B=T.forwardRef(function(r,l){var u=r.options,Y=r.fieldProps,ae=r.proFieldProps,q=r.valueEnum,w=(0,L.Z)(r,Z);return(0,D.jsx)(S.Z,(0,v.Z)({ref:l,valueType:"checkbox",valueEnum:(0,E.h)(q,void 0),fieldProps:(0,v.Z)({options:u},Y),lightProps:(0,v.Z)({labelFormatter:function(){return(0,D.jsx)(S.Z,(0,v.Z)({ref:l,valueType:"checkbox",mode:"read",valueEnum:(0,E.h)(q,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,v.Z)({options:u},Y),proFieldProps:ae},w))}},w.lightProps),proFieldProps:ae},w))}),x=T.forwardRef(function(r,l){var u=r.fieldProps,Y=r.children;return(0,D.jsx)(P.Z,(0,v.Z)((0,v.Z)({ref:l},u),{},{children:Y}))}),V=(0,U.G)(x,{valuePropName:"checked"}),W=V;W.Group=B,F.Z=W},5966:function(G,F,e){"use strict";var O=e(28991),P=e(81253),v=e(85893),L=e(82082),D=["fieldProps","proFieldProps"],E=["fieldProps","proFieldProps"],T="text",U=function(x){var V=x.fieldProps,W=x.proFieldProps,r=(0,P.Z)(x,D);return(0,v.jsx)(L.Z,(0,O.Z)({valueType:T,fieldProps:V,filedConfig:{valueType:T},proFieldProps:W},r))},S=function(x){var V=x.fieldProps,W=x.proFieldProps,r=(0,P.Z)(x,E);return(0,v.jsx)(L.Z,(0,O.Z)({valueType:"password",fieldProps:V,proFieldProps:W,filedConfig:{valueType:T}},r))},Z=U;Z.Password=S,Z.displayName="ProFormComponent",F.Z=Z},952:function(G,F,e){"use strict";var O=e(56640),P=e.n(O),v=e(5894);F.ZP=v.A},34687:function(G){G.exports={container:"container___1sYa-",content:"content___2zk1-",icon:"icon___rzGKO"}},56640:function(){},32384:function(){},94594:function(G,F,e){"use strict";e.r(F),e.d(F,{default:function(){return ze}});var O=e(18106),P=e(16004),v=e(48736),L=e(27049),D=e(20136),E=e(55241),T=e(49111),U=e(19650),S=e(34792),Z=e(48086),B=e(11849),x=e(3182),V=e(2824),W=e(94043),r=e.n(W),l=e(28991),u=e(67294),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},ae=Y,q=e(27029),w=function(M,m){return u.createElement(q.Z,(0,l.Z)((0,l.Z)({},M),{},{ref:m,icon:ae}))};w.displayName="LockOutlined";var ne=u.forwardRef(w),ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},ve=ce,oe=function(M,m){return u.createElement(q.Z,(0,l.Z)((0,l.Z)({},M),{},{ref:m,icon:ve}))};oe.displayName="MobileOutlined";var fe=u.forwardRef(oe),me=e(79728),ge=e(75013),he=e(78874),pe=e(24616),xe=e(89366),Ke=e(84305),Pe=e(88182),ue=e(81253),a=e(85893),Ze=e(78775),Me=e(5894),Ge=e(32384),je=["logo","message","contentStyle","title","subTitle","actions","children"];function Fe(s){var M,m=s.logo,N=s.message,y=s.contentStyle,H=s.title,z=s.subTitle,J=s.actions,g=s.children,h=(0,ue.Z)(s,je),R=(0,Ze.YB)(),_=h.submitter===!1?!1:(0,l.Z)((0,l.Z)({searchConfig:{submitText:R.getMessage("loginForm.submitText","\u767B\u5F55")}},h.submitter),{},{submitButtonProps:(0,l.Z)({size:"large",style:{width:"100%"}},(M=h.submitter)===null||M===void 0?void 0:M.submitButtonProps),render:function(p,t){var o,X=t.pop();if(typeof(h==null||(o=h.submitter)===null||o===void 0?void 0:o.render)=="function"){var A,k;return h==null||(A=h.submitter)===null||A===void 0||(k=A.render)===null||k===void 0?void 0:k.call(A,p,t)}return X}}),Q=(0,u.useContext)(Pe.ZP.ConfigContext),ee=Q.getPrefixCls("pro-form-login"),n=function(p){return"".concat(ee,"-").concat(p)},i=(0,u.useMemo)(function(){return m?typeof m=="string"?(0,a.jsx)("img",{src:m}):m:null},[m]);return(0,a.jsxs)("div",{className:n("container"),children:[(0,a.jsxs)("div",{className:n("top"),children:[H||i?(0,a.jsxs)("div",{className:n("header"),children:[i?(0,a.jsx)("span",{className:n("logo"),children:i}):null,H?(0,a.jsx)("span",{className:n("title"),children:H}):null]}):null,z?(0,a.jsx)("div",{className:n("desc"),children:z}):null]}),(0,a.jsxs)("div",{className:n("main"),style:(0,l.Z)({width:328},y),children:[(0,a.jsxs)(Me.A,(0,l.Z)((0,l.Z)({isKeyPressSubmit:!0},h),{},{submitter:_,children:[N,g]})),J?(0,a.jsx)("div",{className:n("other"),children:J}):null]})]})}var Ve=e(57663),Oe=e(71577),$e=e(47673),Ee=e(4107),te=e(55507),de=e(92137),se=e(28481),Ye=e(9715),Te=e(86835),ye=e(64893),Ce=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],be=u.forwardRef(function(s,M){var m=Te.Z.useFormInstance(),N=(0,u.useState)(s.countDown||60),y=(0,se.Z)(N,2),H=y[0],z=y[1],J=(0,u.useState)(!1),g=(0,se.Z)(J,2),h=g[0],R=g[1],_=(0,u.useState)(),Q=(0,se.Z)(_,2),ee=Q[0],n=Q[1],i=s.rules,d=s.name,p=s.phoneName,t=s.fieldProps,o=s.captchaTextRender,X=o===void 0?function(C,K){return C?"".concat(K," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:o,A=s.captchaProps,k=(0,ue.Z)(s,Ce),c=function(){var C=(0,de.Z)((0,te.Z)().mark(function K($){return(0,te.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,n(!0),b.next=4,k.onGetCaptcha($);case 4:n(!1),R(!0),b.next=13;break;case 8:b.prev=8,b.t0=b.catch(0),R(!1),n(!1),console.log(b.t0);case 13:case"end":return b.stop()}},K,null,[[0,8]])}));return function($){return C.apply(this,arguments)}}();return(0,u.useImperativeHandle)(M,function(){return{startTiming:function(){return R(!0)},endTiming:function(){return R(!1)}}}),(0,u.useEffect)(function(){var C=0,K=s.countDown;return h&&(C=window.setInterval(function(){z(function($){return $<=1?(R(!1),clearInterval(C),K||60):$-1})},1e3)),function(){return clearInterval(C)}},[h]),(0,a.jsxs)("div",{style:(0,l.Z)((0,l.Z)({},t==null?void 0:t.style),{},{display:"flex",alignItems:"center"}),ref:M,children:[(0,a.jsx)(Ee.Z,(0,l.Z)((0,l.Z)({},t),{},{style:{flex:1,transition:"width .3s",marginRight:8}})),(0,a.jsx)(Oe.Z,(0,l.Z)((0,l.Z)({style:{display:"block"},disabled:h,loading:ee},A),{},{onClick:function(){var C=(0,de.Z)((0,te.Z)().mark(function $(){var ie;return(0,te.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(j.prev=0,!p){j.next=9;break}return j.next=4,m.validateFields([p].flat(1));case 4:return ie=m.getFieldValue([p].flat(1)),j.next=7,c(ie);case 7:j.next=11;break;case 9:return j.next=11,c("");case 11:j.next=16;break;case 13:j.prev=13,j.t0=j.catch(0),console.log(j.t0);case 16:case"end":return j.stop()}},$,null,[[0,13]])}));function K(){return C.apply(this,arguments)}return K}(),children:X(h,H)}))]})}),Le=(0,ye.G)(be),De=Le,Be=e(952),re=e(5966),Se=e(63434),f=e(21010),Ie=e(73727),Ne=e(29791),Re=e(36571);function Ae(s,M){return le.apply(this,arguments)}function le(){return le=(0,x.Z)(r().mark(function s(M,m){return r().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",(0,f.WY)("/api/login/captcha",(0,B.Z)({method:"GET",params:(0,B.Z)({},M)},m||{})));case 1:case"end":return y.stop()}},s)})),le.apply(this,arguments)}var Ue=e(34687),I=e.n(Ue),We=e(9602),He=function(){var M=(0,u.useState)("account"),m=(0,V.Z)(M,2),N=m[0],y=m[1],H=(0,f.tT)("@@initialState"),z=H.initialState,J=H.setInitialState,g=(0,f.YB)(),h=function(){var n=(0,x.Z)(r().mark(function i(){var d;return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(d=z==null?void 0:z.fetchUserInfo,!d){t.next=4;break}return t.next=4,J(function(o){return(0,B.Z)((0,B.Z)({},o),{},{currentUser:d})});case 4:case"end":return t.stop()}},i)}));return function(){return n.apply(this,arguments)}}(),R=function(){var n=(0,x.Z)(r().mark(function i(d){var p,t,o,X,A;return r().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,Re.x4)((0,B.Z)((0,B.Z)({},d),{},{type:N}));case 3:if(p=c.sent,!p.succeeded){c.next=18;break}return localStorage.setItem("def_token",p.token||""),t=g.formatMessage({id:"pages.login.success",defaultMessage:"\u0110\u0103ng nh\u1EADp th\xE0nh c\xF4ng!"}),Z.default.success(t),c.next=10,h();case 10:if(f.m8){c.next=12;break}return c.abrupt("return");case 12:return o=f.m8.location.query,X=o,A=X.redirect,f.m8.push(A||"/"),c.abrupt("return");case 18:Z.default.error(g.formatMessage({id:"pages.login.failure"}));case 19:c.next=24;break;case 21:c.prev=21,c.t0=c.catch(0),Z.default.error(g.formatMessage({id:"pages.login.failure"}));case 24:case"end":return c.stop()}},i,null,[[0,21]])}));return function(d){return n.apply(this,arguments)}}(),_=function(){return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(f._H,{id:"pages.login.loginWith"})}),(0,a.jsxs)(U.Z,{align:"center",children:[(0,a.jsx)(me.Z,{className:I().icon},"FacebookOutlined"),(0,a.jsx)(ge.Z,{className:I().icon},"TwitterOutlined"),(0,a.jsx)(he.Z,{className:I().icon},"GithubOutlined")]})]})},Q=function(){return(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)(U.Z,{align:"center",children:["Not a member?",(0,a.jsx)(Ie.rU,{to:"/user/register",children:(0,a.jsx)(f._H,{id:"global.register"})})]})})},ee=function(){var n=(0,x.Z)(r().mark(function i(d){return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("base_url",d.baseUrl),Z.default.success("Saved!");case 2:case"end":return t.stop()}},i)}));return function(d){return n.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:I().container,children:[(0,a.jsxs)("div",{className:"flex items-center flex-end mr-4 gap-4","data-lang":!0,children:[(0,a.jsx)(E.Z,{title:"Your domain",content:(0,a.jsx)(Be.ZP,{onFinish:ee,children:(0,a.jsx)(re.Z,{placeholder:"e.g: ".concat(We.Z.domain),required:!0,name:"baseUrl"})}),children:(0,a.jsx)(pe.Z,{style:{fontSize:16}})}),f.pD&&(0,a.jsx)(f.pD,{})]}),(0,a.jsx)("div",{className:I().content,children:(0,a.jsxs)(Fe,{logo:(0,a.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"DefZone.Net",subTitle:g.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},actions:[(0,a.jsx)(_,{},0),(0,a.jsx)(L.Z,{},1),(0,a.jsx)(Q,{},2)],onFinish:function(){var n=(0,x.Z)(r().mark(function i(d){return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(d);case 2:case"end":return t.stop()}},i)}));return function(i){return n.apply(this,arguments)}}(),children:[(0,a.jsxs)(P.Z,{activeKey:N,onChange:y,children:[(0,a.jsx)(P.Z.TabPane,{tab:g.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"Account login"})},"account"),(0,a.jsx)(P.Z.TabPane,{tab:g.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"Phone login"})},"mobile")]}),N==="account"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(re.Z,{name:"username",fieldProps:{size:"large",prefix:(0,a.jsx)(xe.Z,{className:I().prefixIcon})},placeholder:g.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:(0,a.jsx)(f._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,a.jsx)(re.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,a.jsx)(ne,{className:I().prefixIcon})},placeholder:g.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,a.jsx)(f._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),N==="mobile"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(re.Z,{fieldProps:{size:"large",prefix:(0,a.jsx)(fe,{className:I().prefixIcon})},name:"mobile",placeholder:g.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:(0,a.jsx)(f._H,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:(0,a.jsx)(f._H,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),(0,a.jsx)(De,{fieldProps:{size:"large",prefix:(0,a.jsx)(ne,{className:I().prefixIcon})},captchaProps:{size:"large"},placeholder:g.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(i,d){return i?"".concat(d," ").concat(g.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):g.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:(0,a.jsx)(f._H,{id:"pages.login.captcha.required",defaultMessage:"Please input captcha!"})}],onGetCaptcha:function(){var n=(0,x.Z)(r().mark(function i(d){var p;return r().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Ae({phone:d});case 2:if(p=o.sent,p!==!1){o.next=5;break}return o.abrupt("return");case 5:Z.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return o.stop()}},i)}));return function(i){return n.apply(this,arguments)}}()})]}),(0,a.jsxs)("div",{style:{marginBottom:24},children:[(0,a.jsx)(Se.Z,{noStyle:!0,name:"autoLogin",children:(0,a.jsx)(f._H,{id:"pages.login.rememberMe",defaultMessage:"Remember me"})}),(0,a.jsx)("a",{style:{float:"right"},children:(0,a.jsx)(f._H,{id:"pages.login.forgotPassword",defaultMessage:"Forgot password"})})]})]})}),(0,a.jsx)(Ne.Z,{})]})},ze=He}}]);
