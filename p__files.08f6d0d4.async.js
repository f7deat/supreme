(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[48],{10749:function(_,L,r){"use strict";r.r(L),r.d(L,{default:function(){return he}});var V=r(13062),d=r(71230),H=r(34669),l=r(54458),m=r(89032),N=r(15746),w=r(49111),J=r(19650),G=r(57663),Z=r(71577),D=r(3182),E=r(2824),K=r(402),W=r(59289),I=r(94043),R=r.n(I),M=r(70844),z=r(19671),$=r(62298),X=r(53587),C=r(92374),b=r(67294),P=r(11849),k=r(43185),B=r(11324),q=r(63185),S=r(9676),s=r(48736),a=r(27049),n=r(86582),t=r(8890),O=r(84391),e=r(85893),ee=function(o){var U=(0,b.useState)([]),h=(0,E.Z)(U,2),c=h[0],i=h[1],x=(0,b.useState)(!1),F=(0,E.Z)(x,2),v=F[0],p=F[1],u={onRemove:function(T){var g=c.indexOf(T),j=c.slice();j.splice(g,1),i(j)},beforeUpload:function(T){return i([].concat((0,n.Z)(c),[T])),!1},fileList:c},y=function(){p(!0),p(!1)};return(0,e.jsxs)(t.Z,{visible:o.visible,onVisibleChange:o.setVisible,onFinish:function(){return o.setVisible(!1)},children:[(0,e.jsx)(a.Z,{orientation:"left",children:"Ch\u1ECDn b\u1EA3ng c\u1EA7n Import"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsx)(S.Z,{children:"Table: dbo.[Posts]"})}),(0,e.jsx)("div",{children:(0,e.jsx)(S.Z,{children:"Table: dbo.[PostCategories]"})}),(0,e.jsx)("div",{children:(0,e.jsx)(S.Z,{children:"Table: dbo.[Categories]"})})]}),(0,e.jsx)(a.Z,{}),(0,e.jsxs)("div",{style:{textAlign:"center"},children:[(0,e.jsx)(B.Z,(0,P.Z)((0,P.Z)({},u),{},{maxCount:1,children:(0,e.jsx)(Z.Z,{icon:(0,e.jsx)(O.Z,{}),children:"Select File"})})),(0,e.jsx)(Z.Z,{type:"primary",onClick:y,disabled:c.length===0,loading:v,style:{marginTop:16},children:v?"Uploading":"Start Upload"})]})]})},re=ee,ve=r(62350),ne=r(75443),ye=r(34792),Q=r(48086),te=r(81531),se=r(73171),ae=r(49101),le=r(71975),ie=function(o){var U=B.Z.Dragger,h={name:"file",multiple:!0,action:"https://defzone.net/api/file/upload",headers:{authorization:"Bearer ".concat(localStorage.getItem("def_token"))},onChange:function(i){var x=i.file.status;x!=="uploading"&&console.log(i.file,i.fileList),x==="done"?Q.default.success("".concat(i.file.name," file uploaded successfully.")):x==="error"&&Q.default.error("".concat(i.file.name," file upload failed."))},onDrop:function(i){console.log("Dropped files",i.dataTransfer.files)},label:"Drag or drop to upload!"};return(0,e.jsx)(le.Z,{visible:o.visible,onVisibleChange:o.setVisible,children:(0,e.jsx)(U,(0,P.Z)({},h))})},ue=ie,oe=r(30381),de=r.n(oe),ce=function(){var o=(0,b.useRef)(),U=(0,b.useState)(!1),h=(0,E.Z)(U,2),c=h[0],i=h[1],x=function(){var v=(0,D.Z)(R().mark(function p(u){var y,f;return R().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,C._I)(u);case 2:y=g.sent,y.succeeded&&(Q.default.success("File was deleted!"),(f=o.current)===null||f===void 0||f.reload());case 4:case"end":return g.stop()}},p)}));return function(u){return v.apply(this,arguments)}}(),F=[{title:"Name",dataIndex:"name"},{title:"Uploaded date",dataIndex:"uploadedDate",search:!1,render:function(p,u){return de()(u.uploadedDate).format("DD/MM/yyyy hh:mm:ss")}},{title:"Size",render:function(p,u){return u.size.toLocaleString()+"KB"},search:!1},{title:"Option",search:!1,render:function(p,u){return(0,e.jsx)(ne.Z,{title:"Are you sure to delete this?",onConfirm:function(){return x(u.id)},okText:"Yes",cancelText:"No",children:(0,e.jsx)(Z.Z,{type:"primary",danger:!0,icon:(0,e.jsx)(se.Z,{})})})}}];return(0,e.jsxs)("div",{children:[(0,e.jsx)(te.ZP,{headerTitle:"Recent files",actionRef:o,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,e.jsxs)(Z.Z,{type:"primary",onClick:function(){return i(!0)},children:[(0,e.jsx)(ae.Z,{})," T\u1EA3i l\xEAn"]},"primary")]},request:C.ad,columns:F,rowSelection:{}}),(0,e.jsx)(ue,{visible:c,setVisible:i})]})},pe=ce,fe=r(43581),me=function(){var o=W.Z.Text,U=(0,b.useState)(!1),h=(0,E.Z)(U,2),c=h[0],i=h[1],x=(0,fe.QT)(C.b1),F=x.data,v=function(){var u=(0,D.Z)(R().mark(function y(){var f,T,g,j;return R().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,C.P8)();case 2:T=A.sent,g=window.URL.createObjectURL(new Blob([T])),j=document.createElement("a"),j.href=g,j.setAttribute("download","backup.json"),document.body.appendChild(j),j.click(),(f=j.parentNode)===null||f===void 0||f.removeChild(j);case 10:case"end":return A.stop()}},y)}));return function(){return u.apply(this,arguments)}}(),p=function(){return(0,e.jsxs)(J.Z,{children:[(0,e.jsx)(Z.Z,{icon:(0,e.jsx)(z.Z,{}),type:"primary",onClick:function(){return v()},children:"Backup"}),(0,e.jsx)(Z.Z,{icon:(0,e.jsx)($.Z,{}),type:"primary",danger:!0,onClick:function(){return i(!0)},children:"Import"})]})};return(0,e.jsxs)(M.ZP,{title:"File Manager",extra:(0,e.jsx)(p,{}),children:[(0,e.jsxs)(d.Z,{gutter:16,children:[(0,e.jsx)(N.Z,{span:18,children:(0,e.jsx)(pe,{})}),(0,e.jsx)(N.Z,{span:6,children:(0,e.jsxs)("div",{className:"p-4 bg-white rounded",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsxs)("h1",{className:"text-primary",children:[F,"KB"]}),(0,e.jsx)("h1",{children:"50GB"})]}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)(o,{type:"secondary",children:"Used"}),(0,e.jsx)("span",{className:"text-primary",children:"Upgrade"})]}),(0,e.jsx)(l.Z,{percent:30,showInfo:!1,className:"mb-4"}),(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:"flex gap-4",children:[(0,e.jsx)("div",{style:{height:40,width:40,backgroundColor:"#eff0fd",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsx)(X.Z,{})}),(0,e.jsxs)("div",{className:"flex items-center",style:{flexGrow:1},children:[(0,e.jsxs)("div",{style:{flexGrow:1},children:[(0,e.jsx)("div",{children:(0,e.jsx)("b",{children:"Image"})}),(0,e.jsx)(o,{type:"secondary",className:"text-sm",children:"1,782 files"})]}),(0,e.jsx)("h3",{children:"36GB"})]})]})})]})})]}),(0,e.jsx)(re,{visible:c,setVisible:i})]})},he=me},92374:function(_,L,r){"use strict";r.d(L,{P8:function(){return N},ad:function(){return Z},oU:function(){return E},o1:function(){return W},tM:function(){return R},b1:function(){return z},_I:function(){return b},Pq:function(){return k},kK:function(){return q}});var V=r(11849),d=r(3182),H=r(94043),l=r.n(H),m=r(61685);function N(){return w.apply(this,arguments)}function w(){return w=(0,d.Z)(l().mark(function s(){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.Z)("/file/backup",{responseType:"blob"}));case 1:case"end":return n.stop()}},s)})),w.apply(this,arguments)}function J(s){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime.mark(function s(a){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/post/list-in-user/".concat(a)));case 1:case"end":return t.stop()}},s)})),G.apply(this,arguments)}function Z(s){return D.apply(this,arguments)}function D(){return D=(0,d.Z)(l().mark(function s(a){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.Z)("/file/list",{method:"GET",params:(0,V.Z)({},a)}));case 1:case"end":return t.stop()}},s)})),D.apply(this,arguments)}function E(s){return K.apply(this,arguments)}function K(){return K=(0,d.Z)(l().mark(function s(a){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.Z)("/appsetting/details/".concat(a)));case 1:case"end":return t.stop()}},s)})),K.apply(this,arguments)}function W(s){return I.apply(this,arguments)}function I(){return I=(0,d.Z)(l().mark(function s(a){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.Z)("/appsetting/save",{data:a,method:"POST"}));case 1:case"end":return t.stop()}},s)})),I.apply(this,arguments)}function R(){return M.apply(this,arguments)}function M(){return M=(0,d.Z)(l().mark(function s(){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.Z)("/user"));case 1:case"end":return n.stop()}},s)})),M.apply(this,arguments)}function z(){return $.apply(this,arguments)}function $(){return $=(0,d.Z)(l().mark(function s(){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,m.Z)("/file/total-used");case 2:return n.t0=n.sent,n.abrupt("return",{data:n.t0});case 4:case"end":return n.stop()}},s)})),$.apply(this,arguments)}function X(s){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime.mark(function s(a){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/file/upload",{method:"POST",data:a}));case 1:case"end":return t.stop()}},s)})),C.apply(this,arguments)}function b(s){return P.apply(this,arguments)}function P(){return P=(0,d.Z)(l().mark(function s(a){return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.Z)("/file/delete/".concat(a),{method:"POST"}));case 1:case"end":return t.stop()}},s)})),P.apply(this,arguments)}function k(s,a){return B.apply(this,arguments)}function B(){return B=(0,d.Z)(l().mark(function s(a,n){return l().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,m.Z)("/post/list-by-category/".concat(a),{params:(0,V.Z)({},n)}));case 1:case"end":return O.stop()}},s)})),B.apply(this,arguments)}function q(){return S.apply(this,arguments)}function S(){return S=(0,d.Z)(l().mark(function s(){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,m.Z)("/post/get-list-popular"));case 1:case"end":return n.stop()}},s)})),S.apply(this,arguments)}}}]);
