(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[166],{90010:function(Y,A,e){"use strict";e.r(A),e.d(A,{default:function(){return _}});var V=e(62350),g=e(75443),W=e(57663),s=e(71577),Z=e(34792),x=e(48086),E=e(2824),B=e(8212),D=e(73171),L=e(49101),I=e(70844),U=e(58894),o=e(67294),P=e(43581),p=e(36571),G=e(47673),h=e(4107),F=e(3182),b=e(94043),a=e.n(b),r=e(952),u=e(71975),n=e(64317),w=e(85589),H=e.n(w),N=e(51742),t=e(85893),Q=function(v){var C=(0,o.useRef)(),K=(0,o.useState)(),T=(0,E.Z)(K,2),$=T[0],O=T[1];(0,o.useEffect)(function(){(0,N.KQ)().then(function(d){O(d.map(function(c){return{value:c.id,label:c.name}}))})},[]),(0,o.useEffect)(function(){if(v.postId!==0)(0,p.xl)(v.postId).then(function(c){var m,f=c.post,j=c.categories;(m=C.current)===null||m===void 0||m.setFields([{name:"id",value:f.id},{name:"title",value:f.title},{name:"url",value:f.url},{name:"description",value:f.description},{name:"thumbnail",value:f.thumbnail},{name:"tags",value:f.tags},{name:"content",value:H().createEditorState(f.content)},{name:"categories",value:j},{name:"status",value:f.status}])});else{var d;(d=C.current)===null||d===void 0||d.resetFields()}},[v.postId]);var M=function(){v.setVisible(!1),v.reload()},R=function(){var d=(0,F.Z)(a().mark(function c(m){return a().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:m.content=m.content.toHTML(),v.postId!==0?(0,p.CP)(m).then(function(S){S.succeeded?(x.default.success("succeeded!"),M()):x.default.error("faild!")}):(0,p.q2)(m).then(function(S){S.succeeded?(x.default.success("succeeded!"),M()):x.default.error("faild!")});case 2:case"end":return j.stop()}},c)}));return function(m){return d.apply(this,arguments)}}();return(0,t.jsxs)(u.Z,{width:window.innerWidth-300,visible:v.visible,onFinish:R,onVisibleChange:v.setVisible,formRef:C,children:[(0,t.jsx)(r.ZP.Item,{name:"id",hidden:!0,children:(0,t.jsx)(h.Z,{})}),(0,t.jsx)(r.ZP.Item,{name:"title",label:"Ti\xEAu \u0111\u1EC1",children:(0,t.jsx)(h.Z,{})}),(0,t.jsx)(r.ZP.Item,{name:"url",label:"\u0110\u01B0\u1EDDng d\u1EABn",children:(0,t.jsx)(h.Z,{})}),(0,t.jsx)(r.ZP.Item,{name:"description",label:"M\xF4 t\u1EA3",children:(0,t.jsx)(h.Z.TextArea,{})}),(0,t.jsx)(r.ZP.Item,{name:"content",label:"N\u1ED9i dung",children:(0,t.jsx)(H(),{language:"en"})}),(0,t.jsx)(r.ZP.Item,{name:"categories",label:"Danh m\u1EE5c",children:(0,t.jsx)(n.Z,{fieldProps:{mode:"multiple"},options:$})}),(0,t.jsx)(r.ZP.Item,{name:"tags",label:"Tags",children:(0,t.jsx)(h.Z,{})}),(0,t.jsx)(r.ZP.Item,{name:"thumbnail",label:"Thumbnail",children:(0,t.jsx)(h.Z,{})}),(0,t.jsx)(r.ZP.Item,{name:"status",label:"Tr\u1EA1ng th\xE1i",children:(0,t.jsx)(n.Z,{options:[{value:0,label:"Draft"},{value:1,label:"Active"}]})})]})},J=Q,z=e(30381),X=e.n(z),k=e(61685),q=function(){var v=(0,o.useState)(!1),C=(0,E.Z)(v,2),K=C[0],T=C[1],$=(0,o.useState)(0),O=(0,E.Z)($,2),M=O[0],R=O[1],d=(0,o.useRef)(),c=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(i){setTimeout(function(){i(!0)},l)})},m=function(){var l;(l=d.current)===null||l===void 0||l.reload()},f=function(l){R(l),c(),T(!0)},j=function(){R(0),c(2e3),T(!0)},S=function(l){(0,p.fR)(l).then(function(i){i.succeeded?x.default.success("deleted!"):x.default.error("error!")})},te=[{title:"Ti\xEAu \u0111\u1EC1",dataIndex:"title",render:function(l,i){return(0,t.jsx)("a",{href:"".concat(k.y,"/post/").concat(i.url,"-").concat(i.id,".html"),target:"_blank",children:l})}},{title:"L\u01B0\u1EE3t xem",dataIndex:"view",render:function(l,i){return i.view.toLocaleString()}},{title:"Ng\xE0y c\u1EADp nh\u1EADt",dataIndex:"modifiedDate",render:function(l,i){return X()(i.modifiedDate).format("DD/MM/YYYY hh:mm:ss")}},{title:(0,t.jsx)(P._H,{id:"pages.searchTable.titleStatus",defaultMessage:"Status"}),dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"Draft",status:"Default"},1:{text:"Active",status:"Processing"},2:{text:(0,t.jsx)(P._H,{id:"pages.searchTable.nameStatus.online",defaultMessage:"Online"}),status:"Success"},3:{text:(0,t.jsx)(P._H,{id:"pages.searchTable.nameStatus.abnormal",defaultMessage:"Abnormal"}),status:"Error"}}},{title:(0,t.jsx)(P._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(l,i){return[(0,t.jsx)(s.Z,{type:"primary",icon:(0,t.jsx)(B.Z,{}),onClick:function(){return f(i.id)}}),(0,t.jsx)(g.Z,{title:"Are you sure to delete this?",onConfirm:function(){return S(i.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(s.Z,{type:"primary",danger:!0,icon:(0,t.jsx)(D.Z,{})})})]}}];return(0,t.jsxs)(I.ZP,{title:"B\xE0i vi\u1EBFt",children:[(0,t.jsx)(U.ZP,{headerTitle:"Danh s\xE1ch",rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsx)(s.Z,{type:"primary",danger:!0,children:"Import"}),(0,t.jsx)(s.Z,{type:"primary",icon:(0,t.jsx)(L.Z,{}),onClick:j,children:"Vi\u1EBFt b\xE0i"})]},request:p.Jq,columns:te,rowSelection:{},actionRef:d}),(0,t.jsx)(J,{visible:K,setVisible:T,postId:M,reload:m})]})},_=q},51742:function(Y,A,e){"use strict";e.d(A,{KQ:function(){return x},CP:function(){return B},i8:function(){return L},yr:function(){return U},rB:function(){return P},uu:function(){return G},n3:function(){return F}});var V=e(11849),g=e(3182),W=e(94043),s=e.n(W),Z=e(61685);function x(){return E.apply(this,arguments)}function E(){return E=(0,g.Z)(s().mark(function a(){return s().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,Z.Z)("/category/all",{method:"GET"}));case 1:case"end":return u.stop()}},a)})),E.apply(this,arguments)}function B(a){return D.apply(this,arguments)}function D(){return D=(0,g.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Z.Z)("/category/list",{method:"GET",params:(0,V.Z)({},r)}));case 1:case"end":return n.stop()}},a)})),D.apply(this,arguments)}function L(a){return I.apply(this,arguments)}function I(){return I=(0,g.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Z.Z)("/category/add",{method:"POST",data:r}));case 1:case"end":return n.stop()}},a)})),I.apply(this,arguments)}function U(a){return o.apply(this,arguments)}function o(){return o=(0,g.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Z.Z)("/category/update",{method:"POST",data:r}));case 1:case"end":return n.stop()}},a)})),o.apply(this,arguments)}function P(){return p.apply(this,arguments)}function p(){return p=(0,g.Z)(s().mark(function a(){return s().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,Z.Z)("/category/list-parrent",{method:"GET"}));case 1:case"end":return u.stop()}},a)})),p.apply(this,arguments)}function G(a){return h.apply(this,arguments)}function h(){return h=(0,g.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Z.Z)("/category/delete/".concat(r),{method:"DELETE"}));case 1:case"end":return n.stop()}},a)})),h.apply(this,arguments)}function F(a){return b.apply(this,arguments)}function b(){return b=(0,g.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Z.Z)("/category/".concat(r),{method:"GET"}));case 1:case"end":return n.stop()}},a)})),b.apply(this,arguments)}}}]);
