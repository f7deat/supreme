(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[992],{35245:function(ie,z,t){"use strict";t.r(z),t.d(z,{default:function(){return De}});var k=t(57663),p=t(71577),q=t(34792),n=t(48086),f=t(3182),P=t(2824),R=t(94043),Z=t.n(R),o=t(67294),$=t(67265),F=t(5977),x=t(11849),Y=t(85589),L=t.n(Y),U=t(21010),K=t(44961),N=t.n(K),a=t(85893);L().use(N()({includeEditors:["pro-braft-editor"]}));var V=function(h){var r=(0,U.YB)(),C=(0,o.useState)("en"),T=(0,P.Z)(C,2),S=T[0],g=T[1];return(0,o.useEffect)(function(){switch(r.locale){case"vi-VN":g("vi-vn");break;default:g("en");break}},[r.locale]),(0,a.jsx)(L(),(0,x.Z)((0,x.Z)({},h),{},{language:S,id:"pro-braft-editor"}))},G=V,w=t(5894),O=t(5966),_=t(90672),u=t(36571),E=function(h){var r=h.post,C=(0,o.useRef)();(0,o.useEffect)(function(){if(h.id){var S;(S=C.current)===null||S===void 0||S.setFields([{name:"id",value:r==null?void 0:r.id},{name:"title",value:r==null?void 0:r.title},{name:"description",value:r==null?void 0:r.description},{name:"thumbnail",value:r==null?void 0:r.thumbnail},{name:"content",value:L().createEditorState(r==null?void 0:r.content)},{name:"status",value:r==null?void 0:r.status}])}else{var g;(g=C.current)===null||g===void 0||g.resetFields()}},[r,h.id]);var T=function(){var S=(0,f.Z)(Z().mark(function g(y){var l;return Z().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(y.content=y.content.toHTML(),!y.id){c.next=7;break}return c.next=4,(0,u.CP)(y);case 4:c.t0=c.sent,c.next=10;break;case 7:return c.next=9,(0,u.q2)(y);case 9:c.t0=c.sent;case 10:l=c.t0,l.succeeded?(n.default.success("Saved!"),U.m8.push("/blog/post/center/".concat(l.data.id))):n.default.error(l.message);case 12:case"end":return c.stop()}},g)}));return function(y){return S.apply(this,arguments)}}();return(0,a.jsxs)(w.A,{onFinish:T,formRef:C,children:[(0,a.jsx)(O.Z,{name:"id",hidden:!0}),(0,a.jsx)(O.Z,{name:"title",label:"Ti\xEAu \u0111\u1EC1",rules:[{required:!0}]}),(0,a.jsx)(_.Z,{name:"description",label:"M\xF4 t\u1EA3"}),(0,a.jsx)(w.A.Item,{name:"content",label:"N\u1ED9i dung",rules:[{required:!0}],children:(0,a.jsx)(G,{})})]})},s=E,e=t(64072),m=t(40963),d=t(69182),i=t(51742),D=t(64317),ve=function(h){var r=(0,o.useState)(),C=(0,P.Z)(r,2),T=C[0],S=C[1],g=(0,o.useRef)();(0,o.useEffect)(function(){(0,i.KQ)().then(function(l){S(l.map(function(v){return{value:v.id,label:v.name}}))})},[]),(0,o.useEffect)(function(){(0,m.LE)(h.id).then(function(l){var v;(v=g.current)===null||v===void 0||v.setFieldsValue({categories:l})})},[h.id]);var y=function(){var l=(0,f.Z)(Z().mark(function v(c){var I;return Z().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,m.SA)(Number(h.id),c.categories);case 2:I=W.sent,I.succeeded?n.default.success("Saved!"):n.default.error(I.message);case 4:case"end":return W.stop()}},v)}));return function(c){return l.apply(this,arguments)}}();return(0,a.jsx)(w.A,{formRef:g,onFinish:y,children:(0,a.jsx)(D.Z,{fieldProps:{mode:"multiple"},options:T,name:"categories",label:"Categories"})})},he=ve,Ae=t(20136),ge=t(55241),We=t(22385),ye=t(45777),Le=t(71153),le=t(60331),Ue=t(47673),oe=t(4107),de=t(86582),Ce=t(49101),be=function(h){var r=h.tags,C=h.setTags,T=(0,o.useState)(""),S=(0,P.Z)(T,2),g=S[0],y=S[1],l=(0,o.useState)(!1),v=(0,P.Z)(l,2),c=v[0],I=v[1],A=(0,o.useState)(""),W=(0,P.Z)(A,2),ee=W[0],te=W[1],se=(0,o.useState)(-1),re=(0,P.Z)(se,2),B=re[0],Q=re[1],M=(0,o.useRef)(),X=function(b){var ne=r.filter(function(ae){return ae!==b});C(ne)},pe=function(){var b;I(!0),(b=M.current)===null||b===void 0||b.focus()},H=function(b){y(b.target.value)},fe=function(){var b=r;g&&r.indexOf(g)===-1&&(b=[].concat((0,de.Z)(r),[g])),y(""),I(!1),C(b)},we=function(b){te(b.target.value)},me=function(){var b=(0,de.Z)(r);C(b),b[B]=ee,Q(-1),te("")};return(0,a.jsxs)(a.Fragment,{children:[r.map(function(j,b){if(B===b)return(0,a.jsx)(oe.Z,{ref:M,size:"small",className:"tag-input",value:ee,onChange:we,onBlur:me,onPressEnter:me},j);var ne=j.length>20,ae=(0,a.jsx)(le.Z,{closable:!0,onClose:function(){return X(j)},children:(0,a.jsx)("span",{onDoubleClick:function(Ie){if(b!==0){var ue;(ue=M.current)===null||ue===void 0||ue.focus(),Ie.preventDefault()}},children:ne?"".concat(j.slice(0,20),"..."):j})},j);return ne?(0,a.jsx)(ye.Z,{title:j,children:ae},j):ae}),c&&(0,a.jsx)(oe.Z,{ref:M,type:"text",className:"w-20",size:"small",value:g,onChange:H,onBlur:fe,onPressEnter:fe}),!c&&(0,a.jsxs)(le.Z,{style:{borderStyle:"dashed",cursor:"pointer"},onClick:pe,children:[(0,a.jsx)(Ce.Z,{})," New Tag"]})]})},Ee=be,Se=t(63258),Pe=t(95357),ce=t(22452),Ze=function(h){var r=h.data,C=h.setTags,T=h.tags,S=(0,o.useRef)();(0,o.useEffect)(function(){var y;(y=S.current)===null||y===void 0||y.setFields([{name:"id",value:r==null?void 0:r.id},{name:"createdDate",value:r==null?void 0:r.createdDate},{name:"modifiedDate",value:r==null?void 0:r.modifiedDate},{name:"thumbnail",value:r==null?void 0:r.thumbnail}]),r!=null&&r.tags&&C(r.tags.split(","))},[r,C]);var g=function(){var y=(0,f.Z)(Z().mark(function l(v){var c;return Z().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return v.createdDate=new Date(v.createdDate),v.modifiedDate=new Date(v.modifiedDate),v.tags=T.join(","),A.next=5,(0,m.o1)(v);case 5:c=A.sent,c.succeeded?n.default.success(c.message):n.default.error(c.message);case 7:case"end":return A.stop()}},l)}));return function(v){return y.apply(this,arguments)}}();return(0,a.jsxs)(w.A,{formRef:S,onFinish:g,children:[(0,a.jsx)(O.Z,{name:"id",hidden:!0}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(ce.Z,{name:"createdDate",label:"Created date"}),(0,a.jsx)(ce.Z,{name:"modifiedDate",label:"Modified date"})]}),(0,a.jsx)("div",{className:"mb-2",children:"\u1EA2nh \u0111\u1EA1i di\u1EC7n"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)(O.Z,{name:"thumbnail"})}),(0,a.jsx)(p.Z,{type:"primary",icon:(0,a.jsx)(Se.Z,{}),children:"Explorer"}),(0,a.jsx)(ge.Z,{children:(0,a.jsx)(p.Z,{icon:(0,a.jsx)(Pe.Z,{}),children:"Preview"})})]}),(0,a.jsx)("div",{className:"mb-2",children:"Tags"}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(Ee,{tags:T,setTags:C})})]})},Te=Ze,je=function(){var h=(0,F.UO)(),r=(0,o.useState)(""),C=(0,P.Z)(r,2),T=C[0],S=C[1],g=(0,o.useState)(),y=(0,P.Z)(g,2),l=y[0],v=y[1],c=(0,o.useState)([]),I=(0,P.Z)(c,2),A=I[0],W=I[1];(0,o.useEffect)(function(){(0,m.uC)(h.id).then(function(B){v(B)})},[h.id]);var ee=function(Q){S(Q)},te=function(){return T==="setting"?(0,a.jsx)(Te,{data:l,setTags:W,tags:A}):T==="categories"?(0,a.jsx)(he,{id:h.id}):(0,a.jsx)(s,{id:h.id,post:l})},se=function(){var B=(0,f.Z)(Z().mark(function Q(){var M,X;return Z().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,m.sj)((M=l==null?void 0:l.id)!==null&&M!==void 0?M:0);case 2:X=H.sent,X.succeeded?(n.default.success("Published!"),U.m8.push("/blog/post")):n.default.error(X.message);case 4:case"end":return H.stop()}},Q)}));return function(){return B.apply(this,arguments)}}(),re=(l==null?void 0:l.id)!==null&&(l==null?void 0:l.id)!==void 0;return(0,a.jsx)($.ZP,{title:"Start writing",onTabChange:ee,tabList:[{tab:"General",key:"general"},{tab:"Setting",key:"setting"},{tab:"Categories",key:"categories"}],extra:(0,a.jsx)(p.Z,{icon:(0,a.jsx)(e.Z,{}),type:"primary",onClick:se,disabled:!re,children:"Publish"}),children:(0,a.jsx)(d.Z,{children:te()})})},De=je},51742:function(ie,z,t){"use strict";t.d(z,{KQ:function(){return P},CP:function(){return Z},i8:function(){return $},yr:function(){return x},rB:function(){return L},uu:function(){return K},TO:function(){return a},aE:function(){return G},AN:function(){return O}});var k=t(11849),p=t(3182),q=t(94043),n=t.n(q),f=t(21010);function P(){return R.apply(this,arguments)}function R(){return R=(0,p.Z)(n().mark(function u(){return n().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.WY)("category/all"));case 1:case"end":return s.stop()}},u)})),R.apply(this,arguments)}function Z(u){return o.apply(this,arguments)}function o(){return o=(0,p.Z)(n().mark(function u(E){return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)("category/list",{method:"GET",params:(0,k.Z)({},E)}));case 1:case"end":return e.stop()}},u)})),o.apply(this,arguments)}function $(u){return F.apply(this,arguments)}function F(){return F=(0,p.Z)(n().mark(function u(E){return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)("category/add",{method:"POST",data:E}));case 1:case"end":return e.stop()}},u)})),F.apply(this,arguments)}function x(u){return Y.apply(this,arguments)}function Y(){return Y=(0,p.Z)(n().mark(function u(E){return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)("category/update",{method:"POST",data:E}));case 1:case"end":return e.stop()}},u)})),Y.apply(this,arguments)}function L(){return U.apply(this,arguments)}function U(){return U=(0,p.Z)(n().mark(function u(){return n().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.WY)("category/list-parrent",{method:"GET"}));case 1:case"end":return s.stop()}},u)})),U.apply(this,arguments)}function K(u){return N.apply(this,arguments)}function N(){return N=(0,p.Z)(n().mark(function u(E){return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)("category/delete/".concat(E),{method:"POST"}));case 1:case"end":return e.stop()}},u)})),N.apply(this,arguments)}function a(u){return V.apply(this,arguments)}function V(){return V=(0,p.Z)(n().mark(function u(E){return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WY)("category/".concat(E)));case 1:case"end":return e.stop()}},u)})),V.apply(this,arguments)}function G(){return w.apply(this,arguments)}function w(){return w=(0,p.Z)(n().mark(function u(){return n().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.WY)("category/list-type"));case 1:case"end":return s.stop()}},u)})),w.apply(this,arguments)}function O(){return _.apply(this,arguments)}function _(){return _=(0,p.Z)(n().mark(function u(){return n().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.WY)("category/export",{method:"POST"}));case 1:case"end":return s.stop()}},u)})),_.apply(this,arguments)}},40963:function(ie,z,t){"use strict";t.d(z,{u1:function(){return R},_V:function(){return o},aD:function(){return F},mL:function(){return Y},sj:function(){return N},LE:function(){return V},SA:function(){return w},o1:function(){return _},uC:function(){return E}});var k=t(11849),p=t(3182),q=t(94043),n=t.n(q),f=t(21010),P;(function(e){e[e.DRAFT=0]="DRAFT",e[e.PUBLISH=1]="PUBLISH"})(P||(P={}));function R(e){return Z.apply(this,arguments)}function Z(){return Z=(0,p.Z)(n().mark(function e(m){return n().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.WY)("post/list",{params:(0,k.Z)({},m)}));case 1:case"end":return i.stop()}},e)})),Z.apply(this,arguments)}function o(){return $.apply(this,arguments)}function $(){return $=(0,p.Z)(n().mark(function e(){return n().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.WY)("post/view"));case 1:case"end":return d.stop()}},e)})),$.apply(this,arguments)}function F(){return x.apply(this,arguments)}function x(){return x=(0,p.Z)(n().mark(function e(){return n().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.WY)("dashboard/chart-post-by-categories"));case 1:case"end":return d.stop()}},e)})),x.apply(this,arguments)}function Y(){return L.apply(this,arguments)}function L(){return L=(0,p.Z)(n().mark(function e(){return n().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,f.WY)("post/count"));case 1:case"end":return d.stop()}},e)})),L.apply(this,arguments)}function U(e,m){return K.apply(this,arguments)}function K(){return K=(0,p.Z)(n().mark(function e(m,d){return n().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,f.WY)("post/set-status",{method:"POST",data:{id:m,status:d}}));case 1:case"end":return D.stop()}},e)})),K.apply(this,arguments)}function N(e){return a.apply(this,arguments)}function a(){return a=(0,p.Z)(n().mark(function e(m){return n().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",U(m,P.PUBLISH));case 1:case"end":return i.stop()}},e)})),a.apply(this,arguments)}function V(e){return G.apply(this,arguments)}function G(){return G=(0,p.Z)(n().mark(function e(m){return n().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.WY)("post/categories/".concat(m)));case 1:case"end":return i.stop()}},e)})),G.apply(this,arguments)}function w(e,m){return O.apply(this,arguments)}function O(){return O=(0,p.Z)(n().mark(function e(m,d){return n().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,f.WY)("post/map-categories",{method:"POST",data:{id:m,listCategoryId:d}}));case 1:case"end":return D.stop()}},e)})),O.apply(this,arguments)}function _(e){return u.apply(this,arguments)}function u(){return u=(0,p.Z)(n().mark(function e(m){return n().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.WY)("post/save-setting",{method:"POST",data:m}));case 1:case"end":return i.stop()}},e)})),u.apply(this,arguments)}function E(e){return s.apply(this,arguments)}function s(){return s=(0,p.Z)(n().mark(function e(m){return n().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.WY)("post/".concat(m)));case 1:case"end":return i.stop()}},e)})),s.apply(this,arguments)}}}]);
