(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[634],{64317:function(G,Z,e){"use strict";var y=e(22122),h=e(28991),E=e(81253),c=e(67294),F=e(88063),j=e(22270),S=e(66758),d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],R=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],o=c.forwardRef(function(a,b){var M=a.fieldProps,A=a.children,B=a.params,V=a.proFieldProps,K=a.mode,P=a.valueEnum,T=a.request,U=a.showSearch,N=a.options,w=(0,E.Z)(a,d),l=(0,c.useContext)(S.Z);return c.createElement(F.Z,(0,y.Z)({mode:"edit",valueEnum:(0,j.h)(P),request:T,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,h.Z)({options:N,mode:K,showSearch:U,getPopupContainer:l.getPopupContainer},M),ref:b,proFieldProps:V},w),A)}),C=c.forwardRef(function(a,b){var M=a.fieldProps,A=a.children,B=a.params,V=a.proFieldProps,K=a.mode,P=a.valueEnum,T=a.request,U=a.options,N=(0,E.Z)(a,R),w=(0,h.Z)({options:U,mode:K||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},M),l=(0,c.useContext)(S.Z);return c.createElement(F.Z,(0,y.Z)({mode:"edit",valueEnum:(0,j.h)(P),request:T,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,h.Z)({getPopupContainer:l.getPopupContainer},w),ref:b,proFieldProps:V},N),A)}),n=o,I=C,u=n;u.SearchSelect=I,u.displayName="ProFormComponent",Z.Z=u},90672:function(G,Z,e){"use strict";var y=e(22122),h=e(81253),E=e(67294),c=e(88063),F=["fieldProps","proFieldProps"],j=function(d,R){var o=d.fieldProps,C=d.proFieldProps,n=(0,h.Z)(d,F);return E.createElement(c.Z,(0,y.Z)({ref:R,mode:"edit",valueType:"textarea",fieldProps:o,proFieldProps:C},n))};Z.Z=E.forwardRef(j)},5966:function(G,Z,e){"use strict";var y=e(22122),h=e(81253),E=e(67294),c=e(88063),F=["fieldProps","proFieldProps"],j=["fieldProps","proFieldProps"],S="text",d=function(n){var I=n.fieldProps,u=n.proFieldProps,a=(0,h.Z)(n,F);return E.createElement(c.Z,(0,y.Z)({mode:"edit",valueType:S,fieldProps:I,filedConfig:{valueType:S},proFieldProps:u},a))},R=function(n){var I=n.fieldProps,u=n.proFieldProps,a=(0,h.Z)(n,j);return E.createElement(c.Z,(0,y.Z)({mode:"edit",valueType:"password",fieldProps:I,proFieldProps:u,filedConfig:{valueType:S}},a))},o=d;o.Password=R,o.displayName="ProFormComponent",Z.Z=o},75958:function(G,Z,e){"use strict";e.r(Z),e.d(Z,{default:function(){return ye}});var y=e(12968),h=e(62462),E=e(49111),c=e(19650),F=e(62350),j=e(75443),S=e(57663),d=e(71577),R=e(34792),o=e(48086),C=e(3182),n=e(2824),I=e(94043),u=e.n(I),a=e(70844),b=e(27019),M=e(43581),A=e(91816),B=e(8212),V=e(73171),K=e(49101),P=e(51742),T=e(5966),U=e(90672),N=e(64317),w=e(71975),l=e(67294),ie=e(26667),$e=e(57338),de=e(25084),ue=e(92374),t=e(85893),ce=function(f){var x=(0,l.useRef)(),z=function(){var O=(0,C.Z)(u().mark(function i(D){return u().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",(0,ue.Pq)(f.id,D));case 1:case"end":return W.stop()}},i)}));return function(D){return O.apply(this,arguments)}}(),L=[{title:"#",dataIndex:"index",valueType:"indexBorder",width:36},{title:"Ti\xEAu \u0111\u1EC1",dataIndex:"title"},{title:"L\u01B0\u1EE3t xem",dataIndex:"view",search:!1}];return(0,t.jsx)(de.Z,{visible:f.visible,onClose:function(){return f.onClose(!1)},width:window.innerWidth-window.innerWidth/2,children:(0,t.jsx)(b.ZP,{request:z,rowKey:"id",columns:L,actionRef:x})})},me=ce,Ye=e(71194),ve=e(50146),k=e(11849),Ge=e(43185),pe=e(11324),fe=e(61685),q=e(28991),he={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},Pe=he,xe=e(27029),_=function(f,x){return l.createElement(xe.Z,(0,q.Z)((0,q.Z)({},f),{},{ref:x,icon:Pe}))};_.displayName="InboxOutlined";var ge=l.forwardRef(_),Ee=function(f){var x=pe.Z.Dragger,z={name:"file",multiple:!0,action:"".concat(fe.y,"/api/category/import"),onChange:function(i){var D=i.file.status;D!=="uploading"&&console.log(i.file,i.fileList),D==="done"?o.default.success("".concat(i.file.name," file uploaded successfully.")):D==="error"&&o.default.error("".concat(i.file.name," file upload failed."))},onDrop:function(i){console.log("Dropped files",i.dataTransfer.files)}},L=function(){f.setVisible(!1)};return(0,t.jsx)(ve.Z,{title:"Import Categories",visible:f.visible,onOk:L,onCancel:function(){return f.setVisible(!1)},children:(0,t.jsxs)(x,(0,k.Z)((0,k.Z)({},z),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(ge,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))})},Ce=Ee,Ze=function(){var f=(0,M.YB)(),x=(0,l.useRef)(),z=(0,l.useState)(),L=(0,n.Z)(z,2),O=L[0],i=L[1],D=(0,l.useState)(),Q=(0,n.Z)(D,2),W=Q[0],je=Q[1],Se=(0,l.useState)(),ee=(0,n.Z)(Se,2),Te=ee[0],X=ee[1],Oe=(0,l.useState)(!1),te=(0,n.Z)(Oe,2),De=te[0],ae=te[1],Fe=(0,l.useState)(!1),re=(0,n.Z)(Fe,2),Ie=re[0],se=re[1],Me=(0,l.useState)(0),ne=(0,n.Z)(Me,2),Re=ne[0],be=ne[1],Ae=(0,l.useState)(!1),le=(0,n.Z)(Ae,2),Ne=le[0],oe=le[1],H=(0,l.useRef)();(0,l.useEffect)(function(){(0,P.rB)().then(function(v){return je(v.map(function(r){return{value:r.id,label:r.name}}))})},[]);var Le=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(s){setTimeout(function(){s(!0)},r)})},We=function(){var v=(0,C.Z)(u().mark(function r(s){var m,p;return u().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!s.id){g.next=7;break}return g.next=3,(0,P.yr)(s);case 3:m=g.sent,m.succeeded?(o.default.success("succeeded!"),i(!1)):o.default.error(m.message),g.next=11;break;case 7:return g.next=9,(0,P.i8)(s);case 9:p=g.sent,p.succeeded?(o.default.success("succeeded!"),i(!1)):o.default.error(p.message);case 11:case"end":return g.stop()}},r)}));return function(s){return v.apply(this,arguments)}}(),Be=function(){var r;(r=x.current)===null||r===void 0||r.resetFields(),X(""),i(!0)},Ve=function(r){(0,P.uu)(r).then(function(s){if(s.succeeded){var m;H==null||(m=H.current)===null||m===void 0||m.reload(),o.default.success(s.message)}else o.default.error(s.message)})},Ke=function(r){(0,P.n3)(r).then(function(){var s=(0,C.Z)(u().mark(function m(p){var $;return u().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return i(!0),Y.next=3,Le();case 3:($=x.current)===null||$===void 0||$.setFields([{name:"id",value:p.id},{name:"name",value:p.name},{name:"normalizeName",value:p.normalizeName},{name:"description",value:p.description},{name:"parrentId",value:p.parrentId},{name:"status",value:p.status},{name:"thumbnail",value:p.thumbnail}]),X(p.thumbnail);case 5:case"end":return Y.stop()}},m)}));return function(m){return s.apply(this,arguments)}}())},Ue=function(r){be(r),se(!0)},we=[{title:"T\xEAn",dataIndex:"name",width:200},{title:"M\xF4 t\u1EA3",dataIndex:"description",search:!1},{title:(0,t.jsx)(M._H,{id:"global.status",defaultMessage:"Status"}),dataIndex:"status",valueEnum:{0:{text:"Draft",status:"Default"},1:{text:"Active",status:"Processing"}},width:150},{title:(0,t.jsx)(M._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",width:150,render:function(r,s){return[(0,t.jsx)(d.Z,{icon:(0,t.jsx)(A.Z,{}),onClick:function(){return Ue(s.id)}},0),(0,t.jsx)(d.Z,{type:"primary",icon:(0,t.jsx)(B.Z,{}),onClick:function(){return Ke(s.id)}},1),(0,t.jsx)(j.Z,{title:"Are you sure to delete this?",onConfirm:function(){return Ve(s.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(d.Z,{type:"primary",danger:!0,icon:(0,t.jsx)(V.Z,{})})},2)]}}],ze=function(r){var s;(s=x.current)===null||s===void 0||s.setFieldsValue({thumbnail:r}),X(r)},He=function(){return(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(d.Z,{type:"primary",danger:!0,onClick:function(){return oe(!0)},children:"Import"}),(0,t.jsx)(d.Z,{type:"primary",icon:(0,t.jsx)(K.Z,{}),onClick:Be,children:"Th\xEAm m\u1EDBi"},0)]})};return(0,t.jsxs)(a.ZP,{extra:(0,t.jsx)(He,{}),children:[(0,t.jsx)(b.ZP,{headerTitle:f.formatMessage({id:"menu.blog.category",defaultMessage:"Categry"}),rowKey:"id",search:{layout:"vertical"},request:P.CP,columns:we,rowSelection:{},actionRef:H}),(0,t.jsxs)(w.Z,{title:"Manager",formRef:x,onVisibleChange:i,visible:O,autoFocusFirstInput:!0,drawerProps:{forceRender:!0,destroyOnClose:!0},onFinish:We,children:[(0,t.jsx)(T.Z,{name:"id",hidden:!0}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(T.Z,{name:"name",label:"T\xEAn danh m\u1EE5c",className:"w-full"})}),(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(T.Z,{name:"normalizeName",label:"Normalize name",tooltip:"Name without special character",className:"w-full"})})]}),(0,t.jsx)(U.Z,{name:"description",label:"Description"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(N.Z,{options:W,name:"parrentId",label:"Danh m\u1EE5c cha",className:"w-full"})}),(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(N.Z,{className:"w-full",initialValue:1,options:[{value:0,label:"Draft"},{value:1,label:"Active"}],name:"status",label:"Tr\u1EA1ng th\xE1i"})})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-grow",children:(0,t.jsx)(T.Z,{name:"thumbnail",className:"w-full"})}),(0,t.jsx)(d.Z,{style:{marginBottom:24},icon:(0,t.jsx)(A.Z,{}),onClick:function(){return ae(!0)},children:"Explorer"})]}),(0,t.jsx)(h.Z,{src:Te})]}),(0,t.jsx)(ie.Z,{visible:De,onVisibleChange:ae,onSelect:ze}),(0,t.jsx)(me,{visible:Ie,onClose:se,id:Re}),(0,t.jsx)(Ce,{visible:Ne,setVisible:oe})]})},ye=Ze}}]);
