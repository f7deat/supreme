(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[563],{60758:function(w,Z,e){"use strict";e.d(Z,{Z:function(){return Xe}});var F=e(20228),y=e(11382),E=e(84305),u=e(39559),n=e(22122),B=e(96156),o=e(28991),h=e(87757),i=e.n(h),W=e(92137),D=e(9715),c=e(93766),l=e(28481),x=e(81253),t=e(67294),k=e(94237),j=e(90484),p=e(88306),ee=e(8880),q=e(74763),ne=e(92210);function ue(r){return(0,j.Z)(r)!=="object"?!1:r===null?!0:!(t.isValidElement(r)||r.constructor===RegExp||r instanceof Map||r instanceof Set||r instanceof HTMLElement||r instanceof Blob||r instanceof File||Array.isArray(r))}var J=function(v,C){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,L=Object.keys(C).reduce(function($,g){var d=C[g];return(0,q.Z)(d)||($[g]=d),$},{});if(Object.keys(L).length<1||typeof window=="undefined"||(0,j.Z)(v)!=="object"||(0,q.Z)(v)||v instanceof Blob)return v;var b={},N=function $(g,d){var M={};return g==null||g===void 0?M:(Object.keys(g).forEach(function(m){var H=d?[d,m].flat(1):[m].flat(1),z=g[m],P=(0,p.Z)(L,H),T=function(){var S=typeof P=="function"?P==null?void 0:P(z,m,g):m;if(Array.isArray(S)){M=(0,ee.Z)(M,S,z);return}(0,j.Z)(S)==="object"?b=(0,o.Z)((0,o.Z)({},b),S):S&&(M=(0,ee.Z)(M,[S],z))};if(P&&typeof P=="function"&&T(),typeof window!="undefined"){if(ue(z)){var _=$(z,H);if(Object.keys(_).length<1)return;M=(0,ee.Z)(M,[m],_);return}T()}}),R?M:g)};return b=(0,ne.T)({},N(v),b),b},ae=J,ce=e(40821),ve=0;function Ye(r){var v=(0,t.useState)(function(){return r.proFieldKey?r.proFieldKey.toString():(ve+=1,ve.toString())}),C=(0,l.Z)(v,1),R=C[0],L=(0,t.useRef)(R),b=function(){var d=(0,W.Z)(i().mark(function M(){var m,H;return i().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(m=r.request)===null||m===void 0?void 0:m.call(r,r.params,r);case 2:return H=P.sent,P.abrupt("return",H);case 4:case"end":return P.stop()}},M)}));return function(){return d.apply(this,arguments)}}();(0,t.useEffect)(function(){return function(){ve+=1}},[]);var N=(0,ce.ZP)([L.current,r.params],b,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),$=N.data,g=N.error;return[$||g]}var Ie=Ye,Be=e(22270),je=e(23312),be=e(56725),$e=e(26369),Ue=e(60249),Ke=e(41036),We=e(45095),Le=e(66758),ar=e(49111),He=e(19650),ir=e(57663),he=e(71577),Me=e(97435),xe=function(v){var C=(0,k.YB)();if(v.render===!1)return null;var R=v.form,L=v.onSubmit,b=v.render,N=v.onReset,$=v.searchConfig,g=$===void 0?{}:$,d=v.submitButtonProps,M=v.resetButtonProps,m=M===void 0?{}:M,H=function(){R.submit(),L==null||L()},z=function(){R.resetFields(),N==null||N()},P=g.submitText,T=P===void 0?C.getMessage("tableForm.submit","\u63D0\u4EA4"):P,_=g.resetText,ie=_===void 0?C.getMessage("tableForm.reset","\u91CD\u7F6E"):_,S=[];m!==!1&&S.push(t.createElement(he.Z,(0,n.Z)({},(0,Me.Z)(m,["preventDefault"]),{key:"rest",onClick:function(oe){var X;(m==null?void 0:m.preventDefault)||z(),m==null||(X=m.onClick)===null||X===void 0||X.call(m,oe)}}),ie)),d!==!1&&S.push(t.createElement(he.Z,(0,n.Z)({type:"primary"},(0,Me.Z)(d||{},["preventDefault"]),{key:"submit",onClick:function(oe){var X;(d==null?void 0:d.preventDefault)||H(),d==null||(X=d.onClick)===null||X===void 0||X.call(d,oe)}}),T));var U=b?b((0,o.Z)((0,o.Z)({},v),{},{submit:H,reset:z}),S):S;return U?Array.isArray(U)?(U==null?void 0:U.length)<1?null:(U==null?void 0:U.length)===1?U[0]:t.createElement(He.Z,null,U):U:null},Ne=xe,Oe=e(80334),ze=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","extraUrlParams","syncToUrl","syncToInitialValues","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput"],Qe=["request","params","initialValues","formKey"],de=function(v,C,R){return v===!0?C:(0,Be.h)(v,C,R)};function Ge(r){var v=r.children,C=r.contentRender,R=r.submitter,L=r.fieldProps,b=r.formItemProps,N=r.groupProps,$=r.dateFormatter,g=$===void 0?"string":$,d=r.formRef,M=r.onInit,m=r.form,H=r.formComponentType,z=r.extraUrlParams,P=z===void 0?{}:z,T=r.syncToUrl,_=r.syncToInitialValues,ie=_===void 0?!0:_,S=r.onReset,U=r.omitNil,K=U===void 0?!0:U,oe=r.isKeyPressSubmit,X=r.autoFocusFirstInput,G=(0,x.Z)(r,ze),we=c.Z.useForm(m),ke=(0,l.Z)(we,1),De=ke[0],qe=(0,We.l)({},{disabled:!T}),pe=(0,l.Z)(qe,2),me=pe[0],se=pe[1],I=(0,t.useRef)(De||{}),Pe=(0,t.useRef)({}),ye=(0,t.useRef)({}),Q=(0,t.useCallback)(function(s,a,f){return ae((0,je.ZP)(s,g,Pe.current,a,f),ye.current,a)},[g]),fe=(0,t.useMemo)(function(){return{getFieldsFormatValue:function(a){var f;return Q((f=I.current)===null||f===void 0?void 0:f.getFieldsValue(a),K)},getFieldFormatValue:function(a){var f;return Q((f=I.current)===null||f===void 0?void 0:f.getFieldValue(a),K,a)},validateFieldsReturnFormatValue:function(){var s=(0,W.Z)(i().mark(function f(V){var A,te;return i().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,(A=I.current)===null||A===void 0?void 0:A.validateFields(V);case 2:return te=Y.sent,Y.abrupt("return",Q(te,K));case 4:case"end":return Y.stop()}},f)}));function a(f){return s.apply(this,arguments)}return a}()}},[K,Q]),le=(0,t.useMemo)(function(){var s=(0,o.Z)({},I.current);return Object.keys(I.current||{}).forEach(function(a){Object.defineProperty(s,a,{get:function(){return I.current[a]}})}),Object.keys(fe).forEach(function(a){Object.defineProperty(s,a,{get:function(){return fe[a]}})}),s},[]),_e=(0,be.Z)(!1),Ce=(0,l.Z)(_e,2),ge=Ce[0],Ze=Ce[1],Fe=t.Children.toArray(v).map(function(s,a){return a===0&&t.isValidElement(s)&&X?t.cloneElement(s,(0,o.Z)((0,o.Z)({},s.props),{},{autoFocus:X})):s}),re=(0,t.useMemo)(function(){return typeof R=="boolean"||!R?{}:R},[R]);(0,t.useImperativeHandle)(d,function(){return le});var Te=(0,t.useMemo)(function(){if(R!==!1)return t.createElement(Ne,(0,n.Z)({key:"submitter"},re,{onReset:function(){var a,f,V=Q((a=I.current)===null||a===void 0?void 0:a.getFieldsValue(),K);if(re==null||(f=re.onReset)===null||f===void 0||f.call(re,V),S==null||S(V),T){var A,te=Object.keys(Q((A=I.current)===null||A===void 0?void 0:A.getFieldsValue(),!1)).reduce(function(O,Y){return(0,o.Z)((0,o.Z)({},O),{},(0,B.Z)({},Y,V[Y]||void 0))},P);se(de(T,te,"set"))}},form:le,submitButtonProps:(0,o.Z)({loading:ge},re.submitButtonProps)}))},[R,re,le,ge,Q,K,S,T,P,se]),er=(0,t.useMemo)(function(){return C?C(Fe,Te,I.current):Fe},[C,Fe,Te]),rr=(0,t.useMemo)(function(){if(typeof window!="undefined"&&H&&["DrawerForm"].includes(H))return function(s){return s.parentNode||document.body}},[H]);(0,t.useEffect)(function(){var s,a=Q((s=I.current)===null||s===void 0?void 0:s.getFieldsValue(!0),K);M==null||M(a,le)},[]);var tr=(0,t.useState)(function(){return T?de(T,me,"get"):{}}),Se=(0,l.Z)(tr,2),nr=Se[0],ur=Se[1];(0,t.useEffect)(function(){ie||ur({})},[ie]);var Ve=(0,$e.Z)(r.initialValues);return(0,t.useEffect)(function(){if(!(T||!r.initialValues||!Ve||G.request)){var s=(0,Ue.Z)(r.initialValues,Ve);(0,Oe.ET)(s,"initialValues \u53EA\u5728 form \u521D\u59CB\u5316\u65F6\u751F\u6548\uFF0C\u5982\u679C\u4F60\u9700\u8981\u5F02\u6B65\u52A0\u8F7D\u63A8\u8350\u4F7F\u7528 request\uFF0C\u6216\u8005 initialValues ? <Form/> : null "),(0,Oe.ET)(s,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[r.initialValues]),(0,t.useEffect)(function(){!T||se((0,o.Z)((0,o.Z)({},me),P))},[P,T]),t.createElement(Le.Z.Provider,{value:{formRef:I,fieldProps:L,formItemProps:b,groupProps:N,formComponentType:H,getPopupContainer:rr,setFieldValueType:function(a,f){var V=f.valueType,A=V===void 0?"text":V,te=f.dateFormat,O=f.transform;!Array.isArray(a)||(ye.current=(0,ee.Z)(ye.current,a,O),Pe.current=(0,ee.Z)(Pe.current,a,{valueType:A,dateFormat:te}))}}},t.createElement(Ke.Z.Provider,{value:fe},t.createElement(u.ZP.SizeContext.Provider,{value:G.size},t.createElement(c.Z,(0,n.Z)({onKeyPress:function(a){if(!!oe&&a.key==="Enter"){var f;(f=I.current)===null||f===void 0||f.submit()}},form:De},G,{initialValues:(0,o.Z)((0,o.Z)({},nr),G.initialValues),onValuesChange:function(a,f){var V;G==null||(V=G.onValuesChange)===null||V===void 0||V.call(G,Q(a,K),Q(f,K))},onFinish:(0,W.Z)(i().mark(function s(){var a,f,V,A;return i().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(G.onFinish){O.next=2;break}return O.abrupt("return");case 2:if(!ge){O.next=4;break}return O.abrupt("return");case 4:return Ze(!0),O.prev=5,f=Q((a=I.current)===null||a===void 0?void 0:a.getFieldsValue(),K),O.next=9,G.onFinish(f);case 9:T&&(A=Object.keys(Q((V=I.current)===null||V===void 0?void 0:V.getFieldsValue(),!1)).reduce(function(Y,Ae){var Ee;return(0,o.Z)((0,o.Z)({},Y),{},(0,B.Z)({},Ae,(Ee=f[Ae])!==null&&Ee!==void 0?Ee:void 0))},P),Object.keys(me).forEach(function(Y){A[Y]!==!1&&A[Y]!==0&&!A[Y]&&(A[Y]=void 0)}),se(de(T,A,"set"))),Ze(!1),O.next=16;break;case 13:O.prev=13,O.t0=O.catch(5),Ze(!1);case 16:case"end":return O.stop()}},s,null,[[5,13]])}))}),G.component!==!1&&t.createElement("input",{type:"text",style:{display:"none"}}),t.createElement(c.Z.Item,{noStyle:!0,shouldUpdate:!0},function(s){return d&&(d.current=(0,o.Z)((0,o.Z)({},s),fe)),I.current=s,null}),er))))}var Re=0;function Je(r){var v=r.request,C=r.params,R=r.initialValues,L=r.formKey,b=L===void 0?Re:L,N=(0,x.Z)(r,Qe);(0,t.useEffect)(function(){Re+=0},[]);var $=Ie({request:v,params:C,proFieldKey:b}),g=(0,l.Z)($,1),d=g[0];return!d&&r.request?t.createElement("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"}},t.createElement(y.Z,null)):t.createElement(k.oK,null,t.createElement(Ge,(0,n.Z)({autoComplete:"off"},N,{initialValues:(0,o.Z)((0,o.Z)({},R),d)})))}var Xe=Je},66758:function(w,Z,e){"use strict";var F=e(67294),y=F.createContext({});Z.Z=y},41036:function(w,Z,e){"use strict";var F=e(67294),y=F.createContext({});Z.Z=y},23312:function(w,Z,e){"use strict";e.d(Z,{Cl:function(){return B}});var F=e(90484),y=e(30381),E=e.n(y),u=e(88306),n=e(74763),B={time:"HH:mm:ss",timeRange:"HH:mm:ss",date:"YYYY-MM-DD",dateWeek:"YYYY-wo",dateMonth:"YYYY-MM",dateQuarter:"YYYY-QQ",dateYear:"YYYY",dateRange:"YYYY-MM-DD",dateTime:"YYYY-MM-DD HH:mm:ss",dateTimeRange:"YYYY-MM-DD HH:mm:ss"};function o(D){return Object.prototype.toString.call(D)==="[object Object]"}function h(D){if(o(D)===!1)return!1;var c=D.constructor;if(c===void 0)return!0;var l=c.prototype;return!(o(l)===!1||l.hasOwnProperty("isPrototypeOf")===!1)}var i=function(c,l,x){if(!l)return c;if(E().isMoment(c)){if(l==="number")return c.valueOf();if(l==="string")return c.format(B[x]||"YYYY-MM-DD HH:mm:ss");if(typeof l=="string"&&l!=="string")return c.format(l)}return c},W=function D(c,l,x,t,k){var j={};return typeof window=="undefined"||(0,F.Z)(c)!=="object"||(0,n.Z)(c)||c instanceof Blob||Array.isArray(c)?c:(Object.keys(c).forEach(function(p){var ee=k?[k,p].flat(1):[p],q=(0,u.Z)(x,ee)||"text",ne="text",ue;typeof q=="string"?ne=q:q&&(ne=q.valueType,ue=q.dateFormat);var J=c[p];if(!((0,n.Z)(J)&&t)){if(h(J)&&!Array.isArray(J)&&!E().isMoment(J)){j[p]=D(J,l,x,t,[p]);return}if(Array.isArray(J)){j[p]=J.map(function(ae,ce){return E().isMoment(ae)?i(ae,ue||l,ne):D(ae,l,x,t,[p,"".concat(ce)])});return}j[p]=i(J,ue||l,ne)}}),j)};Z.ZP=W},26369:function(w,Z,e){"use strict";var F=e(67294),y=function(u){var n=(0,F.useRef)();return(0,F.useEffect)(function(){n.current=u}),n.current};Z.Z=y},60249:function(w,Z,e){"use strict";var F=e(11965),y=e(90484);function E(u,n,B,o){if(u===n)return!0;if(u&&n&&(0,y.Z)(u)==="object"&&(0,y.Z)(n)==="object"){if(u.constructor!==n.constructor)return!1;var h,i,W;if(Array.isArray(u)){if(h=u.length,h!=n.length)return!1;for(i=h;i--!=0;)if(!E(u[i],n[i],B,o))return!1;return!0}if(u instanceof Map&&n instanceof Map){if(u.size!==n.size)return!1;var D=(0,F.Z)(u.entries()),c;try{for(D.s();!(c=D.n()).done;)if(i=c.value,!n.has(i[0]))return!1}catch(p){D.e(p)}finally{D.f()}var l=(0,F.Z)(u.entries()),x;try{for(l.s();!(x=l.n()).done;)if(i=x.value,!E(i[1],n.get(i[0]),B,o))return!1}catch(p){l.e(p)}finally{l.f()}return!0}if(u instanceof Set&&n instanceof Set){if(u.size!==n.size)return!1;var t=(0,F.Z)(u.entries()),k;try{for(t.s();!(k=t.n()).done;)if(i=k.value,!n.has(i[0]))return!1}catch(p){t.e(p)}finally{t.f()}return!0}if(ArrayBuffer.isView(u)&&ArrayBuffer.isView(n)){if(h=u.length,h!=n.length)return!1;for(i=h;i--!=0;)if(u[i]!==n[i])return!1;return!0}if(u.constructor===RegExp)return u.source===n.source&&u.flags===n.flags;if(u.valueOf!==Object.prototype.valueOf)return u.valueOf()===n.valueOf();if(u.toString!==Object.prototype.toString)return u.toString()===n.toString();if(W=Object.keys(u),h=W.length,h!==Object.keys(n).length)return!1;for(i=h;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,W[i]))return!1;for(i=h;i--!=0;){var j=W[i];if(!(B==null?void 0:B.includes(j))&&!(j==="_owner"&&u.$$typeof)&&!E(u[j],n[j],B,o))return o&&console.log(j),!1}return!0}return u!==u&&n!==n}Z.Z=E},74763:function(w,Z){"use strict";var e=function(y){return y==null};Z.Z=e},22270:function(w,Z,e){"use strict";e.d(Z,{h:function(){return F}});function F(y){if(typeof y=="function"){for(var E=arguments.length,u=new Array(E>1?E-1:0),n=1;n<E;n++)u[n-1]=arguments[n];return y.apply(void 0,u)}return y}},56725:function(w,Z,e){"use strict";var F=e(28481),y=e(21770),E=e(67294);function u(n,B){var o=(0,E.useRef)(!1),h=(0,E.useRef)(void 0);(0,E.useEffect)(function(){return o.current=!0,function(){clearTimeout(h.current),o.current=!1}},[]);var i=(0,y.Z)(n,B),W=(0,F.Z)(i,2),D=W[0],c=W[1],l=function(t){clearTimeout(h.current),h.current=window.setTimeout(function(){o.current&&c(t)},16)};return[D,l]}Z.Z=u}}]);
