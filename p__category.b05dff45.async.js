(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[634],{43347:function(G,E,e){"use strict";e.d(E,{Z:function(){return Z}});var h=e(28991),v=e(67294),P={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},d=P,C=e(27029),x=function(T,l){return v.createElement(C.Z,(0,h.Z)((0,h.Z)({},T),{},{ref:l,icon:d}))};x.displayName="InboxOutlined";var Z=v.forwardRef(x)},64317:function(G,E,e){"use strict";var h=e(22122),v=e(28991),P=e(81253),d=e(67294),C=e(88063),x=e(22270),Z=e(66758),u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],T=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],l=d.forwardRef(function(a,N){var R=a.fieldProps,L=a.children,K=a.params,U=a.proFieldProps,w=a.mode,g=a.valueEnum,O=a.request,z=a.showSearch,b=a.options,H=(0,P.Z)(a,u),o=(0,d.useContext)(Z.Z);return d.createElement(C.Z,(0,h.Z)({mode:"edit",valueEnum:(0,x.h)(g),request:O,params:K,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,v.Z)({options:b,mode:w,showSearch:z,getPopupContainer:o.getPopupContainer},R),ref:N,proFieldProps:U},H),L)}),y=d.forwardRef(function(a,N){var R=a.fieldProps,L=a.children,K=a.params,U=a.proFieldProps,w=a.mode,g=a.valueEnum,O=a.request,z=a.options,b=(0,P.Z)(a,T),H=(0,v.Z)({options:z,mode:w||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},R),o=(0,d.useContext)(Z.Z);return d.createElement(C.Z,(0,h.Z)({mode:"edit",valueEnum:(0,x.h)(g),request:O,params:K,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,v.Z)({getPopupContainer:o.getPopupContainer},H),ref:N,proFieldProps:U},b),L)}),s=l,M=y,m=s;m.SearchSelect=M,m.displayName="ProFormComponent",E.Z=m},90672:function(G,E,e){"use strict";var h=e(22122),v=e(81253),P=e(67294),d=e(88063),C=["fieldProps","proFieldProps"],x=function(u,T){var l=u.fieldProps,y=u.proFieldProps,s=(0,v.Z)(u,C);return P.createElement(d.Z,(0,h.Z)({ref:T,mode:"edit",valueType:"textarea",fieldProps:l,proFieldProps:y},s))};E.Z=P.forwardRef(x)},5966:function(G,E,e){"use strict";var h=e(22122),v=e(81253),P=e(67294),d=e(88063),C=["fieldProps","proFieldProps"],x=["fieldProps","proFieldProps"],Z="text",u=function(s){var M=s.fieldProps,m=s.proFieldProps,a=(0,v.Z)(s,C);return P.createElement(d.Z,(0,h.Z)({mode:"edit",valueType:Z,fieldProps:M,filedConfig:{valueType:Z},proFieldProps:m},a))},T=function(s){var M=s.fieldProps,m=s.proFieldProps,a=(0,v.Z)(s,x);return P.createElement(d.Z,(0,h.Z)({mode:"edit",valueType:"password",fieldProps:M,proFieldProps:m,filedConfig:{valueType:Z}},a))},l=u;l.Password=T,l.displayName="ProFormComponent",E.Z=l},28391:function(G,E,e){"use strict";e.r(E),e.d(E,{default:function(){return Ze}});var h=e(12968),v=e(62462),P=e(49111),d=e(19650),C=e(62350),x=e(75443),Z=e(57663),u=e(71577),T=e(34792),l=e(48086),y=e(3182),s=e(2824),M=e(94043),m=e.n(M),a=e(70844),N=e(27019),R=e(21010),L=e(91816),K=e(8212),U=e(73171),w=e(49101),g=e(51742),O=e(5966),z=e(90672),b=e(64317),H=e(71975),o=e(67294),ue=e(26667),$e=e(57338),ce=e(25084),me=e(92374),t=e(85893),ve=function(S){var D=(0,o.useRef)(),$=function(){var I=(0,y.Z)(m().mark(function i(F){return m().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",(0,me.Pq)(S.id,F));case 1:case"end":return B.stop()}},i)}));return function(F){return I.apply(this,arguments)}}(),W=[{title:"#",dataIndex:"index",valueType:"indexBorder",width:36},{title:"Ti\xEAu \u0111\u1EC1",dataIndex:"title"},{title:"L\u01B0\u1EE3t xem",dataIndex:"view",search:!1}];return(0,t.jsx)(ce.Z,{visible:S.visible,onClose:function(){return S.onClose(!1)},width:window.innerWidth-window.innerWidth/2,children:(0,t.jsx)(N.ZP,{request:$,rowKey:"id",columns:W,actionRef:D})})},pe=ve,Ye=e(71194),fe=e(50146),k=e(11849),Ge=e(43185),he=e(11324),Pe=e(43347),xe=function(S){var D=he.Z.Dragger,$={name:"file",multiple:!0,action:"/api/category/import",onChange:function(i){var F=i.file.status;F!=="uploading"&&console.log(i.file,i.fileList),F==="done"?l.default.success("".concat(i.file.name," file uploaded successfully.")):F==="error"&&l.default.error("".concat(i.file.name," file upload failed."))},onDrop:function(i){console.log("Dropped files",i.dataTransfer.files)}},W=function(){S.setVisible(!1)};return(0,t.jsx)(fe.Z,{title:"Import Categories",visible:S.visible,onOk:W,onCancel:function(){return S.setVisible(!1)},children:(0,t.jsxs)(D,(0,k.Z)((0,k.Z)({},$),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(Pe.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))})},ge=xe,Ee=function(){var S=(0,R.YB)(),D=(0,o.useRef)(),$=(0,o.useState)(),W=(0,s.Z)($,2),I=W[0],i=W[1],F=(0,o.useState)(),Q=(0,s.Z)(F,2),B=Q[0],Ce=Q[1],ye=(0,o.useState)(),_=(0,s.Z)(ye,2),Se=_[0],X=_[1],je=(0,o.useState)(!1),ee=(0,s.Z)(je,2),Te=ee[0],te=ee[1],Oe=(0,o.useState)(!1),ae=(0,s.Z)(Oe,2),De=ae[0],re=ae[1],Ie=(0,o.useState)(0),ne=(0,s.Z)(Ie,2),Fe=ne[0],Me=ne[1],Re=(0,o.useState)(!1),se=(0,s.Z)(Re,2),be=se[0],le=se[1],Ae=(0,o.useState)([]),oe=(0,s.Z)(Ae,2),ie=oe[0],Ne=oe[1],V=(0,o.useRef)();(0,o.useEffect)(function(){(0,g.rB)().then(function(p){return Ce(p.map(function(r){return{value:r.id,label:r.name}}))})},[]);var de=function(){ie.length>0||(0,g.aE)().then(function(r){Ne(r.map(function(n,c){return{value:c,label:n}}))})},Le=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},r)})},We=function(){var p=(0,y.Z)(m().mark(function r(n){var c,f,A,J;return m().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!n.id){j.next=7;break}return j.next=3,(0,g.yr)(n);case 3:c=j.sent,c.succeeded?(l.default.success("succeeded!"),i(!1),(f=V.current)===null||f===void 0||f.reload()):l.default.error(c.message),j.next=11;break;case 7:return j.next=9,(0,g.i8)(n);case 9:A=j.sent,A.succeeded?(l.default.success("succeeded!"),i(!1),(J=V.current)===null||J===void 0||J.reload()):l.default.error(A.message);case 11:case"end":return j.stop()}},r)}));return function(n){return p.apply(this,arguments)}}(),Be=function(){var r;de(),(r=D.current)===null||r===void 0||r.resetFields(),X(""),i(!0)},Ve=function(r){(0,g.uu)(r).then(function(n){if(n.succeeded){var c;V==null||(c=V.current)===null||c===void 0||c.reload(),l.default.success(n.message)}else l.default.error(n.message)})},Ke=function(r){de(),(0,g.n3)(r).then(function(){var n=(0,y.Z)(m().mark(function c(f){var A;return m().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return i(!0),Y.next=3,Le();case 3:(A=D.current)===null||A===void 0||A.setFields([{name:"id",value:f.id},{name:"name",value:f.name},{name:"normalizeName",value:f.normalizeName},{name:"description",value:f.description},{name:"parrentId",value:f.parrentId},{name:"status",value:f.status},{name:"thumbnail",value:f.thumbnail},{name:"type",value:f.type}]),X(f.thumbnail);case 5:case"end":return Y.stop()}},c)}));return function(c){return n.apply(this,arguments)}}())},Ue=function(r){Me(r),re(!0)},we=[{title:"T\xEAn",dataIndex:"name",width:200},{title:"M\xF4 t\u1EA3",dataIndex:"description",search:!1},{title:(0,t.jsx)(R._H,{id:"global.status",defaultMessage:"Status"}),dataIndex:"status",valueEnum:{0:{text:"Draft",status:"Default"},1:{text:"Active",status:"Processing"}},width:150},{title:(0,t.jsx)(R._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",width:150,render:function(r,n){return[(0,t.jsx)(u.Z,{icon:(0,t.jsx)(L.Z,{}),onClick:function(){return Ue(n.id)}},0),(0,t.jsx)(u.Z,{type:"primary",icon:(0,t.jsx)(K.Z,{}),onClick:function(){return Ke(n.id)}},1),(0,t.jsx)(x.Z,{title:"Are you sure to delete this?",onConfirm:function(){return Ve(n.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(u.Z,{type:"primary",danger:!0,icon:(0,t.jsx)(U.Z,{})})},2)]}}],ze=function(r){var n;(n=D.current)===null||n===void 0||n.setFieldsValue({thumbnail:r}),X(r)},He=function(){return(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(u.Z,{type:"primary",danger:!0,onClick:function(){return le(!0)},children:"Import"},0),(0,t.jsx)(u.Z,{type:"primary",icon:(0,t.jsx)(w.Z,{}),onClick:Be,children:"Th\xEAm m\u1EDBi"},1)]})};return(0,t.jsxs)(a.ZP,{extra:(0,t.jsx)(He,{}),children:[(0,t.jsx)(N.ZP,{headerTitle:S.formatMessage({id:"menu.blog.category",defaultMessage:"Categry"}),rowKey:"id",search:{layout:"vertical"},request:g.CP,columns:we,rowSelection:{},actionRef:V}),(0,t.jsxs)(H.Z,{title:"Manager",formRef:D,onVisibleChange:i,visible:I,autoFocusFirstInput:!0,drawerProps:{forceRender:!0,destroyOnClose:!0},onFinish:We,children:[(0,t.jsx)(O.Z,{name:"id",hidden:!0}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(O.Z,{name:"name",label:"T\xEAn danh m\u1EE5c",className:"w-full"})}),(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(O.Z,{name:"normalizeName",label:"Normalize name",tooltip:"Name without special character",className:"w-full"})})]}),(0,t.jsx)(z.Z,{name:"description",label:"Description"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(b.Z,{options:B,name:"parrentId",label:"Danh m\u1EE5c cha",className:"w-full"})}),(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(b.Z,{className:"w-full",initialValue:1,options:[{value:0,label:"Draft"},{value:1,label:"Active"}],name:"status",label:"Tr\u1EA1ng th\xE1i"})})]}),(0,t.jsx)(b.Z,{options:ie,name:"type",label:"Type",className:"w-full"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-grow",children:(0,t.jsx)(O.Z,{name:"thumbnail",className:"w-full"})}),(0,t.jsx)(u.Z,{style:{marginBottom:24},icon:(0,t.jsx)(L.Z,{}),onClick:function(){return te(!0)},children:"Explorer"})]}),(0,t.jsx)(v.Z,{src:Se})]}),(0,t.jsx)(ue.Z,{visible:Te,onVisibleChange:te,onSelect:ze}),(0,t.jsx)(pe,{visible:De,onClose:re,id:Fe}),(0,t.jsx)(ge,{visible:be,setVisible:le})]})},Ze=Ee}}]);
