(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[793],{25592:function(ne,x,e){"use strict";e.d(x,{Z:function(){return h}});var b=e(28991),f=e(67294),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},a=S,m=e(27029),R=function(I,c){return f.createElement(m.Z,(0,b.Z)((0,b.Z)({},I),{},{ref:c,icon:a}))};R.displayName="SyncOutlined";var h=f.forwardRef(R)},5966:function(ne,x,e){"use strict";var b=e(22122),f=e(81253),S=e(67294),a=e(88063),m=["fieldProps","proFieldProps"],R=["fieldProps","proFieldProps"],h="text",W=function(t){var p=t.fieldProps,U=t.proFieldProps,M=(0,f.Z)(t,m);return S.createElement(a.Z,(0,b.Z)({mode:"edit",valueType:h,fieldProps:p,filedConfig:{valueType:h},proFieldProps:U},M))},I=function(t){var p=t.fieldProps,U=t.proFieldProps,M=(0,f.Z)(t,R);return S.createElement(a.Z,(0,b.Z)({mode:"edit",valueType:"password",fieldProps:p,proFieldProps:U,filedConfig:{valueType:h}},M))},c=W;c.Password=I,c.displayName="ProFormComponent",x.Z=c},71975:function(ne,x,e){"use strict";var b=e(57338),f=e(25084),S=e(22122),a=e(87757),m=e.n(a),R=e(92137),h=e(28991),W=e(84305),I=e(39559),c=e(28481),A=e(81253),t=e(67294),p=e(21770),U=e(73935),M=e(97435),X=e(60758),B=e(80334),L=e(12435),j=["children","trigger","onVisibleChange","drawerProps","onFinish","title","width"];function o(s){var v,l,C=s.children,Y=s.trigger,H=s.onVisibleChange,n=s.drawerProps,re=s.onFinish,de=s.title,w=s.width,g=(0,A.Z)(s,j),ce=(0,p.Z)(!!g.visible,{value:g.visible,onChange:H}),te=(0,c.Z)(ce,2),E=te[0],K=te[1],ve=(0,p.Z)(0),oe=(0,c.Z)(ve,2),r=oe[0],fe=oe[1],V=(0,t.useContext)(I.ZP.ConfigContext),me=(0,p.Z)(!!g.visible),le=(0,c.Z)(me,2),G=le[0],P=le[1];(0,t.useEffect)(function(){P(!!g.visible)},[g.visible]);var _=(0,t.useMemo)(function(){var u;if((n==null?void 0:n.getContainer)===!1)return!1;if(n==null?void 0:n.getContainer){if(typeof(n==null?void 0:n.getContainer)=="function"){var y;return n==null||(y=n.getContainer)===null||y===void 0?void 0:y.call(n)}return typeof(n==null?void 0:n.getContainer)=="string"?document.getElementById(n==null?void 0:n.getContainer):n==null?void 0:n.getContainer}return V==null||(u=V.getPopupContainer)===null||u===void 0?void 0:u.call(V,document.body)},[V,n,E]),q=(0,t.useState)(function(){if(typeof window!="undefined")return new L.Z({container:_||document.body})}),$=(0,c.Z)(q,1),i=$[0];(0,B.ET)(!g.footer||!(n==null?void 0:n.footer),"DrawerForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002"),(0,t.useEffect)(function(){return E?i==null||i.lock():i==null||i.unLock(),E&&g.visible&&(H==null||H(!0)),E&&g.visible&&(n==null?void 0:n.destroyOnClose)&&fe(r+1),function(){var u;E||i==null||(u=i.unLock)===null||u===void 0||u.call(i)}},[E]);var z=(0,t.useRef)(!(n==null?void 0:n.forceRender)),se=(0,t.useMemo)(function(){return!(z.current&&E===!1||E===!1&&(n==null?void 0:n.destroyOnClose))},[E,n==null?void 0:n.destroyOnClose]),Q=(0,t.useRef)();(0,t.useEffect)(function(){E&&(z.current=!1)},[n==null?void 0:n.destroyOnClose,E]),(0,t.useEffect)(function(){return function(){var u;i==null||(u=i.unLock)===null||u===void 0||u.call(i)}},[]),(0,t.useImperativeHandle)(g.formRef,function(){return Q.current});var ae=t.createElement("div",{onClick:function(y){return y.stopPropagation()}},t.createElement(X.Z,(0,S.Z)({formComponentType:"DrawerForm",layout:"vertical",key:r},(0,M.Z)(g,["visible"]),{formRef:Q,submitter:g.submitter===!1?!1:(0,h.Z)((0,h.Z)({},g.submitter),{},{searchConfig:(0,h.Z)({submitText:"\u786E\u8BA4",resetText:"\u53D6\u6D88"},(v=g.submitter)===null||v===void 0?void 0:v.searchConfig),resetButtonProps:(0,h.Z)({preventDefault:!0,onClick:function(y){var O;K(!1),n==null||(O=n.onClose)===null||O===void 0||O.call(n,y)}},(l=g.submitter)===null||l===void 0?void 0:l.resetButtonProps)}),onFinish:function(){var u=(0,R.Z)(m().mark(function y(O){var F;return m().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(re){d.next=2;break}return d.abrupt("return");case 2:return d.next=4,re(O);case 4:F=d.sent,F&&(K(!1),setTimeout(function(){var k;(n==null?void 0:n.destroyOnClose)&&((k=Q.current)===null||k===void 0||k.resetFields())},300));case 6:case"end":return d.stop()}},y)}));return function(y){return u.apply(this,arguments)}}(),contentRender:function(y,O){return t.createElement(f.Z,(0,S.Z)({title:de,width:w||800},n,{getContainer:!1,visible:E,onClose:function(T){var d;K(!1),n==null||(d=n.onClose)===null||d===void 0||d.call(n,T)},afterVisibleChange:function(T){var d;T||P(!1),n==null||(d=n.afterVisibleChange)===null||d===void 0||d.call(n,T)},footer:!!O&&t.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},O)}),se?y:null)}}),C)),ie=(0,t.useMemo)(function(){if(typeof window!="undefined")return _||document.body},[_]),ue=t.createElement(t.Fragment,{key:"trigger"},Y&&t.cloneElement(Y,(0,h.Z)((0,h.Z)({},Y.props),{},{onClick:function(){var u=(0,R.Z)(m().mark(function O(F){var T,d;return m().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:K(!E),P(!E),(T=Y.props)===null||T===void 0||(d=T.onClick)===null||d===void 0||d.call(T,F);case 3:case"end":return ee.stop()}},O)}));function y(O){return u.apply(this,arguments)}return y}()})));return(n==null?void 0:n.destroyOnClose)&&!G?ue:t.createElement(t.Fragment,null,_!==!1&&ie?(0,U.createPortal)(ae,ie):ae,ue)}x.Z=o},50540:function(ne,x,e){"use strict";e.r(x),e.d(x,{default:function(){return le}});var b=e(13062),f=e(71230),S=e(89032),a=e(15746),m=e(62350),R=e(75443),h=e(20136),W=e(55241),I=e(57663),c=e(71577),A=e(34792),t=e(48086),p=e(2824),U=e(43358),M=e(34041),X=e(70844),B=e(27019),L=e(21010),j=e(28991),o=e(67294),s={icon:function(P,_){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:P}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:_}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:P}}]}},name:"check-circle",theme:"twotone"},v=s,l=e(27029),C=function(P,_){return o.createElement(l.Z,(0,j.Z)((0,j.Z)({},P),{},{ref:_,icon:v}))};C.displayName="CheckCircleTwoTone";var Y=o.forwardRef(C),H=e(8212),n=e(63258),re=e(73171),de=e(49101),w=e(62761),g=e(71975),ce=e(5966),te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M309.1 554.3a42.92 42.92 0 000 36.4C353.3 684 421.6 732 512.5 732s159.2-48.1 203.4-141.3c5.4-11.5 5.4-24.8.1-36.3l-.1-.1-.1-.1C671.7 461 603.4 413 512.5 413s-159.2 48.1-203.4 141.3zM512.5 477c62.1 0 107.4 30 141.1 95.5C620 638 574.6 668 512.5 668s-107.4-30-141.1-95.5c33.7-65.5 79-95.5 141.1-95.5z"}},{tag:"path",attrs:{d:"M457 573a56 56 0 10112 0 56 56 0 10-112 0z"}},{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-view",theme:"outlined"},E=te,K=function(P,_){return o.createElement(l.Z,(0,j.Z)((0,j.Z)({},P),{},{ref:_,icon:E}))};K.displayName="FolderViewOutlined";var ve=o.forwardRef(K),oe=e(25592),r=e(85893),fe=function(P){var _=[{title:"T\xEAn",dataIndex:"name"},{title:"T\xE1c v\u1EE5",valueType:"option",render:function(i,z){return[(0,r.jsx)(c.Z,{icon:(0,r.jsx)(ve,{}),danger:P.roleId===z.id,onClick:function(){return P.setRoleId(z.id)}})]},width:60}],q=function(){(0,w.AQ)().then(function(i){i.succeeded?console.log(i):t.default.error(i.errors[0].description)})};return(0,r.jsx)("div",{children:(0,r.jsx)(B.ZP,{headerTitle:"Quy\u1EC1n",rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,r.jsx)(c.Z,{type:"primary",icon:(0,r.jsx)(oe.Z,{}),onClick:q,children:"\u0110\u1ED3ng b\u1ED9"})]},request:w.F3,columns:_,rowSelection:{}})})},V=fe,me=function(){var P=M.Z.Option,_=(0,L.YB)(),q=(0,o.useState)(!1),$=(0,p.Z)(q,2),i=$[0],z=$[1],se=(0,o.useState)(!1),Q=(0,p.Z)(se,2),ae=Q[0],ie=Q[1],ue=(0,o.useState)(""),u=(0,p.Z)(ue,2),y=u[0],O=u[1],F=(0,o.useState)(""),T=(0,p.Z)(F,2),d=T[0],k=T[1],ee=(0,o.useState)(""),he=(0,p.Z)(ee,2),Ce=he[0],ge=he[1],pe=(0,o.useRef)(),Ee=function(Z){(0,w.h8)(Z).then(function(D){if(D.succeeded){var J;t.default.success("succeeded!"),(J=pe.current)===null||J===void 0||J.reload()}})},Pe=function(){(0,w.qU)(d,Ce).then(function(Z){Z.succeeded&&t.default.success("Succeeded!")})},ye=function(){return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)(M.Z,{defaultValue:"member",onChange:function(D){return ge(D)},children:[(0,r.jsx)(P,{value:"member",children:"Member"}),(0,r.jsx)(P,{value:"admin",children:"Admin"})]}),(0,r.jsx)(c.Z,{onClick:Pe,children:"Add"})]})},_e=function(Z){L.m8.push("/account/center/".concat(Z))},Oe=function(Z){var D="#eb2f96";return Z&&(D="#52c41a"),(0,r.jsx)(Y,{twoToneColor:D})},Te=[{title:"Email",dataIndex:"email",render:function(Z,D){return(0,r.jsxs)("div",{style:{display:"flex",gap:4,alignItems:"center"},children:[Oe(D.emailConfirmed),Z]})}},{title:"Phone Number",dataIndex:"phoneNumber"},{title:(0,r.jsx)(L._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(Z,D){return[(0,r.jsx)(c.Z,{type:"primary",icon:(0,r.jsx)(H.Z,{}),onClick:function(){return _e(D.id)}},0),(0,r.jsx)(W.Z,{content:(0,r.jsx)(ye,{}),title:"Add to role",trigger:"click",visible:ae,onVisibleChange:ie,children:(0,r.jsx)(c.Z,{icon:(0,r.jsx)(n.Z,{}),onClick:function(){return k(D.id)}})},1),(0,r.jsx)(R.Z,{title:"Are you sure to delete this?",onConfirm:function(){return Ee(D.id)},okText:"Yes",cancelText:"No",children:(0,r.jsx)(c.Z,{type:"primary",danger:!0,icon:(0,r.jsx)(re.Z,{})})},2)]}}],Me=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(c.Z,{icon:(0,r.jsx)(de.Z,{}),type:"primary",onClick:function(){return L.m8.push("/account/new")},children:"Create new"})})};return(0,r.jsx)(X.ZP,{title:_.formatMessage({id:"menu.users",defaultMessage:"Th\xE0nh vi\xEAn"}),extra:(0,r.jsx)(Me,{}),children:(0,r.jsxs)(f.Z,{gutter:16,children:[(0,r.jsx)(a.Z,{span:10,children:(0,r.jsx)(V,{roleId:y,setRoleId:O})}),(0,r.jsxs)(a.Z,{span:14,children:[(0,r.jsx)(B.ZP,{headerTitle:_.formatMessage({id:"pages.searchTable.title",defaultMessage:"Enquiry form"}),rowKey:"id",search:{layout:"vertical"},request:w.Rf,columns:Te,rowSelection:{},actionRef:pe}),(0,r.jsx)(g.Z,{visible:i,onVisibleChange:z,children:(0,r.jsx)(ce.Z,{name:"phoneNumber"})})]})]})})},le=me},62761:function(ne,x,e){"use strict";e.d(x,{Rf:function(){return R},Cp:function(){return W},F3:function(){return c},h8:function(){return t},qU:function(){return U},GI:function(){return X},AQ:function(){return L}});var b=e(11849),f=e(3182),S=e(94043),a=e.n(S),m=e(21010);function R(o){return h.apply(this,arguments)}function h(){return h=(0,f.Z)(a().mark(function o(s){return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,m.WY)("/user/list",{method:"GET",params:(0,b.Z)({},s)}));case 1:case"end":return l.stop()}},o)})),h.apply(this,arguments)}function W(o){return I.apply(this,arguments)}function I(){return I=(0,f.Z)(a().mark(function o(s){return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,m.WY)("/user/change-password",{method:"POST",data:s}));case 1:case"end":return l.stop()}},o)})),I.apply(this,arguments)}function c(){return A.apply(this,arguments)}function A(){return A=(0,f.Z)(a().mark(function o(){var s,v;return a().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,m.WY)("/role/list");case 2:return s=C.sent,v={data:s,current:1,pageSize:10,total:10},C.abrupt("return",Promise.resolve(v));case 5:case"end":return C.stop()}},o)})),A.apply(this,arguments)}function t(o){return p.apply(this,arguments)}function p(){return p=(0,f.Z)(a().mark(function o(s){return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,m.WY)("/user/delete/".concat(s),{method:"POST"}));case 1:case"end":return l.stop()}},o)})),p.apply(this,arguments)}function U(o,s){return M.apply(this,arguments)}function M(){return M=(0,f.Z)(a().mark(function o(s,v){return a().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,m.WY)("/user/add-to-role",{method:"POST",data:{userId:s,roleName:v}}));case 1:case"end":return C.stop()}},o)})),M.apply(this,arguments)}function X(o){return B.apply(this,arguments)}function B(){return B=(0,f.Z)(a().mark(function o(s){return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,m.WY)("/user/roles/".concat(s)));case 1:case"end":return l.stop()}},o)})),B.apply(this,arguments)}function L(){return j.apply(this,arguments)}function j(){return j=(0,f.Z)(a().mark(function o(){return a().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,m.WY)("/role/sync",{method:"POST"}));case 1:case"end":return v.stop()}},o)})),j.apply(this,arguments)}}}]);
