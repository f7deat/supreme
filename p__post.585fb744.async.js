(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[166],{90010:function(Y,M,e){"use strict";e.r(M),e.d(M,{default:function(){return _}});var H=e(62350),v=e(75443),V=e(57663),s=e(71577),x=e(34792),E=e(48086),j=e(2824),B=e(8212),D=e(73171),L=e(49101),S=e(70844),U=e(58894),o=e(67294),p=e(43581),y=e(36571),W=e(47673),f=e(4107),F=e(3182),I=e(94043),a=e.n(I),r=e(952),u=e(71975),n=e(64317),w=e(85589),G=e.n(w),N=e(51742),t=e(85893),Q=function(h){var P=(0,o.useRef)(),K=(0,o.useState)(),T=(0,j.Z)(K,2),$=T[0],O=T[1];(0,o.useEffect)(function(){(0,N.KQ)().then(function(d){O(d.map(function(c){return{value:c.id,label:c.name}}))})},[]),(0,o.useEffect)(function(){if(h.postId!==0)(0,y.xl)(h.postId).then(function(c){var m,g=c.post,C=c.categories;(m=P.current)===null||m===void 0||m.setFields([{name:"id",value:g.id},{name:"title",value:g.title},{name:"url",value:g.url},{name:"description",value:g.description},{name:"thumbnail",value:g.thumbnail},{name:"tags",value:g.tags},{name:"content",value:G().createEditorState(g.content)},{name:"categories",value:C}])});else{var d;(d=P.current)===null||d===void 0||d.resetFields()}},[h.postId]);var A=function(){h.setVisible(!1),h.reload()},R=function(){var d=(0,F.Z)(a().mark(function c(m){return a().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:m.content=m.content.toHTML(),h.postId!==0?(0,y.CP)(m).then(function(b){b.succeeded?(E.default.success("succeeded!"),A()):E.default.error("faild!")}):(0,y.q2)(m).then(function(b){b.succeeded?(E.default.success("succeeded!"),A()):E.default.error("faild!")});case 2:case"end":return C.stop()}},c)}));return function(m){return d.apply(this,arguments)}}();return(0,t.jsxs)(u.Z,{width:window.innerWidth-300,visible:h.visible,onFinish:R,onVisibleChange:h.setVisible,formRef:P,children:[(0,t.jsx)(r.ZP.Item,{name:"id",hidden:!0,children:(0,t.jsx)(f.Z,{})}),(0,t.jsx)(r.ZP.Item,{name:"title",label:"Ti\xEAu \u0111\u1EC1",children:(0,t.jsx)(f.Z,{})}),(0,t.jsx)(r.ZP.Item,{name:"url",label:"\u0110\u01B0\u1EDDng d\u1EABn",children:(0,t.jsx)(f.Z,{})}),(0,t.jsx)(r.ZP.Item,{name:"description",label:"M\xF4 t\u1EA3",children:(0,t.jsx)(f.Z.TextArea,{})}),(0,t.jsx)(r.ZP.Item,{name:"content",label:"N\u1ED9i dung",children:(0,t.jsx)(G(),{})}),(0,t.jsx)(r.ZP.Item,{name:"categories",label:"Danh m\u1EE5c",children:(0,t.jsx)(n.Z,{fieldProps:{mode:"multiple"},options:$})}),(0,t.jsx)(r.ZP.Item,{name:"tags",label:"Tags",children:(0,t.jsx)(f.Z,{})}),(0,t.jsx)(r.ZP.Item,{name:"thumbnail",label:"Thumbnail",children:(0,t.jsx)(f.Z,{})})]})},J=Q,z=e(30381),X=e.n(z),k=e(61685),q=function(){var h=(0,o.useState)(!1),P=(0,j.Z)(h,2),K=P[0],T=P[1],$=(0,o.useState)(0),O=(0,j.Z)($,2),A=O[0],R=O[1],d=(0,o.useRef)(),c=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(i){setTimeout(function(){i(!0)},l)})},m=function(){var l;(l=d.current)===null||l===void 0||l.reload()},g=function(l){R(l),c(),T(!0)},C=function(){R(0),c(2e3),T(!0)},b=function(l){(0,y.fR)(l).then(function(i){i.succeeded?E.default.success("deleted!"):E.default.error("error!")})},te=(0,p.YB)(),ne=[{title:"Ti\xEAu \u0111\u1EC1",dataIndex:"title",render:function(l,i){return(0,t.jsx)("a",{href:"".concat(k.y,"/post/").concat(i.url,"-").concat(i.id,".html"),target:"_blank",children:l})}},{title:"L\u01B0\u1EE3t xem",dataIndex:"view",render:function(l,i){return i.view.toLocaleString()}},{title:"Ng\xE0y c\u1EADp nh\u1EADt",dataIndex:"modifiedDate",render:function(l,i){return X()(i.modifiedDate).format("DD/MM/YYYY hh:mm:ss")}},{title:(0,t.jsx)(p._H,{id:"pages.searchTable.titleStatus",defaultMessage:"Status"}),dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:(0,t.jsx)(p._H,{id:"pages.searchTable.nameStatus.default",defaultMessage:"Shut down"}),status:"Default"},1:{text:(0,t.jsx)(p._H,{id:"pages.searchTable.nameStatus.running",defaultMessage:"Running"}),status:"Processing"},2:{text:(0,t.jsx)(p._H,{id:"pages.searchTable.nameStatus.online",defaultMessage:"Online"}),status:"Success"},3:{text:(0,t.jsx)(p._H,{id:"pages.searchTable.nameStatus.abnormal",defaultMessage:"Abnormal"}),status:"Error"}}},{title:(0,t.jsx)(p._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(l,i){return[(0,t.jsx)(s.Z,{type:"primary",icon:(0,t.jsx)(B.Z,{}),onClick:function(){return g(i.id)}}),(0,t.jsx)(v.Z,{title:"Are you sure to delete this task?",onConfirm:function(){return b(i.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(s.Z,{type:"primary",danger:!0,icon:(0,t.jsx)(D.Z,{})})})]}}];return(0,t.jsxs)(S.ZP,{title:"B\xE0i vi\u1EBFt",children:[(0,t.jsx)(U.ZP,{headerTitle:te.formatMessage({id:"pages.searchTable.title",defaultMessage:"Enquiry form"}),rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsx)(s.Z,{type:"primary",danger:!0,children:"Import"}),(0,t.jsx)(s.Z,{type:"primary",icon:(0,t.jsx)(L.Z,{}),onClick:C,children:"Vi\u1EBFt b\xE0i"})]},request:y.Jq,columns:ne,rowSelection:{},actionRef:d}),(0,t.jsx)(J,{visible:K,setVisible:T,postId:A,reload:m})]})},_=q},51742:function(Y,M,e){"use strict";e.d(M,{KQ:function(){return E},CP:function(){return B},i8:function(){return L},yr:function(){return U},rB:function(){return p},uu:function(){return W},n3:function(){return F}});var H=e(11849),v=e(3182),V=e(94043),s=e.n(V),x=e(61685);function E(){return j.apply(this,arguments)}function j(){return j=(0,v.Z)(s().mark(function a(){return s().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.Z)("/category/all",{method:"GET"}));case 1:case"end":return u.stop()}},a)})),j.apply(this,arguments)}function B(a){return D.apply(this,arguments)}function D(){return D=(0,v.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,x.Z)("/category/list",{method:"GET",params:(0,H.Z)({},r)}));case 1:case"end":return n.stop()}},a)})),D.apply(this,arguments)}function L(a){return S.apply(this,arguments)}function S(){return S=(0,v.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,x.Z)("/category/add",{method:"POST",data:r}));case 1:case"end":return n.stop()}},a)})),S.apply(this,arguments)}function U(a){return o.apply(this,arguments)}function o(){return o=(0,v.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,x.Z)("/category/update",{method:"POST",data:r}));case 1:case"end":return n.stop()}},a)})),o.apply(this,arguments)}function p(){return y.apply(this,arguments)}function y(){return y=(0,v.Z)(s().mark(function a(){return s().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.Z)("/category/list-parrent",{method:"GET"}));case 1:case"end":return u.stop()}},a)})),y.apply(this,arguments)}function W(a){return f.apply(this,arguments)}function f(){return f=(0,v.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,x.Z)("/category/delete/".concat(r),{method:"DELETE"}));case 1:case"end":return n.stop()}},a)})),f.apply(this,arguments)}function F(a){return I.apply(this,arguments)}function I(){return I=(0,v.Z)(s().mark(function a(r){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,x.Z)("/category/".concat(r),{method:"GET"}));case 1:case"end":return n.stop()}},a)})),I.apply(this,arguments)}}}]);
