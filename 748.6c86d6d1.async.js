(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[748],{63258:function(he,ce,W){"use strict";W.d(ce,{Z:function(){return h}});var q=W(28991),te=W(67294),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},re=ne,oe=W(27029),y=function(s,m){return te.createElement(oe.Z,(0,q.Z)((0,q.Z)({},s),{},{ref:m,icon:re}))};y.displayName="FolderOutlined";var h=te.forwardRef(y)},22452:function(he,ce,W){"use strict";var q=W(28991),te=W(81253),ne=W(85893),re=W(67294),oe=W(66758),y=W(36906),h=["fieldProps","proFieldProps"],t="dateTime",s=re.forwardRef(function(m,p){var b=m.fieldProps,v=m.proFieldProps,B=(0,te.Z)(m,h),P=(0,re.useContext)(oe.Z);return(0,ne.jsx)(y.Z,(0,q.Z)({ref:p,fieldProps:(0,q.Z)({getPopupContainer:P.getPopupContainer},b),valueType:t,proFieldProps:v,filedConfig:{valueType:t,customLightMode:!0}},B))});ce.Z=s},90672:function(he,ce,W){"use strict";var q=W(28991),te=W(81253),ne=W(85893),re=W(67294),oe=W(36906),y=["fieldProps","proFieldProps"],h=function(s,m){var p=s.fieldProps,b=s.proFieldProps,v=(0,te.Z)(s,y);return(0,ne.jsx)(oe.Z,(0,q.Z)({ref:m,valueType:"textarea",fieldProps:p,proFieldProps:b},v))};ce.Z=re.forwardRef(h)},44961:function(he,ce,W){(function(te,ne){if(!0)he.exports=ne(W(67294),W(9041),W(43393),W(32452),W(85589));else var re,oe})(window,function(q,te,ne,re,oe){return function(y){var h={};function t(s){if(h[s])return h[s].exports;var m=h[s]={i:s,l:!1,exports:{}};return y[s].call(m.exports,m,m.exports,t),m.l=!0,m.exports}return t.m=y,t.c=h,t.d=function(s,m,p){t.o(s,m)||Object.defineProperty(s,m,{enumerable:!0,get:p})},t.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},t.t=function(s,m){if(m&1&&(s=t(s)),m&8||m&4&&typeof s=="object"&&s&&s.__esModule)return s;var p=Object.create(null);if(t.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:s}),m&2&&typeof s!="string")for(var b in s)t.d(p,b,function(v){return s[v]}.bind(null,b));return p},t.n=function(s){var m=s&&s.__esModule?function(){return s.default}:function(){return s};return t.d(m,"a",m),m},t.o=function(s,m){return Object.prototype.hasOwnProperty.call(s,m)},t.p="/",t(t.s=83)}([function(y,h){function t(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}y.exports=t},function(y,h){y.exports=q},function(y,h){function t(s,m,p){return m in s?Object.defineProperty(s,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[m]=p,s}y.exports=t},function(y,h){y.exports=te},function(y,h){y.exports=ne},function(y,h,t){var s=t(2);function m(p){for(var b=1;b<arguments.length;b++){var v=arguments[b]!=null?Object(arguments[b]):{},B=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(v).filter(function(P){return Object.getOwnPropertyDescriptor(v,P).enumerable}))),B.forEach(function(P){s(p,P,v[P])})}return p}y.exports=m},function(y,h){y.exports=re},function(y,h,t){"use strict";t.r(h),t.d(h,"rebuildTableBlocks",function(){return d}),t.d(h,"rebuildTableNode",function(){return se}),t.d(h,"updateAllTableBlocks",function(){return w}),t.d(h,"getCellCountForInsert",function(){return J}),t.d(h,"getCellsInsideRect",function(){return C}),t.d(h,"insertCell",function(){return k}),t.d(h,"insertCells",function(){return O}),t.d(h,"insertTable",function(){return ae}),t.d(h,"removeTable",function(){return V}),t.d(h,"insertColumn",function(){return Y}),t.d(h,"removeColumn",function(){return de}),t.d(h,"insertRow",function(){return G}),t.d(h,"removeRow",function(){return ue}),t.d(h,"mergeCells",function(){return fe}),t.d(h,"splitCell",function(){return ge});var s=t(13),m=t.n(s),p=t(5),b=t.n(p),v=t(3),B=t.n(v),P=t(4),M=t.n(P),z=t(6),_=t.n(z),ee=function(f,u,e){switch(e){case"==":return f==u;case">=":return f>=u;case"<=":return f<=u;case">":return f>u;case"<":return f<u}},X=function(f){f=b()({colSpan:1,rowSpan:1,text:""},f);var u=f,e=u.tableKey,n=u.key,r=u.colIndex,i=u.rowIndex,c=u.colSpan,a=u.rowSpan,l=u.text,o=u.isHead;return new v.ContentBlock({key:n||Object(v.genKey)(),type:"table-cell",text:l,data:M.a.Map({tableKey:e,colIndex:r,rowIndex:i,colSpan:c,rowSpan:a,isHead:o}),characterList:M.a.List(M.a.Repeat(v.CharacterMetadata.create(),l.length))})},H=function(){var f=Object(v.genKey)();return[f,new v.ContentBlock({key:f,type:"unstyled",text:"",data:M.a.Map({}),characterList:M.a.List([])})]},N=function(f,u,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",r=M.a.Range(0,e).map(function(i){var c=X({tableKey:f,colIndex:i,rowIndex:u,text:i===0?n:""});return[c.getKey(),c]}).toArray();return M.a.OrderedMap(r).toSeq()},D=function(f,u,e,n,r){var i=f.getBlockMap().toSeq(),c=i.takeUntil(function(l){return l.getData().get("tableKey")===r}),a=i.skipUntil(function(l,o){var g=f.getKeyAfter(o);return l.getData().get("tableKey")===r&&g&&f.getBlockForKey(g).getData().get("tableKey")!==r}).rest();return f.merge({blockMap:c.concat(n,a).toOrderedMap(),selectionBefore:u,selectionAfter:u.merge({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,hasFocus:!1,isBackward:!1})})},K=function(f,u,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"==";return f.filter(function(r){return ee(r.getData().get(u),e,n)})},d=function(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e={},n=[];return f.map(function(r){var i=r.getData(),c=i.get("rowIndex"),a=i.get("colSpan")||1,l=i.get("rowSpan")||1;n[c]=n[c]||0,n[c]++;for(var o=n[c]-1,g=o,x,I;e[c]&&e[c][g];g++,n[c]++);if(l>1||a>1)for(x=c;x<c+l;x++)for(I=g;I<g+a;I++)e[x]=e[x]||{},e[x][I]=!0;return r.merge({data:M.a.Map(b()({},i.toJS(),u,{colIndex:g}))})})},se=function(f){var u=Object(v.genKey)(),e={};[].forEach.call(f.rows,function(n,r){[].forEach.call(n.cells,function(i,c){for(var a=c,l,o;e[r]&&e[r][a];a++);var g=i.rowSpan,x=i.colSpan;if(g>1||x>1)for(l=r;l<r+g;l++)for(o=a;o<a+x;o++)e[l]=e[l]||{},e[l][o]=!0;i.innerHTML=i.innerHTML.replace(/\n\s*$/,""),i.dataset.tableKey=u,i.dataset.colIndex=a,i.dataset.rowIndex=r})})},w=function(f,u,e){var n=f.getSelection(),r=f.getCurrentContent(),i=r.getBlockMap(),c=K(i,"tableKey",u),a=d(c,e),l=D(r,f.getSelection(),n.focusKey,a,u);return v.EditorState.push(f,l,"insert-table-row")},J=function(f,u){return K(f,"rowIndex",u).reduce(function(e,n){return e+(n.getData().get("colSpan")||1)*1},0)},C=function(f,u,e,n){for(var r=m()(e,2),i=r[0],c=r[1],a=m()(n,2),l=a[0],o=a[1],g=Math.min(i,l),x=Math.max(i,l),I=Math.min(c,o),E=Math.max(c,o),T=[],R=g;R<=x;R++)for(var S=I;S<=E;S++)T.push([R,S]);if(T.length===0)return M.a.OrderedMap([]);var L=f.getCurrentContent(),A=L.getBlockMap(),F=K(A,"tableKey",u),$=[],j=[],ve=M.a.List([]),le=M.a.List([]);return F.forEach(function(Z){var ie=Z.getData(),Q=Z.getKey(),me=ie.get("colIndex"),pe=ie.get("rowIndex"),Ce=ie.get("colSpan"),ye=ie.get("rowSpan");T.forEach(function(Ie){var Se=m()(Ie,2),be=Se[0],xe=Se[1];me===be&&pe===xe?($.indexOf(Q)===-1&&(ve=ve.push(Z))&&$.push(Q),(Ce>1||ye>1)&&j.indexOf(Q)===-1&&(le=le.push(Z))&&j.push(Q)):(Ce>1||ye>1)&&me<=be&&me+Ce>be&&pe<=xe&&pe+ye>xe&&j.indexOf(Q)===-1&&(le=le.push(Z))&&j.push(Q)})}),{cellBlocks:ve.merge(le),cellKeys:$.concat(j),spannedCellBlocks:le,spannedCellBlockKeys:j}},k=function(f,u){var e,n,r;u instanceof v.ContentBlock?(e=u.getData().get("colIndex"),n=u.getData().get("rowIndex"),r=u):(e=u.colIndex,n=u.rowIndex,r=X(u));var i=f.takeUntil(function(l){var o=l.getData().get("rowIndex"),g=l.getData().get("colIndex");return g>=e&&o===n||o>n}),c=f.skipUntil(function(l){var o=l.getData().get("rowIndex"),g=l.getData().get("colIndex");return g>=e&&o===n||o>n}),a=i.concat(M.a.OrderedMap([[r.getKey(),r]]).toSeq(),c);return a},O=function(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return u.reduce(function(e,n){return k(e,n)},f)},ae=function(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3;if(z.ContentUtils.selectionContainsStrictBlock(f))return f;for(var n=f.getSelection(),r=f.getCurrentContent(),i=r.getBlockMap(),c=Object(v.genKey)(),a=[H()],l=0;l<e;l++)for(var o=0;o<u;o++){var g=X({tableKey:c,colIndex:o,rowIndex:l});a.push([g.getKey(),g])}a.push(H());var x=n.getStartKey(),I=r.getBlockForKey(x),E=i.toSeq().takeUntil(function(F){return F===I}),T=i.toSeq().skipUntil(function(F){return F===I}).rest(),R=M.a.OrderedMap(a).toSeq(),S=a[1][0],L=E.concat(M.a.OrderedMap([[x,I]]).toSeq(),R,T).toOrderedMap(),A=r.merge({blockMap:L,selectionBefore:n,selectionAfter:n.merge({anchorKey:S,anchorOffset:n.getStartOffset(),focusKey:S,focusOffset:n.getStartOffset(),isBackward:!1})});return v.EditorState.push(f,A,"insert-table")},V=function(f,u){if(!u)return f;var e=f.getSelection(),n=f.getCurrentContent(),r=n.getBlockMap(),i=K(r,"tableKey",u),c=r.filter(function(o){return!(o.getType()==="table-cell"&&o.getData().get("tableKey")===u)}),a=(i.first()&&n.getBlockBefore(i.first().getKey())||c.first()).getKey(),l=n.merge({blockMap:c,selectionBefore:e,selectionAfter:e.merge({anchorKey:a,anchorOffset:e.getStartOffset(),focusKey:a,focusOffset:e.getStartOffset(),isBackward:!1})});return v.EditorState.push(f,l,"remove-table")},Y=function(f,u,e,n){var r=f.getCurrentContent(),i=r.getBlockMap(),c=K(i,"tableKey",u),a=[];if(n===0)for(var l=0;l<e;l++)a.push({text:"",colIndex:0,rowIndex:l,colSpan:1,rowSpan:1,tableKey:u});var o=c.map(function(I){var E=I.getData().toJS(),T=E.colIndex,R=E.rowIndex,S=E.colSpan,L=E.rowSpan,A=T<n?T:T+1,F=T<n&&S>1&&T+S>n?S+1:S,$=A!==T||F!==S;if(S===1&&T===n-1||S>1&&T+S===n)for(var j=R;j<R+L;j++)a.push({text:"",colIndex:n,rowIndex:j,colSpan:1,rowSpan:1,tableKey:u});return $?I.merge({data:M.a.Map(b()({},E,{colIndex:A,colSpan:F}))}):I});if(a.length===0)return f;var g=a[0].key=Object(v.genKey)(),x=D(r,f.getSelection(),g,O(o,a),u);return v.EditorState.push(f,x,"insert-table-column")},de=function(f,u,e){var n=f.getCurrentContent(),r=n.getBlockMap().toSeq(),i=K(r,"tableKey",u),c=K(i,"colIndex",e).reduce(function(g,x){var I=x.getData().toJS(),E=I.colIndex,T=I.rowIndex,R=I.colSpan,S=I.rowSpan;return R>1&&g.push({text:x.getText(),tableKey:u,colIndex:E,rowIndex:T,colSpan:R-1,rowSpan:S}),g},[]),a=i.filter(function(g){return g.getData().get("colIndex")*1!==e}).map(function(g){var x=g.getData().toJS(),I=x.colIndex,E=x.colSpan,T=I>e?I-1:I,R=I<e&&I+E>e?E-1:E,S=T!==I||R!==E;return S?g.merge({data:b()({},x,{colIndex:T,colSpan:R})}):g}),l=(a.first()||n.getBlockBefore(i.first().getKey())||n.getBlockAfter(i.first().getKey())).getKey(),o=D(n,f.getSelection(),l,O(a,c),u);return v.EditorState.push(f,o,"remove-table-column")},G=function(f,u,e,n,r){var i=f.getCurrentContent(),c=i.getBlockMap().toSeq(),a=K(c,"tableKey",u),l=K(a,"rowIndex",n,"<").map(function(R){var S=R.getData().toJS(),L=S.rowIndex,A=S.rowSpan;if(L>n)return R;var F=A&&L+A>n,$=F?A*1+1:A;return R.merge({data:M.a.Map(b()({},S,{rowSpan:$}))})}),o=K(a,"rowIndex",n,">=").map(function(R){var S=R.getData().toJS();return R.merge({data:M.a.Map(b()({},S,{rowIndex:S.rowIndex*1+1}))})}),g=J(a,n),x=N(u,n,g||e),I=x.first().getKey(),E=d(l.concat(x,o),r),T=D(i,f.getSelection(),I,E,u);return v.EditorState.push(f,T,"insert-table-row")},ue=function(f,u,e,n){var r=f.getCurrentContent(),i=r.getBlockMap().toSeq(),c=K(i,"tableKey",u),a=K(c,"rowIndex",e,"<").map(function(E){var T=E.getData().toJS(),R=T.rowIndex,S=T.rowSpan;if(R>e)return E;var L=S&&R+S>e,A=L?S*1-1:S;return E.merge({data:M.a.Map(b()({},T,{rowSpan:A}))})}),l=K(c,"rowIndex",e,">").map(function(E){var T=E.getData().toJS();return E.merge({data:M.a.Map(b()({},T,{rowIndex:T.rowIndex*1-1}))})}),o=K(c,"rowIndex",e).reduce(function(E,T){var R=T.getData().toJS(),S=R.colIndex,L=R.rowIndex,A=R.colSpan,F=R.rowSpan;return F>1&&E.push({text:T.getText(),tableKey:u,colIndex:S,rowIndex:L,colSpan:A,rowSpan:F-1}),E},[]),g=(l.first()||a.last()||i.first()).getKey(),x=d(O(a.concat(l),o),n),I=D(r,f.getSelection(),g,x,u,!0);return v.EditorState.push(f,I,"remove-table-row")},fe=function(f,u,e){var n=f.getCurrentContent(),r=n.getBlockMap(),i=[],c="",a=K(r,"tableKey",u).filter(function(E){return~e.indexOf(E.getKey())?(c+=E.getText(),i.push(b()({key:E.getKey()},E.getData().toJS())),!1):!0}),l=i.sort(function(E,T){return T.colIndex+T.rowIndex-(E.colIndex+E.rowIndex)}),o=l.slice(-1)[0],g=l[0],x=n.getBlockForKey(o.key).merge({text:c,data:M.a.Map(b()({},o,{colSpan:g.colIndex-o.colIndex+1,rowSpan:g.rowIndex-o.rowIndex+1})),characterList:M.a.List(M.a.Repeat(v.CharacterMetadata.create(),c.length))}),I=D(n,f.getSelection(),o.key,k(a,x),u);return v.EditorState.push(f,I,"merge-table-cell")},ge=function(f,u,e){var n=f.getCurrentContent(),r=n.getBlockMap(),i=[],c=K(r,"tableKey",u).map(function(l){if(l.getKey()===e){var o=l.getData().toJS(),g=o.colIndex,x=o.rowIndex,I=o.colSpan,E=o.rowSpan;if(I===1&&E===1)return l;for(var T=g;T<g+I;T++)for(var R=x;R<x+E;R++)(T!==g||R!==x)&&i.push({text:"",tableKey:u,colIndex:T,rowIndex:R,colSpan:1,rowSpan:1});return l.merge({data:M.a.Map(b()({},o,{colSpan:1,rowSpan:1}))})}else return l}),a=D(n,f.getSelection(),e,O(c,i),u);return v.EditorState.push(f,a,"merge-table-cell")}},function(y,h){function t(s,m){if(!(s instanceof m))throw new TypeError("Cannot call a class as a function")}y.exports=t},function(y,h){function t(m,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}function s(m,p,b){return p&&t(m.prototype,p),b&&t(m,b),m}y.exports=s},function(y,h,t){var s=t(17),m=t(0);function p(b,v){return v&&(s(v)==="object"||typeof v=="function")?v:m(b)}y.exports=p},function(y,h){function t(s){return y.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},t(s)}y.exports=t},function(y,h,t){var s=t(18);function m(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),b&&s(p,b)}y.exports=m},function(y,h,t){var s=t(23),m=t(24),p=t(25);function b(v,B){return s(v)||m(v,B)||p()}y.exports=b},,,function(y,h,t){var s=t(26),m=t(27),p=t(28);function b(v){return s(v)||m(v)||p()}y.exports=b},function(y,h){function t(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y.exports=t=function(p){return typeof p}:y.exports=t=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},t(s)}y.exports=t},function(y,h){function t(s,m){return y.exports=t=Object.setPrototypeOf||function(b,v){return b.__proto__=v,b},t(s,m)}y.exports=t},function(y,h){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(s){typeof window=="object"&&(t=window)}y.exports=t},function(y,h,t){"use strict";(function(s){t.d(h,"a",function(){return ue}),t.d(h,"b",function(){return ge});var m=t(5),p=t.n(m),b=t(16),v=t.n(b),B=t(8),P=t.n(B),M=t(9),z=t.n(M),_=t(10),ee=t.n(_),X=t(11),H=t.n(X),N=t(12),D=t.n(N),K=t(0),d=t.n(K),se=t(2),w=t.n(se),J=t(1),C=t.n(J),k=t(4),O=t.n(k),ae=t(21),V=t(7),Y=t(39),de=t.n(Y),G=function(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(isNaN(f)){if(u&&f&&f.target&&f.target.dataset.role===u)return!1;if(f&&f.currentTarget&&f.currentTarget.dataset.index)return f.currentTarget.dataset.index*1}else return f*1;return!1},ue=function(f){var u=f.editorProps.language;return typeof u=="function"?u(ae.a,"braft-table"):ae.a[u]||ae.a.zh},fe=function(U){D()(f,U);function f(u){var e;return P()(this,f),e=ee()(this,H()(f).call(this,u)),w()(d()(d()(e)),"state",{tableRows:[],colToolHandlers:[],rowToolHandlers:[],defaultColWidth:0,colResizing:!1,colResizeOffset:0,selectedCells:[],selectedRowIndex:-1,selectedColumnIndex:-1,setFirstRowAsHead:!1,dragSelecting:!1,draggingRectBounding:null,cellsMergeable:!1,cellSplittable:!1,contextMenuPosition:null}),w()(d()(d()(e)),"__tableRef",null),w()(d()(d()(e)),"__colRefs",{}),w()(d()(d()(e)),"__rowRefs",{}),w()(d()(d()(e)),"__colResizeIndex",0),w()(d()(d()(e)),"__colResizeStartAt",0),w()(d()(d()(e)),"__startCellKey",null),w()(d()(d()(e)),"__endCellKey",null),w()(d()(d()(e)),"__dragSelecting",!1),w()(d()(d()(e)),"__dragSelected",!1),w()(d()(d()(e)),"__dragSelectingStartColumnIndex",null),w()(d()(d()(e)),"__dragSelectingStartRowIndex",null),w()(d()(d()(e)),"__dragSelectingEndColumnIndex",null),w()(d()(d()(e)),"__dragSelectingEndRowIndex",null),w()(d()(d()(e)),"__draggingRectBoundingUpdating",!1),w()(d()(d()(e)),"__selectedCellsCleared",!1),w()(d()(d()(e)),"handleToolbarMouseDown",function(n){n.preventDefault()}),w()(d()(d()(e)),"handleKeyDown",function(n){if(n.keyCode===8){var r=e.state,i=r.selectedColumnIndex,c=r.selectedRowIndex;i>-1?(e.removeColumn(),n.preventDefault()):c>-1&&(e.removeRow(),n.preventDefault())}}),w()(d()(d()(e)),"handleMouseUp",function(n){if(n.button!==0)return!1;if(e.state.colResizing){var r=e.state,i=r.defaultColWidth,c=r.colToolHandlers,a=r.colResizeOffset,l=v()(c);l[e.__colResizeIndex-1].width=(l[e.__colResizeIndex-1].width||i)+a,l[e.__colResizeIndex].width=(l[e.__colResizeIndex].width||i)-a,e.__colResizeIndex=0,e.__colResizeStartAt=0,e.setState({contextMenuPosition:null,colToolHandlers:l,colResizeOffset:0,colResizing:!1},function(){e.renderCells(),e.updateCellsData({colgroupData:l.map(function(o){return{width:o.width}})})})}else e.setState({contextMenuPosition:null})}),w()(d()(d()(e)),"handleMouseMove",function(n){e.state.colResizing&&e.setState({colResizeOffset:e.getResizeOffset(n.clientX-e.__colResizeStartAt)})}),w()(d()(d()(e)),"handleColResizerMouseDown",function(n){e.__colResizeIndex=n.currentTarget.dataset.index*1,e.__colResizeStartAt=n.clientX,e.setState({colResizing:!0})}),w()(d()(d()(e)),"handleCellContexrMenu",function(n){var r=e.state.selectedCells,i=n.currentTarget.dataset.cellKey;~r.indexOf(i)||e.selectCell(n);var c=e.__tableRef.getBoundingClientRect(),a=c.top,l=c.left,o=c.width,g=n.clientY-a+15,x=n.clientX-l+10;x+150>o&&(x=o-150),e.setState({contextMenuPosition:{top:g,left:x}}),n.preventDefault()}),w()(d()(d()(e)),"handleContextMenuContextMenu",function(n){n.preventDefault()}),w()(d()(d()(e)),"handleCellMouseDown",function(n){if(e.state.colResizing)return n.preventDefault(),n.stopPropagation(),!1;e.__dragSelecting=!0,e.__dragSelectingStartColumnIndex=n.currentTarget.dataset.colIndex,e.__dragSelectingStartRowIndex=n.currentTarget.dataset.rowIndex,e.__draggingStartPoint={x:n.clientX,y:n.clientY},e.setState({dragSelecting:!0})}),w()(d()(d()(e)),"handleCellMouseUp",function(){e.__dragSelecting=!1,e.__dragSelected=!1,e.__dragSelectingStartColumnIndex=null,e.__dragSelectingStartRowIndex=null,e.__dragSelectingEndColumnIndex=null,e.__dragSelectingEndRowIndex=null,e.setState({dragSelecting:!1,draggingRectBounding:null})}),w()(d()(d()(e)),"handleCellMouseEnter",function(n){e.__dragSelecting&&(e.__dragSelectingEndColumnIndex=n.currentTarget.dataset.colIndex,e.__dragSelectingEndRowIndex=n.currentTarget.dataset.rowIndex,e.__dragSelectingEndColumnIndex!==e.__dragSelectingStartColumnIndex||e.__dragSelectingEndRowIndex!==e.__dragSelectingStartRowIndex?(e.__dragSelected=!0,n.preventDefault()):e.__dragSelected=!1,e.confirmDragSelecting())}),w()(d()(d()(e)),"handleTableMouseMove",function(n){e.__dragSelecting&&e.__dragSelected&&(e.updateDraggingRectBounding(n),n.preventDefault())}),w()(d()(d()(e)),"handleTableMouseLeave",function(n){e.__dragSelecting&&n.currentTarget&&n.currentTarget.dataset.role==="table"&&e.handleCellMouseUp(),n.preventDefault()}),w()(d()(d()(e)),"confirmDragSelecting",function(){if(!e.__dragSelectingStartColumnIndex||!e.__dragSelectingStartRowIndex||!e.__dragSelectingEndColumnIndex||!e.__dragSelectingEndRowIndex)return!1;var n=V.getCellsInsideRect(e.props.editorState,e.tableKey,[e.__dragSelectingStartColumnIndex,e.__dragSelectingStartRowIndex],[e.__dragSelectingEndColumnIndex,e.__dragSelectingEndRowIndex]),r=n.cellKeys,i=n.spannedCellBlockKeys;if(r.length<2)return!1;e.setState({selectedColumnIndex:-1,selectedRowIndex:-1,cellsMergeable:i.length===0,cellSplittable:!1,selectedCells:r},e.renderCells)}),w()(d()(d()(e)),"updateDraggingRectBounding",function(n){if(e.__draggingRectBoundingUpdating||!e.__dragSelecting)return!1;e.__draggingRectBoundingUpdating=!0;var r=e.__tableRef.getBoundingClientRect(),i=e.__draggingStartPoint,c=i.x,a=i.y,l=n.clientX,o=n.clientY,g={};l<=c?g.right=r.left+r.width-c:g.left=c-r.left+9,o<=a?g.bottom=r.top+r.height-a:g.top=a-r.top+9,g.width=Math.abs(l-c),g.height=Math.abs(o-a),e.setState({draggingRectBounding:g},function(){setTimeout(function(){e.__draggingRectBoundingUpdating=!1},100)})}),w()(d()(d()(e)),"selectCell",function(n){var r=e.state.selectedCells,i=n.currentTarget.dataset.cellKey,c=n.currentTarget,a=c.colSpan,l=c.rowSpan,o=~r.indexOf(i)?[]:[i],g=o.length&&(a>1||l>1);e.setState({selectedCells:o,cellSplittable:g,cellsMergeable:!1,selectedRowIndex:-1,selectedColumnIndex:-1},e.renderCells)}),w()(d()(d()(e)),"selectColumn",function(n){var r=G(n,"insert-column");if(r===!1)return!1;if(e.state.selectedColumnIndex===r)return e.setState({selectedCells:[],cellsMergeable:!1,cellSplittable:!1,selectedColumnIndex:-1},e.renderCells),!1;var i=V.getCellsInsideRect(e.props.editorState,e.tableKey,[r,0],[r,e.state.rowToolHandlers.length-1]),c=i.cellKeys,a=i.spannedCellBlockKeys;e.setState({selectedColumnIndex:r,selectedRowIndex:-1,cellSplittable:!1,cellsMergeable:a.length===0,selectedCells:c},e.renderCells)}),w()(d()(d()(e)),"selectRow",function(n){var r=G(n,"insert-row");if(r===!1)return!1;if(e.state.selectedRowIndex===r)return e.setState({selectedCells:[],cellsMergeable:!1,cellSplittable:!1,selectedRowIndex:-1},e.renderCells),!1;var i=V.getCellsInsideRect(e.props.editorState,e.tableKey,[0,r],[e.state.colToolHandlers.length,r]),c=i.cellKeys,a=i.spannedCellBlockKeys;e.setState({selectedColumnIndex:-1,selectedRowIndex:r,cellSplittable:!1,cellsMergeable:a.length===0,selectedCells:c},e.renderCells)}),w()(d()(d()(e)),"insertColumn",function(n){var r=G(n);if(r===!1)return!1;var i=e.state.colToolHandlers.map(function(c){return p()({},c,{width:0})});e.setState({selectedCells:[],selectedRowIndex:-1,selectedColumnIndex:-1,colToolHandlers:i},function(){e.props.editor.setValue(V.insertColumn(e.props.editorState,e.tableKey,e.state.tableRows.length,r,i))})}),w()(d()(d()(e)),"removeColumn",function(){var n=e.state.selectedColumnIndex,r=e.state.colToolHandlers.map(function(i){return p()({},i,{width:0})});n>=0&&e.setState({selectedColumnIndex:-1,colToolHandlers:r},function(){e.props.editor.draftInstance.blur(),s(function(){var i=V.removeColumn(e.props.editorState,e.tableKey,n,r);e.props.editor.setValue(e.validateContent(i))})})}),w()(d()(d()(e)),"insertRow",function(n){var r=G(n);if(r===!1)return!1;e.setState({selectedCells:[],selectedRowIndex:-1,selectedColumnIndex:-1},function(){e.props.editor.setValue(V.insertRow(e.props.editorState,e.tableKey,e.colLength,r))})}),w()(d()(d()(e)),"validateContent",function(n){var r=n.toRAW(!0).blocks.length;return r?n:de.a.createEditorState(null)}),w()(d()(d()(e)),"removeRow",function(){var n=e.state.selectedRowIndex;n>=0&&e.setState({selectedRowIndex:-1},function(){e.props.editor.draftInstance.blur(),s(function(){var r=V.removeRow(e.props.editorState,e.tableKey,n);e.props.editor.setValue(e.validateContent(r))})})}),w()(d()(d()(e)),"mergeCells",function(){var n=e.state,r=n.selectedCells,i=n.cellsMergeable;i&&r.length>1&&e.setState({selectedCells:[r[0]],cellSplittable:!0,cellsMergeable:!1,selectedRowIndex:-1,selectedColumnIndex:-1},function(){e.props.editor.setValue(V.mergeCells(e.props.editorState,e.tableKey,r))})}),w()(d()(d()(e)),"splitCell",function(){var n=e.state,r=n.selectedCells,i=n.cellSplittable;i&&r.length===1&&e.setState({cellSplittable:!1,cellsMergeable:!1,selectedRowIndex:-1,selectedColumnIndex:-1},function(){e.props.editor.setValue(V.splitCell(e.props.editorState,e.tableKey,r[0]))})}),w()(d()(d()(e)),"removeTable",function(){e.props.editor.setValue(V.removeTable(e.props.editorState,e.tableKey))}),e.language=ue(u.editor),e}return z()(f,[{key:"componentDidMount",value:function(){this.renderCells(this.props),document.body.addEventListener("keydown",this.handleKeyDown,!1),document.body.addEventListener("mousemove",this.handleMouseMove,!1),document.body.addEventListener("mouseup",this.handleMouseUp,!1)}},{key:"componentWillReceiveProps",value:function(e){this.renderCells(e)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleKeyDown,!1),document.body.removeEventListener("mousemove",this.handleMouseMove,!1),document.body.removeEventListener("mouseup",this.handleMouseUp,!1)}},{key:"getResizeOffset",value:function(e){var n=0,r=0,i=this.state,c=i.colToolHandlers,a=i.defaultColWidth;return n=-1*((c[this.__colResizeIndex-1].width||a)-30),r=(c[this.__colResizeIndex].width||a)-30,e=e<n?n:e,e=e>r?r:e,e}},{key:"adjustToolbarHandlers",value:function(){var e=this,n=!1,r=v()(this.state.rowToolHandlers);Object.keys(this.__rowRefs).forEach(function(i){var c=e.__rowRefs[i]?e.__rowRefs[i].getBoundingClientRect().height:40;r[i]&&r[i].height!==c&&(n=!0,r[i].height=c)}),n&&this.setState({rowToolHandlers:r})}},{key:"updateCellsData",value:function(e){this.props.editor.setValue(V.updateAllTableBlocks(this.props.editorState,this.tableKey,e))}},{key:"renderCells",value:function(e){var n=this;e=e||this.props,this.colLength=0;var r=[],i=[],c=[],a=e,l=a.editorState,o=a.children,g=this.__tableRef.getBoundingClientRect().width;this.__startCellKey=o[0].key,this.__endCellKey=o[o.length-1].key,o.forEach(function(I,E){var T=l.getCurrentContent().getBlockForKey(I.key),R=T.getData(),S=R.get("tableKey"),L=R.get("colIndex")*1,A=R.get("rowIndex")*1,F=R.get("colSpan"),$=R.get("rowSpan");if(n.tableKey=S,A===0){for(var j=R.get("colgroupData")||[],ve=j.reduce(function(me,pe){return me+pe.width*1},0),le=(R.get("colSpan")||1)*1,Z=n.colLength;Z<n.colLength+le;Z++)i[Z]={key:I.key,width:n.state.colToolHandlers[Z]?n.state.colToolHandlers[Z].width:j[Z]?j[Z].width/ve*g*1:0};n.colLength+=le}for(var ie=C.a.cloneElement(I,{"data-active":!!~n.state.selectedCells.indexOf(I.key),"data-row-index":A,"data-col-index":L||(r[A]||[]).length,"data-cell-index":E,"data-cell-key":I.key,"data-table-key":S,className:"bf-table-cell ".concat(I.props.className),colSpan:F,rowSpan:$,onClick:n.selectCell,onContextMenu:n.handleCellContexrMenu,onMouseDown:n.handleCellMouseDown,onMouseUp:n.handleCellMouseUp,onMouseEnter:n.handleCellMouseEnter}),Q=A;Q<A+$;Q++)c[Q]={key:I.key,height:0},r[Q]=r[Q]||[];r[A]?r[A].push(ie):r[A]=[ie]});var x=g/this.colLength;this.setState({tableRows:r,colToolHandlers:i,rowToolHandlers:c,defaultColWidth:x},this.adjustToolbarHandlers)}},{key:"createColGroup",value:function(){var e=this;return C.a.createElement("colgroup",null,this.state.colToolHandlers.map(function(n,r){return C.a.createElement("col",{ref:function(c){return e.__colRefs[r]=c},width:n.width||e.state.defaultColWidth,key:r})}))}},{key:"createColTools",value:function(){var e=this,n=this.state,r=n.colResizing,i=n.colResizeOffset,c=n.colToolHandlers,a=n.selectedColumnIndex,l=n.defaultColWidth;return C.a.createElement("div",{"data-active":a>=0,contentEditable:!1,"data-key":"bf-col-toolbar",className:"bf-table-col-tools".concat(r?" resizing":""),onMouseDown:this.handleToolbarMouseDown},c.map(function(o,g){return C.a.createElement("div",{key:g,"data-key":o.key,"data-index":g,"data-active":a==g,className:"bf-col-tool-handler",style:{width:o.width||l},onClick:e.selectColumn},e.props.columnResizable&&g!==0?C.a.createElement("div",{"data-index":g,"data-key":o.key,className:"bf-col-resizer".concat(r&&e.__colResizeIndex===g?" active":""),style:r&&e.__colResizeIndex===g?{transform:"translateX(".concat(i,"px)")}:null,onMouseDown:e.handleColResizerMouseDown}):null,C.a.createElement("div",{className:"bf-col-tool-left"},C.a.createElement("div",{"data-index":g,"data-role":"insert-column",className:"bf-insert-col-before",onClick:e.insertColumn},C.a.createElement("i",{className:"bfi-add"}))),C.a.createElement("div",{className:"bf-col-tool-center"},C.a.createElement("div",{"data-index":g,"data-role":"remove-col",className:"bf-remove-col",onClick:e.removeColumn},C.a.createElement("i",{className:"bfi-bin"}))),C.a.createElement("div",{className:"bf-col-tool-right"},C.a.createElement("div",{"data-index":g+1,"data-role":"insert-column",className:"bf-insert-col-after",onClick:e.insertColumn},C.a.createElement("i",{className:"bfi-add"}))))}))}},{key:"createRowTools",value:function(){var e=this,n=this.state,r=n.rowToolHandlers,i=n.selectedRowIndex;return C.a.createElement("div",{"data-active":i>=0,contentEditable:!1,className:"bf-table-row-tools",onMouseDown:this.handleToolbarMouseDown},r.map(function(c,a){return C.a.createElement("div",{key:a,"data-key":c.key,"data-index":a,"data-active":i==a,className:"bf-row-tool-handler",style:{height:c.height},onClick:e.selectRow},C.a.createElement("div",{className:"bf-row-tool-up"},C.a.createElement("div",{"data-index":a,"data-role":"insert-row",className:"bf-insert-row-before",onClick:e.insertRow},C.a.createElement("i",{className:"bfi-add"}))),C.a.createElement("div",{className:"bf-row-tool-center"},C.a.createElement("div",{"data-index":a,"data-role":"remove-row",className:"bf-remove-row",onClick:e.removeRow},C.a.createElement("i",{className:"bfi-bin"}))),C.a.createElement("div",{className:"bf-row-tool-down"},C.a.createElement("div",{"data-index":a+1,"data-role":"insert-row",className:"bf-insert-row-after",onClick:e.insertRow},C.a.createElement("i",{className:"bfi-add"}))))}))}},{key:"createContextMenu",value:function(){var e=this.state,n=e.cellsMergeable,r=e.cellSplittable,i=e.contextMenuPosition;return i?C.a.createElement("div",{className:"bf-table-context-menu",onContextMenu:this.handleContextMenuContextMenu,contentEditable:!1,style:i},C.a.createElement("div",{className:"context-menu-item",onMouseDown:this.mergeCells,"data-disabled":!n},this.language.mergeCells),C.a.createElement("div",{className:"context-menu-item",onMouseDown:this.splitCell,"data-disabled":!r},this.language.splitCell),C.a.createElement("div",{className:"context-menu-item",onMouseDown:this.removeTable},this.language.removeTable)):null}},{key:"render",value:function(){var e=this,n=this.state,r=n.tableRows,i=n.dragSelecting,c=n.draggingRectBounding,a=this.props.editor.props.readOnly;return C.a.createElement("div",{className:"bf-table-container"},C.a.createElement("table",{"data-role":"table",className:"bf-table".concat(i?" dragging":""),ref:function(o){return e.__tableRef=o},onMouseDown:this.handleTableMouseDown,onMouseUp:this.hanldeTableMouseUp,onMouseMove:this.handleTableMouseMove,onMouseLeave:this.handleTableMouseLeave},this.createColGroup(),C.a.createElement("tbody",null,r.map(function(l,o){return C.a.createElement("tr",{ref:function(x){return e.__rowRefs[o]=x},key:o},l)}))),i?C.a.createElement("div",{className:"dragging-rect",style:c}):null,!a&&this.createContextMenu(),!a&&this.createColTools(),!a&&this.createRowTools())}}]),f}(C.a.Component),ge=function(f){return function(u){return O.a.Map({"table-cell":{element:"td",wrapper:C.a.createElement(fe,{columnResizable:f.columnResizable,editor:u.editor,editorState:u.editorState})}})}}}).call(this,t(49).setImmediate)},function(y,h,t){"use strict";var s={rows:"\u884C\u6570",columns:"\u5217\u6570",cancel:"\u53D6\u6D88",insertTable:"\u63D2\u5165",removeTable:"\u5220\u9664\u8868\u683C",insertColumn:"\u63D2\u5165\u5217",removeColumn:"\u5220\u9664\u5217",insertRow:"\u63D2\u5165\u884C",removeRow:"\u5220\u9664\u884C",mergeCells:"\u5408\u5E76\u5355\u5143\u683C",splitCell:"\u62C6\u5206\u5355\u5143\u683C"},m={rows:"\u884C\u6570",columns:"\u5217\u6570",cancel:"\u53D6\u6D88",insertTable:"\u63D2\u5165",removeTable:"\u5220\u9664\u8868\u683C",insertColumn:"\u63D2\u5165\u5217",removeColumn:"\u5220\u9664\u5217",insertRow:"\u63D2\u5165\u884C",removeRow:"\u5220\u9664\u884C",mergeCells:"\u5408\u5E76\u5355\u5143\u683C",splitCell:"\u62C6\u5206\u5355\u5143\u683C"},p={rows:"Rows",columns:"Columns",cancel:"Cancel",insertTable:"Insert",removeTable:"Remove Table",insertColumn:"Insert Column",removeColumn:"Remove Column",insertRow:"Insert Row",removeRow:"Remove Row",mergeCells:"Merge Cells",splitCell:"Split Cell"},b={rows:"Wiersz",columns:"Kolumn\u0119",cancel:"Anuluj",insertTable:"Wstaw",removeTable:"Usu\u0144 tabel\u0119",insertColumn:"Wstaw kolumn\u0119",removeColumn:"Usu\u0144 kolumn\u0119",insertRow:"Wstaw wiersz",removeRow:"Usu\u0144 wiersz",mergeCells:"Scal kom\xF3rki",splitCell:"Podziel kom\xF3rk\u0119"},v={rows:"\uD589\uC218",columns:"\uC5F4\uC218",cancel:"\uCDE8\uC18C",insertTable:"\uC0BD\uC785",removeTable:"\uC591\uC2DD\uC0AD\uC81C",insertColumn:"\uC5F4\uC0BD\uC785",removeColumn:"\uC5F4\uC0AD\uC81C",insertRow:"\uD589\uC0BD\uC785",removeRow:"\uD589\uC0AD\uC81C",mergeCells:"\uD589\uC0BD\uC785",splitCell:"\uC140\uBD84\uD560"},B={rows:"\u884C\u6570",columns:"\u5217\u6570",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",insertTable:"\u633F\u5165\u3059\u308B",removeTable:"\u30D5\u30A9\u30FC\u30E0\u3092\u524A\u9664",insertColumn:"\u5217\u3092\u633F\u5165",removeColumn:"\u5217\u3092\u524A\u9664",insertRow:"\u884C\u3092\u633F\u5165",removeRow:"\u884C\u3092\u524A\u9664",mergeCells:"\u30BB\u30EB\u3092\u7D50\u5408",splitCell:"\u5206\u5272\u30BB\u30EB"},P={rows:"Linhas",columns:"Colunas",cancel:"Cancelar",insertTable:"Inserir",removeTable:"Remover Tabela",insertColumn:"Inserir Coluna",removeColumn:"Remover Coluna",insertRow:"Inserir Linha",removeRow:"Remover Linha",mergeCells:"Mesclar",splitCell:"Dividir"},M={rows:"Rijen",columns:"Kolommen",cancel:"Annuleer",insertTable:"Invoegen",removeTable:"Verwijder Tabel",insertColumn:"Voeg kolom in",removeColumn:"Verwijder kolom",insertRow:"Voeg rij in",removeRow:"Verwijder rij",mergeCells:"Samenvoegen cellen",splitCell:"Split cell"};h.a={zh:s,zhHant:m,en:p,pl:b,jpn:B,kr:v,pt_br:P,nl:M}},,function(y,h){function t(s){if(Array.isArray(s))return s}y.exports=t},function(y,h){function t(s,m){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]"){var p=[],b=!0,v=!1,B=void 0;try{for(var P=s[Symbol.iterator](),M;!(b=(M=P.next()).done)&&(p.push(M.value),!(m&&p.length===m));b=!0);}catch(z){v=!0,B=z}finally{try{!b&&P.return!=null&&P.return()}finally{if(v)throw B}}return p}}y.exports=t},function(y,h){function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}y.exports=t},function(y,h){function t(s){if(Array.isArray(s)){for(var m=0,p=new Array(s.length);m<s.length;m++)p[m]=s[m];return p}}y.exports=t},function(y,h){function t(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}y.exports=t},function(y,h){function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}y.exports=t},,,function(y,h,t){},,,,,,,,function(y,h){y.exports=oe},,,,,,,,,,function(y,h,t){(function(s){var m=typeof s!="undefined"&&s||typeof self!="undefined"&&self||window,p=Function.prototype.apply;h.setTimeout=function(){return new b(p.call(setTimeout,m,arguments),clearTimeout)},h.setInterval=function(){return new b(p.call(setInterval,m,arguments),clearInterval)},h.clearTimeout=h.clearInterval=function(v){v&&v.close()};function b(v,B){this._id=v,this._clearFn=B}b.prototype.unref=b.prototype.ref=function(){},b.prototype.close=function(){this._clearFn.call(m,this._id)},h.enroll=function(v,B){clearTimeout(v._idleTimeoutId),v._idleTimeout=B},h.unenroll=function(v){clearTimeout(v._idleTimeoutId),v._idleTimeout=-1},h._unrefActive=h.active=function(v){clearTimeout(v._idleTimeoutId);var B=v._idleTimeout;B>=0&&(v._idleTimeoutId=setTimeout(function(){v._onTimeout&&v._onTimeout()},B))},t(50),h.setImmediate=typeof self!="undefined"&&self.setImmediate||typeof s!="undefined"&&s.setImmediate||this&&this.setImmediate,h.clearImmediate=typeof self!="undefined"&&self.clearImmediate||typeof s!="undefined"&&s.clearImmediate||this&&this.clearImmediate}).call(this,t(19))},function(y,h,t){(function(s,m){(function(p,b){"use strict";if(p.setImmediate)return;var v=1,B={},P=!1,M=p.document,z;function _(C){typeof C!="function"&&(C=new Function(""+C));for(var k=new Array(arguments.length-1),O=0;O<k.length;O++)k[O]=arguments[O+1];var ae={callback:C,args:k};return B[v]=ae,z(v),v++}function ee(C){delete B[C]}function X(C){var k=C.callback,O=C.args;switch(O.length){case 0:k();break;case 1:k(O[0]);break;case 2:k(O[0],O[1]);break;case 3:k(O[0],O[1],O[2]);break;default:k.apply(b,O);break}}function H(C){if(P)setTimeout(H,0,C);else{var k=B[C];if(k){P=!0;try{X(k)}finally{ee(C),P=!1}}}}function N(){z=function(C){m.nextTick(function(){H(C)})}}function D(){if(p.postMessage&&!p.importScripts){var C=!0,k=p.onmessage;return p.onmessage=function(){C=!1},p.postMessage("","*"),p.onmessage=k,C}}function K(){var C="setImmediate$"+Math.random()+"$",k=function(O){O.source===p&&typeof O.data=="string"&&O.data.indexOf(C)===0&&H(+O.data.slice(C.length))};p.addEventListener?p.addEventListener("message",k,!1):p.attachEvent("onmessage",k),z=function(O){p.postMessage(C+O,"*")}}function d(){var C=new MessageChannel;C.port1.onmessage=function(k){var O=k.data;H(O)},z=function(k){C.port2.postMessage(k)}}function se(){var C=M.documentElement;z=function(k){var O=M.createElement("script");O.onreadystatechange=function(){H(k),O.onreadystatechange=null,C.removeChild(O),O=null},C.appendChild(O)}}function w(){z=function(C){setTimeout(H,0,C)}}var J=Object.getPrototypeOf&&Object.getPrototypeOf(p);J=J&&J.setTimeout?J:p,{}.toString.call(p.process)==="[object process]"?N():D()?K():p.MessageChannel?d():M&&"onreadystatechange"in M.createElement("script")?se():w(),J.setImmediate=_,J.clearImmediate=ee})(typeof self=="undefined"?typeof s=="undefined"?this:s:self)}).call(this,t(19),t(51))},function(y,h){var t=y.exports={},s,m;function p(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=p}catch(D){s=p}try{typeof clearTimeout=="function"?m=clearTimeout:m=b}catch(D){m=b}})();function v(D){if(s===setTimeout)return setTimeout(D,0);if((s===p||!s)&&setTimeout)return s=setTimeout,setTimeout(D,0);try{return s(D,0)}catch(K){try{return s.call(null,D,0)}catch(d){return s.call(this,D,0)}}}function B(D){if(m===clearTimeout)return clearTimeout(D);if((m===b||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(D);try{return m(D)}catch(K){try{return m.call(null,D)}catch(d){return m.call(this,D)}}}var P=[],M=!1,z,_=-1;function ee(){!M||!z||(M=!1,z.length?P=z.concat(P):_=-1,P.length&&X())}function X(){if(!M){var D=v(ee);M=!0;for(var K=P.length;K;){for(z=P,P=[];++_<K;)z&&z[_].run();_=-1,K=P.length}z=null,M=!1,B(D)}}t.nextTick=function(D){var K=new Array(arguments.length-1);if(arguments.length>1)for(var d=1;d<arguments.length;d++)K[d-1]=arguments[d];P.push(new H(D,K)),P.length===1&&!M&&v(X)};function H(D,K){this.fun=D,this.array=K}H.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function N(){}t.on=N,t.addListener=N,t.once=N,t.off=N,t.removeListener=N,t.removeAllListeners=N,t.emit=N,t.prependListener=N,t.prependOnceListener=N,t.listeners=function(D){return[]},t.binding=function(D){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(D){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(y,h,t){"use strict";t.r(h);var s=t(5),m=t.n(s),p=t(31),b=t(1),v=t.n(b),B=t(6),P=t(3),M=t(7),z=function(a){return function(l,o,g){if(a&&a(l,o,g)==="handled")return"handled";if(l==="backspace"){var x=o.getCurrentContent(),I=o.getSelection().getFocusOffset();if(I===0){var E=B.ContentUtils.getSelectionBlock(o),T=x.getBlockBefore(E.getKey());if(!T)return"not-handled";if(T.getType()==="table-cell"){var R=T.getData().get("tableKey");return g.setValue(M.removeTable(o,R)),"handled"}}}var S=B.ContentUtils.getSelectedBlocks(o);if(!S.find(function($){return $.getType()==="table-cell"}))return"not-handled";var L=B.ContentUtils.getSelectionBlock(o);if(["backspace","delete"].indexOf(l)>-1){if(S.length>1)return"handled";var A=L.getLength();if(A===0)return"handled";var F=o.getSelection().getFocusOffset();if(l==="backspace"&&F===0||l==="delete"&&F===A)return"handled"}else if(l==="tab")return"handled"}},_=function(a){return function(l,o,g){if(a&&a(l,o,g)==="handled")return"handled";if(!B.ContentUtils.selectionContainsBlockType(o,"table-cell"))return"not-handled";var x=B.ContentUtils.getSelectionBlockType(o);return x!=="table-cell"?"not-handled":(g.setValue(P.RichUtils.insertSoftNewline(o)),"handled")}},ee=function(a){return function(l,o,g){if(a&&a(l,o,g)==="handled")return"handled";if(!B.ContentUtils.selectionContainsBlockType(g.state.editorState,"table-cell"))return"not-handled";var x=B.ContentUtils.getSelectionBlock(g.state.editorState);if(x.getType()==="table-cell")return"handled"}},X=function(a){return function(l,o){if(a&&a(l,o)==="handled")return"handled";if(!B.ContentUtils.selectionContainsBlockType(o.state.editorState,"table-cell"))return"not-handled";var g=B.ContentUtils.getSelectionBlock(o.state.editorState);if(g.getType()==="table-cell")return"handled"}},H=function(a){return function(l,o,g,x){if(a&&a(l,o,g,x)==="handled")return"handled";var I=B.ContentUtils.getSelectedBlocks(x.state.editorState);return I.find(function(E){return E.getType()==="table-cell"})?(I.length===1&&x.setValue(B.ContentUtils.insertText(x.state.editorState,l)),"handled"):"not-handled"}},N=t(20),D=t(8),K=t.n(D),d=t(9),se=t.n(d),w=t(10),J=t.n(w),C=t(11),k=t.n(C),O=t(12),ae=t.n(O),V=t(0),Y=t.n(V),de=t(2),G=t.n(de),ue=function(c){ae()(a,c);function a(){var l,o;K()(this,a);for(var g=arguments.length,x=new Array(g),I=0;I<g;I++)x[I]=arguments[I];return o=J()(this,(l=k()(a)).call.apply(l,[this].concat(x))),G()(Y()(Y()(o)),"state",{rows:3,columns:3}),G()(Y()(Y()(o)),"inputValue",function(E){o.setState(G()({},E.target.name,E.target.value))}),G()(Y()(Y()(o)),"confirmInsert",function(){o.props.onConfirm(o.state)}),G()(Y()(Y()(o)),"cancelInsert",function(){o.props.onCancel()}),o}return se()(a,[{key:"componentDidMount",value:function(){this.setState({rows:this.props.defaultRows,columns:this.props.defaultColumns})}},{key:"render",value:function(){return v.a.createElement("div",{className:"bf-table-dropdown-control"},v.a.createElement("input",{placeholder:this.props.language.columns,className:"input",type:"text",name:"columns",value:this.state.columns,onChange:this.inputValue}),v.a.createElement("label",{className:"label"},"x"),v.a.createElement("input",{placeholder:this.props.language.rows,className:"input",type:"text",name:"rows",value:this.state.rows,onChange:this.inputValue}),v.a.createElement("button",{disabled:!this.state.rows||!this.state.columns,className:"button primary",onClick:this.confirmInsert},this.props.language.insertTable))}}]),a}(v.a.Component),fe=function(a){return a?Array.prototype.map.call(a.querySelectorAll("col"),function(l){return{width:l.width?l.width*1:0}}):[]},ge=function(a){return a&&a.colgroupData&&a.colgroupData.length?"<colgroup>".concat(a.colgroupData.map(function(l){return'<col width="'.concat(l.width,'"></col>')}).join(""),"</colgroup>"):""},U=[],f=function(a,l){if(a!=="body"&&l&&l.querySelector&&l.querySelector(":scope > table")&&l.parentNode.insertBefore(l.querySelector(":scope > table"),l.nextSibling),a==="table"&&(U=fe(l.querySelector("colgroup")),Object(M.rebuildTableNode)(l)),a==="th"||a==="td"){var o=l.dataset.tableKey,g=l.dataset.colIndex*1,x=l.dataset.rowIndex*1,I=l.colSpan,E=l.rowSpan,T={tableKey:o,colIndex:g,rowIndex:x,colSpan:I,rowSpan:E,colgroupData:U};return T.isHead=a==="th",l.style&&l.style.textAlign?T.textAlign=l.style.textAlign:l.align&&(T.textAlign=l.align),{type:"table-cell",data:T}}return null},u=function(a){return function(l,o){if(o.type.toLowerCase()!=="table-cell")return null;var g=l.getBlockBefore(o.key),x=l.getBlockAfter(o.key),I=g?g.getType():null,E=g?g.getData().toJS():{},T=x?x.getType():null,R=x?x.getData().toJS():{},S="",L="",A="";return o.data.textAlign&&(A+=' style="text-align:'.concat(o.data.textAlign,';"')),I!=="table-cell"?S="<table ".concat(a,">").concat(ge(o.data),"<tr><td").concat(A,' colSpan="').concat(o.data.colSpan,'" rowSpan="').concat(o.data.rowSpan,'">'):E.rowIndex!==o.data.rowIndex?S="<tr><td".concat(A,' colSpan="').concat(o.data.colSpan,'" rowSpan="').concat(o.data.rowSpan,'">'):S="<td".concat(A,' colSpan="').concat(o.data.colSpan,'" rowSpan="').concat(o.data.rowSpan,'">'),T!=="table-cell"?L="</td></tr></table>":R.rowIndex!==o.data.rowIndex?L="</td></tr>":L="</td>",I||(S="<p></p>"+S),T||(L+="<p></p>"),{start:S,end:L}}};t.d(h,"dropdownInstance",function(){return e}),t.d(h,"TableUtils",function(){return r}),B.ContentUtils.registerStrictBlockType("table-cell");var e=null,n=function(a){return e=a},r=M,i=h.default=function(c){c=m()({defaultColumns:3,defaultRows:3,withDropdown:!1,columnResizable:!1,exportAttrString:""},c);var a=c,l=a.includeEditors,o=a.excludeEditors,g=a.defaultColumns,x=a.defaultRows,I=a.withDropdown,E=a.exportAttrString,T=I?{type:"control",includeEditors:l,excludeEditors:o,control:function(S){var L=Object(N.a)(S.editor);return{key:"table",replace:"table",type:"dropdown",title:L.insertTable,text:v.a.createElement("i",{className:"bfi-table"}),showArrow:!1,autoHide:!0,ref:n,component:v.a.createElement(ue,{language:L,defaultRows:x,defaultColumns:g,onConfirm:function(F){var $=F.columns,j=F.rows;S.editor.setValue(r.insertTable(S.editorState,$,j)),e&&e.hide()}})}}}:{type:"control",includeEditors:l,excludeEditors:o,control:function(S){return{key:"table",replace:"table",type:"button",title:Object(N.a)(S.editor).insertTable,text:v.a.createElement("i",{className:"bfi-table"}),onClick:function(){S.editor.setValue(r.insertTable(S.editorState,g,x))}}}};return[T,{type:"prop-interception",includeEditors:l,excludeEditors:o,interceptor:function(S){return S.handleKeyCommand=z(S.handleKeyCommand),S.handleReturn=_(S.handleReturn),S.handleDroppedFiles=ee(S.handleDroppedFiles),S.handlePastedFiles=X(S.handlePastedFiles),S.handlePastedText=H(S.handlePastedText),S}},{type:"block",name:"table-cell",includeEditors:l,excludeEditors:o,renderMap:Object(N.b)(c),importer:f,exporter:u(E)}]}}])})}}]);
