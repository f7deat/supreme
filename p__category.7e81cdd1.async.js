(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[634],{43347:function(J,E,e){"use strict";e.d(E,{Z:function(){return Z}});var f=e(28991),m=e(67294),h={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},d=h,y=e(27029),l=function(O,x){return m.createElement(y.Z,(0,f.Z)((0,f.Z)({},O),{},{ref:x,icon:d}))};l.displayName="InboxOutlined";var Z=m.forwardRef(l)},64317:function(J,E,e){"use strict";var f=e(22122),m=e(28991),h=e(81253),d=e(67294),y=e(88063),l=e(22270),Z=e(66758),P=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],O=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],x=d.forwardRef(function(a,C){var U=a.fieldProps,L=a.children,R=a.params,W=a.proFieldProps,w=a.mode,z=a.valueEnum,H=a.request,g=a.showSearch,D=a.options,$=(0,h.Z)(a,P),b=(0,d.useContext)(Z.Z);return d.createElement(y.Z,(0,f.Z)({mode:"edit",valueEnum:(0,l.h)(z),request:H,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({options:D,mode:w,showSearch:g,getPopupContainer:b.getPopupContainer},U),ref:C,proFieldProps:W},$),L)}),N=d.forwardRef(function(a,C){var U=a.fieldProps,L=a.children,R=a.params,W=a.proFieldProps,w=a.mode,z=a.valueEnum,H=a.request,g=a.options,D=(0,h.Z)(a,O),$=(0,m.Z)({options:g,mode:w||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},U),b=(0,d.useContext)(Z.Z);return d.createElement(y.Z,(0,f.Z)({mode:"edit",valueEnum:(0,l.h)(z),request:H,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({getPopupContainer:b.getPopupContainer},$),ref:C,proFieldProps:W},D),L)}),s=x,j=N,o=s;o.SearchSelect=j,o.displayName="ProFormComponent",E.Z=o},90672:function(J,E,e){"use strict";var f=e(22122),m=e(81253),h=e(67294),d=e(88063),y=["fieldProps","proFieldProps"],l=function(P,O){var x=P.fieldProps,N=P.proFieldProps,s=(0,m.Z)(P,y);return h.createElement(d.Z,(0,f.Z)({ref:O,mode:"edit",valueType:"textarea",fieldProps:x,proFieldProps:N},s))};E.Z=h.forwardRef(l)},5966:function(J,E,e){"use strict";var f=e(22122),m=e(81253),h=e(67294),d=e(88063),y=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],Z="text",P=function(s){var j=s.fieldProps,o=s.proFieldProps,a=(0,m.Z)(s,y);return h.createElement(d.Z,(0,f.Z)({mode:"edit",valueType:Z,fieldProps:j,filedConfig:{valueType:Z},proFieldProps:o},a))},O=function(s){var j=s.fieldProps,o=s.proFieldProps,a=(0,m.Z)(s,l);return h.createElement(d.Z,(0,f.Z)({mode:"edit",valueType:"password",fieldProps:j,proFieldProps:o,filedConfig:{valueType:Z}},a))},x=P;x.Password=O,x.displayName="ProFormComponent",E.Z=x},28391:function(J,E,e){"use strict";e.r(E),e.d(E,{default:function(){return je}});var f=e(12968),m=e(62462),h=e(62350),d=e(75443),y=e(57663),l=e(71577),Z=e(49111),P=e(19650),O=e(94233),x=e(51890),N=e(34792),s=e(48086),j=e(3182),o=e(2824),a=e(94043),C=e.n(a),U=e(70844),L=e(27019),R=e(21010),W=e(91816),w=e(8212),z=e(73171),H=e(49101),g=e(51742),D=e(5966),$=e(90672),b=e(64317),ce=e(71975),p=e(67294),me=e(26667),Je=e(57338),ve=e(25084),pe=e(92374),t=e(85893),fe=function(S){var I=(0,p.useRef)(),Y=function(){var F=(0,j.Z)(C().mark(function i(M){return C().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",(0,pe.Pq)(S.id,M));case 1:case"end":return V.stop()}},i)}));return function(M){return F.apply(this,arguments)}}(),B=[{title:"#",dataIndex:"index",valueType:"indexBorder",width:36},{title:"Ti\xEAu \u0111\u1EC1",dataIndex:"title"},{title:"L\u01B0\u1EE3t xem",dataIndex:"view",search:!1}];return(0,t.jsx)(ve.Z,{visible:S.visible,onClose:function(){return S.onClose(!1)},width:window.innerWidth-window.innerWidth/2,children:(0,t.jsx)(L.ZP,{request:Y,rowKey:"id",columns:B,actionRef:I})})},he=fe,Qe=e(71194),Pe=e(50146),q=e(11849),Xe=e(43185),xe=e(11324),ge=e(43347),Ee=function(S){var I=xe.Z.Dragger,Y={name:"file",multiple:!0,action:"/api/category/import",onChange:function(i){var M=i.file.status;M!=="uploading"&&console.log(i.file,i.fileList),M==="done"?s.default.success("".concat(i.file.name," file uploaded successfully.")):M==="error"&&s.default.error("".concat(i.file.name," file upload failed."))},onDrop:function(i){console.log("Dropped files",i.dataTransfer.files)}},B=function(){S.setVisible(!1)};return(0,t.jsx)(Pe.Z,{title:"Import Categories",visible:S.visible,onOk:B,onCancel:function(){return S.setVisible(!1)},children:(0,t.jsxs)(I,(0,q.Z)((0,q.Z)({},Y),{},{children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(ge.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))})},Ze=Ee,Ce=e(9602),ye=function(){var S=(0,R.YB)(),I=(0,p.useRef)(),Y=(0,p.useState)(),B=(0,o.Z)(Y,2),F=B[0],i=B[1],M=(0,p.useState)(),X=(0,o.Z)(M,2),V=X[0],Se=X[1],Te=(0,p.useState)(),ee=(0,o.Z)(Te,2),Oe=ee[0],k=ee[1],De=(0,p.useState)(!1),te=(0,o.Z)(De,2),Ie=te[0],ae=te[1],Fe=(0,p.useState)(!1),re=(0,o.Z)(Fe,2),Me=re[0],ne=re[1],Re=(0,p.useState)(0),se=(0,o.Z)(Re,2),be=se[0],Ae=se[1],Ne=(0,p.useState)(!1),le=(0,o.Z)(Ne,2),Le=le[0],oe=le[1],We=(0,p.useState)([]),ie=(0,o.Z)(We,2),de=ie[0],Be=ie[1],K=(0,p.useRef)();(0,p.useEffect)(function(){(0,g.rB)().then(function(c){return Se(c.map(function(r){return{value:r.id,label:r.name}}))})},[]);var ue=function(){de.length>0||(0,g.aE)().then(function(r){Be(r.map(function(n,u){return{value:u,label:n}}))})},Ve=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},r)})},Ke=function(){var c=(0,j.Z)(C().mark(function r(n){var u,v,A,Q;return C().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!n.id){T.next=7;break}return T.next=3,(0,g.yr)(n);case 3:u=T.sent,u.succeeded?(s.default.success("succeeded!"),i(!1),(v=K.current)===null||v===void 0||v.reload()):s.default.error(u.message),T.next=11;break;case 7:return T.next=9,(0,g.i8)(n);case 9:A=T.sent,A.succeeded?(s.default.success("succeeded!"),i(!1),(Q=K.current)===null||Q===void 0||Q.reload()):s.default.error(A.message);case 11:case"end":return T.stop()}},r)}));return function(n){return c.apply(this,arguments)}}(),Ue=function(){var r;ue(),(r=I.current)===null||r===void 0||r.resetFields(),k(""),i(!0)},we=function(r){(0,g.uu)(r).then(function(n){if(n.succeeded){var u;K==null||(u=K.current)===null||u===void 0||u.reload(),s.default.success(n.message)}else s.default.error(n.message)})},ze=function(r){ue(),(0,g.n3)(r).then(function(){var n=(0,j.Z)(C().mark(function u(v){var A;return C().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return i(!0),G.next=3,Ve();case 3:(A=I.current)===null||A===void 0||A.setFields([{name:"id",value:v.id},{name:"name",value:v.name},{name:"normalizeName",value:v.normalizeName},{name:"description",value:v.description},{name:"parrentId",value:v.parrentId},{name:"status",value:v.status},{name:"thumbnail",value:v.thumbnail},{name:"type",value:v.type}]),k(v.thumbnail);case 5:case"end":return G.stop()}},u)}));return function(u){return n.apply(this,arguments)}}())},He=function(r){Ae(r),ne(!0)},$e=[{title:"T\xEAn",dataIndex:"name",render:function(r,n){return(0,t.jsxs)(P.Z,{children:[(0,t.jsx)(x.C,{src:n.thumbnail}),(0,t.jsx)("a",{href:"".concat(Ce.Z.domain,"/details/").concat(n.id),target:"_blank",rel:"noreferrer",children:r})]})},width:200},{title:"M\xF4 t\u1EA3",dataIndex:"description",search:!1},{title:(0,t.jsx)(R._H,{id:"global.status",defaultMessage:"Status"}),dataIndex:"status",valueEnum:{0:{text:"Draft",status:"Default"},1:{text:"Active",status:"Processing"}},width:150},{title:(0,t.jsx)(R._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",width:150,render:function(r,n){return[(0,t.jsx)(l.Z,{icon:(0,t.jsx)(W.Z,{}),onClick:function(){return He(n.id)}},0),(0,t.jsx)(l.Z,{type:"primary",icon:(0,t.jsx)(w.Z,{}),onClick:function(){return ze(n.id)}},1),(0,t.jsx)(d.Z,{title:"Are you sure to delete this?",onConfirm:function(){return we(n.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(l.Z,{type:"primary",danger:!0,icon:(0,t.jsx)(z.Z,{})})},2)]}}],Ye=function(r){var n;(n=I.current)===null||n===void 0||n.setFieldsValue({thumbnail:r}),k(r)},Ge=function(){return(0,t.jsxs)(P.Z,{children:[(0,t.jsx)(l.Z,{type:"primary",danger:!0,onClick:function(){return oe(!0)},children:"Import"},0),(0,t.jsx)(l.Z,{type:"primary",icon:(0,t.jsx)(H.Z,{}),onClick:Ue,children:"Th\xEAm m\u1EDBi"},1)]})};return(0,t.jsxs)(U.ZP,{extra:(0,t.jsx)(Ge,{}),children:[(0,t.jsx)(L.ZP,{headerTitle:S.formatMessage({id:"menu.blog.category",defaultMessage:"Categry"}),rowKey:"id",search:{layout:"vertical"},request:g.CP,columns:$e,rowSelection:{},actionRef:K}),(0,t.jsxs)(ce.Z,{title:"Manager",formRef:I,onVisibleChange:i,visible:F,autoFocusFirstInput:!0,drawerProps:{forceRender:!0,destroyOnClose:!0},onFinish:Ke,children:[(0,t.jsx)(D.Z,{name:"id",hidden:!0}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(D.Z,{name:"name",label:"T\xEAn danh m\u1EE5c",className:"w-full"})}),(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(D.Z,{name:"normalizeName",label:"Normalize name",tooltip:"Name without special character",className:"w-full"})})]}),(0,t.jsx)($.Z,{name:"description",label:"Description"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(b.Z,{options:V,name:"parrentId",label:"Danh m\u1EE5c cha",className:"w-full"})}),(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(b.Z,{className:"w-full",initialValue:1,options:[{value:0,label:"Draft"},{value:1,label:"Active"}],name:"status",label:"Tr\u1EA1ng th\xE1i"})})]}),(0,t.jsx)(b.Z,{options:de,name:"type",label:"Type",className:"w-full"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-grow",children:(0,t.jsx)(D.Z,{name:"thumbnail",className:"w-full"})}),(0,t.jsx)(l.Z,{style:{marginBottom:24},icon:(0,t.jsx)(W.Z,{}),onClick:function(){return ae(!0)},children:"Explorer"})]}),(0,t.jsx)(m.Z,{src:Oe})]}),(0,t.jsx)(me.Z,{visible:Ie,onVisibleChange:ae,onSelect:Ye}),(0,t.jsx)(he,{visible:Me,onClose:ne,id:be}),(0,t.jsx)(Ze,{visible:Le,setVisible:oe})]})},je=ye}}]);
