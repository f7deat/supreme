(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[634],{87123:function(Q,D,e){"use strict";e.r(D),e.d(D,{default:function(){return ne}});var $=e(12968),m=e(62462),K=e(49111),s=e(19650),h=e(62350),B=e(75443),S=e(57663),v=e(71577),b=e(34792),g=e(48086),C=e(3182),E=e(2824),j=e(94043),x=e.n(j),T=e(70844),O=e(27019),p=e(43581),U=e(8212),P=e(73171),a=e(49101),i=e(91816),r=e(51742),n=e(5966),J=e(90672),N=e(64317),V=e(952),X=e(71975),y=e(67294),ve=e(57338),k=e(25084),q=e(92374),t=e(85893),_=function(w){var I=[{title:"#",render:function(G,W,Z){return Z+1}},{title:(0,t.jsx)(p._H,{defaultMessage:"Name",id:"global.name"}),dataIndex:"name"}];return(0,t.jsx)(k.Z,{visible:w.visible,width:window.innerWidth-400,onClose:function(){return w.onFinish(!1)},children:(0,t.jsx)(O.ZP,{columns:I,request:q.ad})})},ee=_,te=function(){var w=(0,p.YB)(),I=(0,y.useRef)(),F=(0,y.useState)(),G=(0,E.Z)(F,2),W=G[0],Z=G[1],ae=(0,y.useState)(),z=(0,E.Z)(ae,2),se=z[0],ue=z[1],ie=(0,y.useState)(),H=(0,E.Z)(ie,2),le=H[0],oe=H[1],de=(0,y.useState)(!1),Y=(0,E.Z)(de,2),ce=Y[0],L=Y[1],M=(0,y.useRef)();(0,y.useEffect)(function(){(0,r.rB)().then(function(f){return ue(f.map(function(l){return{value:l.id,label:l.name}}))})},[]);var me=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(u){setTimeout(function(){u(!0)},l)})},fe=function(){var f=(0,C.Z)(x().mark(function l(u){var o,d;return x().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!u.id){c.next=7;break}return c.next=3,(0,r.yr)(u);case 3:o=c.sent,o.succeeded?(g.default.success("succeeded!"),Z(!1)):g.default.error(o.message),c.next=11;break;case 7:return c.next=9,(0,r.i8)(u);case 9:d=c.sent,d.succeeded?(g.default.success("succeeded!"),Z(!1)):g.default.error(d.message);case 11:case"end":return c.stop()}},l)}));return function(u){return f.apply(this,arguments)}}(),he=function(l){(0,r.uu)(l).then(function(u){if(u.succeeded){var o;M==null||(o=M.current)===null||o===void 0||o.reload(),g.default.success(u.message)}else g.default.error(u.message)})},ge=function(l){(0,r.n3)(l).then(function(){var u=(0,C.Z)(x().mark(function o(d){var R;return x().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return Z(!0),A.next=3,me();case 3:(R=I.current)===null||R===void 0||R.setFields([{name:"id",value:d.id},{name:"name",value:d.name},{name:"normalizeName",value:d.normalizeName},{name:"description",value:d.description},{name:"parrentId",value:d.parrentId},{name:"status",value:d.status},{name:"thumbnail",value:d.thumbnail}]),oe(d.thumbnail);case 5:case"end":return A.stop()}},o)}));return function(o){return u.apply(this,arguments)}}())},pe=[{title:"T\xEAn",dataIndex:"name",width:200},{title:"M\xF4 t\u1EA3",dataIndex:"description"},{title:(0,t.jsx)(p._H,{id:"global.status",defaultMessage:"Status"}),dataIndex:"status",valueEnum:{0:{text:"\u0110ang \u1EA9n",status:"Default"},1:{text:"Ho\u1EA1t \u0111\u1ED9ng",status:"Processing"}},width:150},{title:(0,t.jsx)(p._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(l,u){return[(0,t.jsx)(v.Z,{type:"primary",icon:(0,t.jsx)(U.Z,{}),onClick:function(){return ge(u.id)}}),(0,t.jsx)(B.Z,{title:"Are you sure to delete this?",onConfirm:function(){return he(u.id)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(v.Z,{type:"primary",danger:!0,icon:(0,t.jsx)(P.Z,{})})})]}}];return(0,t.jsxs)(T.ZP,{title:"Danh m\u1EE5c",children:[(0,t.jsx)(O.ZP,{headerTitle:w.formatMessage({id:"pages.searchTable.title",defaultMessage:"Enquiry form"}),rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsx)(v.Z,{type:"primary",danger:!0,children:"Import"}),(0,t.jsx)(v.Z,{type:"primary",icon:(0,t.jsx)(a.Z,{}),onClick:function(){return Z(!0)},children:"Th\xEAm m\u1EDBi"})]},request:r.CP,columns:pe,rowSelection:{},actionRef:M}),(0,t.jsxs)(X.Z,{title:"Manager",formRef:I,onVisibleChange:Z,visible:W,autoFocusFirstInput:!0,drawerProps:{forceRender:!0,destroyOnClose:!0},onFinish:fe,width:736,children:[(0,t.jsx)(n.Z,{name:"id",hidden:!0}),(0,t.jsxs)(V.ZP.Group,{children:[(0,t.jsx)(n.Z,{name:"name",width:"md",label:"T\xEAn danh m\u1EE5c"}),(0,t.jsx)(n.Z,{width:"md",name:"normalizeName",label:"Normalize name",tooltip:"Name without special character"})]}),(0,t.jsx)(J.Z,{name:"description",label:"Description"}),(0,t.jsxs)(V.ZP.Group,{children:[(0,t.jsx)(N.Z,{options:se,width:"md",name:"parrentId",label:"Danh m\u1EE5c cha"}),(0,t.jsx)(N.Z,{width:"md",initialValue:1,options:[{value:0,label:"Draft"},{value:1,label:"Active"}],name:"status",label:"Tr\u1EA1ng th\xE1i"})]}),(0,t.jsxs)(s.Z,{align:"end",children:[(0,t.jsx)(n.Z,{name:"thumbnail",label:"Thumbnail",width:"xl"}),(0,t.jsx)(v.Z,{style:{marginBottom:24},icon:(0,t.jsx)(i.Z,{}),onClick:function(){return L(!0)},children:"Explorer"})]}),(0,t.jsx)(m.Z,{src:le})]}),(0,t.jsx)(ee,{visible:ce,onVisibleChange:L,onFinish:L})]})},ne=te},51742:function(Q,D,e){"use strict";e.d(D,{KQ:function(){return B},CP:function(){return v},i8:function(){return g},yr:function(){return E},rB:function(){return x},uu:function(){return O},n3:function(){return U}});var $=e(11849),m=e(3182),K=e(94043),s=e.n(K),h=e(61685);function B(){return S.apply(this,arguments)}function S(){return S=(0,m.Z)(s().mark(function a(){return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.Z)("/category/all",{method:"GET"}));case 1:case"end":return r.stop()}},a)})),S.apply(this,arguments)}function v(a){return b.apply(this,arguments)}function b(){return b=(0,m.Z)(s().mark(function a(i){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.Z)("/category/list",{method:"GET",params:(0,$.Z)({},i)}));case 1:case"end":return n.stop()}},a)})),b.apply(this,arguments)}function g(a){return C.apply(this,arguments)}function C(){return C=(0,m.Z)(s().mark(function a(i){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.Z)("/category/add",{method:"POST",data:i}));case 1:case"end":return n.stop()}},a)})),C.apply(this,arguments)}function E(a){return j.apply(this,arguments)}function j(){return j=(0,m.Z)(s().mark(function a(i){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.Z)("/category/update",{method:"POST",data:i}));case 1:case"end":return n.stop()}},a)})),j.apply(this,arguments)}function x(){return T.apply(this,arguments)}function T(){return T=(0,m.Z)(s().mark(function a(){return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.Z)("/category/list-parrent",{method:"GET"}));case 1:case"end":return r.stop()}},a)})),T.apply(this,arguments)}function O(a){return p.apply(this,arguments)}function p(){return p=(0,m.Z)(s().mark(function a(i){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.Z)("/category/delete/".concat(i),{method:"DELETE"}));case 1:case"end":return n.stop()}},a)})),p.apply(this,arguments)}function U(a){return P.apply(this,arguments)}function P(){return P=(0,m.Z)(s().mark(function a(i){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.Z)("/category/".concat(i),{method:"GET"}));case 1:case"end":return n.stop()}},a)})),P.apply(this,arguments)}}}]);
